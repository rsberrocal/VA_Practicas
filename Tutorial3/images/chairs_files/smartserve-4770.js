/**
 * @file Smartserve JS Library
 * @author Qubit Digital (http://qubit.com)
 * @license Copyright 2020, Qubit Digital Ltd. All Rights Reserved
 * @ssgVersion 2020-09-28T13:35:35@3a37aab
 * @smartserveVersion latest
 * @builtAt 2020-10-11T03:13:49
 * @compiler webpack
 */
var __smartserveStartTime=(new Date).getTime();!(function(){function __assign__(e){"use strict";if(e===undefined||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==undefined&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){console.log("GetURLParameter"+e);for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function GetURLParameter(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}}function getCookie(e){var t=document.cookie,n=t.indexOf(" "+e+"=");if(-1==n&&(n=t.indexOf(e+"=")),-1==n)t=null;else{n=t.indexOf("=",n)+1;var i=t.indexOf(";",n);-1==i&&(i=t.length),t=unescape(t.substring(n,i))}return t}var console=window.console;console||(console={log:function(){}}),console.error||(console.error=console.log),console.info||(console.info=console.log),console.warn||(console.warn=console.log);try{var colors={tivoli:{primary:"#000000",primary2:"#40bac4",secondary:"rgba(64, 186, 196, 0.9)",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_TRIVOLI.png",src:"https://www.tivolihotels.com"},anantara:{primary:"#b3a258",secondary:"rgb(159, 143, 72)",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_ANANTARA.png",src:"https://www.anantara.com/"},avani:{primary:"#350827",secondary:"rgba(53, 8, 39, 0.9);",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_AVANI.png",src:"https://www.avanihotels.com"},oaks:{primary:"#00539f",secondary:"rgba(0, 83, 159, 0.9)",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_OAKS.png",src:"https://www.oakshotels.com/"},elewana:{primary:"#d0aa69",secondary:"B48638",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_ELEWARA.png",src:"https://www.elewanacollection.com/"},nhow:{primary:"#643c95",secondary:"rgba(100, 60, 149, 0.9)",logo:"https://www.nh-hotels.com/images_ns/qubit/minor/white/_NHOW.png",src:"https://www.nhow-hotels.com/"}}}catch(e){console.error("Error executing Qubit Experience 161613 global code: "+e.message),console.error(e)}!(function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=141)})([(function(e,t){function n(e){if(!e)return"";try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}function i(e){return e&&"function"==typeof e&&c.test(n(e))}var r=Function.prototype.toString,o=Object.prototype.hasOwnProperty,a=/[\\^$.*+?()[\]{}|]/g,s=r.call(o).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),c=RegExp("^"+s+"$"),u=Object.assign,l=Array.prototype.forEach,d=Array.prototype.every,p=Array.prototype.filter,f=Array.prototype.find,m=Array.prototype.indexOf,v=Array.isArray,g=Object.keys,h=Array.prototype.map,b=Array.prototype.reduce,y=Array.prototype.slice,w=Array.prototype.some,x=Object.values,_={assign:i(u)?u:function(e){for(var t=arguments,n=arguments.length,i=1;i<n;i++){var r=t[i];for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e},bind:function(e,t){var n=_.slice(arguments,2);return function(){return e.apply(t,n.concat(_.slice(arguments)))}},debounce:function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},each:i(l)?function(e,t,n){return l.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=0;r<i;r++)t.call(n,e[r],r,e)},every:i(d)?function(e,t,n){return d.call(e,t,n)}:function(e,t,n){if(!e||!t)throw new TypeError;for(var i=0;i<e.length;i++)if(!t.call(n,e[i],i,e))return!1;return!0},filter:i(p)?function(e,t,n){return p.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=[],o=0;o<i;o++)t.call(n,e[o],o,e)&&r.push(e[o]);return r},find:i(f)?function(e,t,n){return f.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=0;r<i;r++)if(t.call(n,e[r],r,e))return e[r]},get:function(e,t){return _.reduce(t.split("."),(function(e,t){return void 0!==e&&null!==e?e[t]:undefined}),e)},identity:function(e){return e},indexOf:i(m)?function(e,t){return m.call(e,t)}:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]===t)return i;return-1},invoke:function(e,t){var n=_.slice(arguments,2);return _.map(e,(function(e){return e[t].apply(e,n)}))},isArray:i(v)?function(e){return v(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isMatch:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0},isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},keys:i(g)?g:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},map:i(h)?function(e,t,n){return h.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=new Array(i),o=0;o<i;o++)r[o]=t.call(n,e[o],o,e);return r},matches:function(e){return function(t){return _.isMatch(t,e)}},not:function(e){return!e},objectEach:function(e,t,n){return _.each(_.keys(e),(function(i){return t.call(n,e[i],i,e)}),n)},objectMap:function(e,t,n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=t.call(n,e[r],r,e));return i},objectReduce:function(e,t,n){var i=n;for(var r in e)e.hasOwnProperty(r)&&(i=t(i,e[r],r,e));return i},pick:function(e,t){var n={};return _.each(t,(function(t){"undefined"!=typeof e[t]&&(n[t]=e[t])})),n},pluck:function(e,t){for(var n=e.length,i=[],r=0;r<n;r++)e[r]&&(i[r]=e[r][t]);return i},reduce:i(b)?function(e,t,n){return b.call(e,t,n)}:function(e,t,n){for(var i=n,r=e.length,o=0;o<r;o++)i=t(i,e[o],o,e);return i},set:function(e,t,n){if(!e)return e;if("object"!=typeof e&&"function"!=typeof e)return e;var i,r=t.split("."),o=e;do{i=r.shift(),"object"!=typeof o[i]&&(o[i]={}),r.length?o=o[i]:o[i]=n}while(r.length);return e},slice:i(y)?function(e,t,n){return t=t||0,n="number"==typeof n?n:e.length,y.call(e,t,n)}:function(e,t,n){t=t||0,n="number"==typeof n?n:e.length;var i=null==e?0:e.length;if(!i)return[];t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var r=-1,o=new Array(i);++r<i;)o[r]=e[r+t];return o},some:i(w)?function(e,t,n){return w.call(e,t,n)}:function(e,t,n){if(!e||!t)throw new TypeError;for(var i=0;i<e.length;i++)if(t.call(n,e[i],i,e))return!0;return!1},unique:function(e){return _.reduce(e,(function(e,t){return-1===_.indexOf(e,t)&&e.push(t),e}),[])},values:i(x)?x:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},name:"slapdash",version:"1.3.3"};_.objectMap.asArray=function(e,t,n){return _.map(_.keys(e),(function(i){return t.call(n,e[i],i,e)}),n)},e.exports=_}),(function(e,t,n){var i;!(function(r,o){function a(e){var t=ce[e]={};return ne.each(e.split(oe),(function(e,n){t[n]=!0})),t}function s(e,t,n){if(n===o&&1===e.nodeType){var i="data-"+t.replace(le,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ue.test(n)?ne.parseJSON(n):n)}catch(e){}ne.data(e,t,n)}else n=o}return n}function c(e){var t;for(t in e)if(("data"!==t||!ne.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(){return!1}function l(){return!0}function d(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function p(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function f(e,t,n){if(t=t||0,ne.isFunction(t))return ne.grep(e,(function(e,i){return!!t.call(e,i,e)===n}));if(t.nodeType)return ne.grep(e,(function(e,i){return e===t===n}));if("string"==typeof t){var i=ne.grep(e,(function(e){return 1===e.nodeType}));if(Re.test(t))return ne.filter(t,i,!n);t=ne.filter(t,i)}return ne.grep(e,(function(e,i){return ne.inArray(e,t)>=0===n}))}function m(e){var t=Ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function v(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function g(e,t){if(1===t.nodeType&&ne.hasData(e)){var n,i,r,o=ne._data(e),a=ne._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)ne.event.add(t,n,s[n][i])}a.data&&(a.data=ne.extend({},a.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.support.html5Clone&&e.innerHTML&&!ne.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Fe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(ne.expando))}function b(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function y(e){Fe.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=lt.length;r--;)if((t=lt[r]+n)in e)return t;return i}function x(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)}function _(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)n=e[o],n.style&&(r[o]=ne._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&x(n)&&(r[o]=ne._data(n,"olddisplay",A(n.nodeName)))):(i=Je(n,"display"),r[o]||"none"===i||ne._data(n,"olddisplay",i)));for(o=0;o<a;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function k(e,t,n){var i=it.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=ne.css(e,n+ut[r],!0)),i?("content"===n&&(o-=parseFloat(Je(e,"padding"+ut[r]))||0),"margin"!==n&&(o-=parseFloat(Je(e,"border"+ut[r]+"Width"))||0)):(o+=parseFloat(Je(e,"padding"+ut[r]))||0,"padding"!==n&&(o+=parseFloat(Je(e,"border"+ut[r]+"Width"))||0));return o}function I(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=ne.support.boxSizing&&"border-box"===ne.css(e,"boxSizing");if(i<=0||null==i){if(i=Je(e,t),(i<0||null==i)&&(i=e.style[t]),rt.test(i))return i;r=o&&(ne.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(o?"border":"content"),r)+"px"}function A(e){if(at[e])return at[e];var t=ne("<"+e+">").appendTo(V.body),n=t.css("display");return t.remove(),"none"!==n&&""!==n||(Ke=V.body.appendChild(Ke||ne.extend(V.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ye&&Ke.createElement||(Ye=(Ke.contentWindow||Ke.contentDocument).document,Ye.write("<!doctype html><html><body>"),Ye.close()),t=Ye.body.appendChild(Ye.createElement(e)),n=Je(t,"display"),V.body.removeChild(Ke)),at[e]=n,n}function S(e,t,n,i){var r;if(ne.isArray(t))ne.each(t,(function(t,r){n||ft.test(e)?i(e,r):S(e+"["+("object"==typeof r?t:"")+"]",r,n,i)}));else if(n||"object"!==ne.type(t))i(e,t);else for(r in t)S(e+"["+r+"]",t[r],n,i)}function E(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,a=t.toLowerCase().split(oe),s=0,c=a.length;if(ne.isFunction(n))for(;s<c;s++)i=a[s],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function C(e,t,n,i,r,a){r=r||t.dataTypes[0],a=a||{},a[r]=!0;for(var s,c=e[r],u=0,l=c?c.length:0,d=e===Ct;u<l&&(d||!s);u++)"string"==typeof(s=c[u](t,n,i))&&(!d||a[s]?s=o:(t.dataTypes.unshift(s),s=C(e,t,n,i,s,a)));return!d&&s||a["*"]||(s=C(e,t,n,i,"*",a)),s}function R(e,t){var n,i,r=ne.ajaxSettings.flatOptions||{};for(n in t)t[n]!==o&&((r[n]?e:i||(i={}))[n]=t[n]);i&&ne.extend(!0,e,i)}function j(e,t,n){var i,r,a,s,c=e.contents,u=e.dataTypes,l=e.responseFields;for(r in l)r in n&&(t[l[r]]=n[r]);for(;"*"===u[0];)u.shift(),i===o&&(i=e.mimeType||t.getResponseHeader("content-type"));if(i)for(r in c)if(c[r]&&c[r].test(i)){u.unshift(r);break}if(u[0]in n)a=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){a=r;break}s||(s=r)}a=a||s}if(a)return a!==u[0]&&u.unshift(a),n[a]}function M(e,t){var n,i,r,o,a=e.dataTypes.slice(),s=a[0],c={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)c[n.toLowerCase()]=e.converters[n];for(;r=a[++u];)if("*"!==r){if("*"!==s&&s!==r){if(!(n=c[s+" "+r]||c["* "+r]))for(i in c)if(o=i.split(" "),o[1]===r&&(n=c[s+" "+o[0]]||c["* "+o[0]])){!0===n?n=c[i]:!0!==c[i]&&(r=o[0],a.splice(u--,0,r));break}if(!0!==n)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}function N(){try{return new r.XMLHttpRequest}catch(e){}}function O(){try{return new r.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function P(){return setTimeout((function(){Bt=o}),0),Bt=ne.now()}function L(e,t){ne.each(t,(function(t,n){for(var i=(Vt[t]||[]).concat(Vt["*"]),r=0,o=i.length;r<o;r++)if(i[r].call(e,t,n))return}))}function q(e,t,n){var i,r=0,o=Gt.length,a=ne.Deferred().always((function(){delete s.elem})),s=function(){for(var t=Bt||P(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(i);return a.notifyWith(e,[c,i,n]),i<1&&o?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Bt||P(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=ne.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){for(var n=0,i=t?c.tweens.length:0;n<i;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(D(u,c.opts.specialEasing);r<o;r++)if(i=Gt[r].call(c,e,u,c.opts))return i;return L(c,u),ne.isFunction(c.opts.start)&&c.opts.start.call(e,c),ne.fx.timer(ne.extend(s,{anim:c,queue:c.opts.queue,elem:e})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function D(e,t){var n,i,r,o,a;for(n in e)if(i=ne.camelCase(n),r=t[i],o=e[n],ne.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=ne.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function B(e,t,n){var i,r,o,a,s,c,u,l,d=this,p=e.style,f={},m=[],v=e.nodeType&&x(e);n.queue||(u=ne._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,l=u.empty.fire,u.empty.fire=function(){u.unqueued||l()}),u.unqueued++,d.always((function(){d.always((function(){u.unqueued--,ne.queue(e,"fx").length||u.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===ne.css(e,"display")&&"none"===ne.css(e,"float")&&(ne.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.support.shrinkWrapBlocks||d.done((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})));for(i in t)if(o=t[i],Ut.exec(o)){if(delete t[i],o===(v?"hide":"show"))continue;m.push(i)}if(a=m.length)for(s=ne._data(e,"fxshow")||ne._data(e,"fxshow",{}),v?ne(e).show():d.done((function(){ne(e).hide()})),d.done((function(){var t;ne.removeData(e,"fxshow",!0);for(t in f)ne.style(e,t,f[t])})),i=0;i<a;i++)r=m[i],c=d.createTween(r,v?s[r]:0),f[r]=s[r]||ne.style(e,r),r in s||(s[r]=c.start,v&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}function H(e,t,n,i,r){return new H.prototype.init(e,t,n,i,r)}function U(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n=ut[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e){return ne.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var z,G,V=r.document,$=r.location,Q=r.navigator,W=r.jQuery,J=r.$,K=Array.prototype.push,Y=Array.prototype.slice,X=Array.prototype.indexOf,Z=Object.prototype.toString,ee=Object.prototype.hasOwnProperty,te=String.prototype.trim,ne=function(e,t){return new ne.fn.init(e,t,z)},ie=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,re=/\S/,oe=/\s+/,ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return(t+"").toUpperCase()},DOMContentLoaded=function(){V.addEventListener?(V.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),ne.ready()):"complete"===V.readyState&&(V.detachEvent("onreadystatechange",DOMContentLoaded),ne.ready())},class2type={},ne.fn=ne.prototype={constructor:ne,init:function(e,t,n){var i,r,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:se.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1])return t=t instanceof ne?t[0]:t,a=t&&t.nodeType?t.ownerDocument||t:V,e=ne.parseHTML(i[1],a,!0),rsingleTag.test(i[1])&&ne.isPlainObject(t)&&this.attr.call(e,t,!0),ne.merge(this,e);if((r=V.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return n.find(e);this.length=1,this[0]=r}return this.context=V,this.selector=e,this}return ne.isFunction(e)?n.ready(e):(e.selector!==o&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))},selector:"",jquery:"1.8.2-patched",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=ne.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return ne.each(this,e,t)},ready:function(e){return ne.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(ne.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},ne.fn.init.prototype=ne.fn,ne.extend=ne.fn.extend=function(){var e,t,n,i,r,a,s=arguments,c=arguments[0]||{},u=1,l=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},u=2),"object"==typeof c||ne.isFunction(c)||(c={}),l===u&&(c=this,--u);u<l;u++)if(null!=(e=s[u]))for(t in e)n=c[t],i=e[t],"__proto__"!==t&&c!==i&&(d&&i&&(ne.isPlainObject(i)||(r=ne.isArray(i)))?(r?(r=!1,a=n&&ne.isArray(n)?n:[]):a=n&&ne.isPlainObject(n)?n:{},c[t]=ne.extend(d,a,i)):i!==o&&(c[t]=i));return c},ne.extend({noConflict:function(e){return r.$===ne&&(r.$=J),e&&r.jQuery===ne&&(r.jQuery=W),ne},isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){if(!0===e?!--ne.readyWait:!ne.isReady){if(!V.body)return setTimeout(ne.ready,1);ne.isReady=!0,!0!==e&&--ne.readyWait>0||(G.resolveWith(V,[ne]),ne.fn.trigger&&ne(V).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray||function(e){return"array"===ne.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):class2type[Z.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==ne.type(e)||e.nodeType||ne.isWindow(e))return!1;try{if(e.constructor&&!ee.call(e,"constructor")&&!ee.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===o||ee.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||V,(i=rsingleTag.exec(e))?[t.createElement(i[1])]:(i=ne.buildFragment([e],t,n?null:[]),ne.merge([],(i.cacheable?ne.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=ne.trim(e),r.JSON&&r.JSON.parse?r.JSON.parse(e):rvalidchars.test(e.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))?new Function("return "+e)():void ne.error("Invalid JSON: "+e)):null},parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{r.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=o}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&re.test(e)&&(r.execScript||function(e){r.eval.call(r,e)})(e)},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,r=0,a=e.length,s=a===o||ne.isFunction(e);if(n)if(s){for(i in e)if(!1===t.apply(e[i],n))break}else for(;r<a&&!1!==t.apply(e[r++],n););else if(s){for(i in e)if(!1===t.call(e[i],i,e[i]))break}else for(;r<a&&!1!==t.call(e[r],r,e[r++]););return e},trim:te&&!te.call("\ufeff\xa0")?function(e){return null==e?"":te.call(e)}:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=ne.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||ne.isWindow(e)?K.call(i,e):ne.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,r=0;if("number"==typeof n)for(;r<n;r++)e[i++]=t[r];else for(;t[r]!==o;)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;o<a;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,n){var i,r,a=[],s=0,c=e.length;if(e instanceof ne||c!==o&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||ne.isArray(e)))for(;s<c;s++)null!=(i=t(e[s],s,n))&&(a[a.length]=i);else for(r in e)null!=(i=t(e[r],r,n))&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),ne.isFunction(e)?(i=Y.call(arguments,2),r=function(){return e.apply(t,i.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ne.guid++,r):o},access:function(e,t,n,i,r,a,s){var c,u=null==n,l=0,d=e.length;if(n&&"object"==typeof n){for(l in n)ne.access(e,t,l,n[l],1,a,i);r=1}else if(i!==o){if(c=s===o&&ne.isFunction(i),u&&(c?(c=t,t=function(e,t,n){return c.call(ne(e),n)}):(t.call(e,i),t=null)),t)for(;l<d;l++)t(e[l],n,c?i.call(e[l],l,t(e[l],n)):i,s);r=1}return r?e:u?t.call(e):d?t(e[0],n):a},now:function(){return(new Date).getTime()}}),ne.ready.promise=function(e){if(!G)if(G=ne.Deferred(),"complete"===V.readyState)setTimeout(ne.ready,1);else if(V.addEventListener)V.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),r.addEventListener("load",ne.ready,!1);else{V.attachEvent("onreadystatechange",DOMContentLoaded),r.attachEvent("onload",ne.ready);var t=!1;try{t=null==r.frameElement&&V.documentElement}catch(e){}t&&t.doScroll&&(function e(){if(!ne.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}ne.ready()}})()}return G.promise(e)},ne.each("Boolean Number String Function Array Date RegExp Object".split(" "),(function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()})),z=ne(V);var ce={};ne.Callbacks=function(e){e="string"==typeof e?ce[e]||a(e):ne.extend({},e);var t,n,i,r,s,c,u=[],l=!e.once&&[],d=function(o){for(t=e.memory&&o,n=!0,c=r||0,r=0,s=u.length,i=!0;u&&c<s;c++)if(!1===u[c].apply(o[0],o[1])&&e.stopOnFalse){t=!1;break}i=!1,u&&(l?l.length&&d(l.shift()):t?u=[]:p.disable())},p={add:function(){if(u){var n=u.length;!(function t(n){ne.each(n,(function(n,i){var r=ne.type(i);"function"!==r||e.unique&&p.has(i)?i&&i.length&&"string"!==r&&t(i):u.push(i)}))})(arguments),i?s=u.length:t&&(r=n,d(t))}return this},remove:function(){return u&&ne.each(arguments,(function(e,t){for(var n;(n=ne.inArray(t,u,n))>-1;)u.splice(n,1),i&&(n<=s&&s--,n<=c&&c--)})),this},has:function(e){return ne.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=l=t=o,this},disabled:function(){return!u},lock:function(){return l=o,t||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||n&&!l||(i?l.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred((function(n){ne.each(t,(function(t,i){var o=i[0],a=e[t];r[i[1]](ne.isFunction(a)?function(){var e=a.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])})),e=null})).promise()},promise:function(e){return null!=e?ne.extend(e,i):i}},r={};return i.pipe=i.then,ne.each(t,(function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&ne.isFunction(e.promise)?a:0,c=1===s?e:ne.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Y.call(arguments):r,i===t?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&ne.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(c.reject).progress(u(r,n,t)):--s;return s||c.resolveWith(i,o),c.promise()}}),ne.support=(function(){var e,t,n,i,o,a,s,c,u,l,d,p=V.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=p.getElementsByTagName("*"),n=p.getElementsByTagName("a")[0],n.style.cssText="top:1px;float:left;opacity:.5",!t||!t.length)return{};i=V.createElement("select"),o=i.appendChild(V.createElement("option")),a=p.getElementsByTagName("input")[0],e={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!V.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==V.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===V.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,e.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!o.disabled;try{delete p.test}catch(t){e.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",d=function(){e.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",d)),a=V.createElement("input"),a.value="t",a.setAttribute("type","radio"),e.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=V.createDocumentFragment(),s.appendChild(p.lastChild),e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})c="on"+u,l=c in p,l||(p.setAttribute(c,"return;"),l="function"==typeof p[c]),e[u+"Bubbles"]=l;return ne((function(){var t,n,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=V.getElementsByTagName("body")[0];s&&(t=V.createElement("div"),t.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(t,s.firstChild),n=V.createElement("div"),t.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=n.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=l&&0===i[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===n.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,r.getComputedStyle&&(e.pixelPosition="1%"!==(r.getComputedStyle(n,null)||{}).top,e.boxSizingReliable="4px"===(r.getComputedStyle(n,null)||{width:"4px"}).width,o=V.createElement("div"),o.style.cssText=n.style.cssText=a,o.style.marginRight=o.style.width="0",n.style.width="1px",n.appendChild(o),e.reliableMarginRight=!parseFloat((r.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==n.offsetWidth,t.style.zoom=1),s.removeChild(t),t=n=i=o=null)})),s.removeChild(p),t=n=i=o=a=s=p=null,e})();var ue=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,le=/([A-Z])/g;ne.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(ne.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?ne.cache[e[ne.expando]]:e[ne.expando])&&!c(e)},data:function(e,t,n,i){if(ne.acceptData(e)){var r,a,s=ne.expando,c="string"==typeof t,u=e.nodeType,l=u?ne.cache:e,d=u?e[s]:e[s]&&s;if(d&&l[d]&&(i||l[d].data)||!c||n!==o)return d||(u?e[s]=d=ne.deletedIds.pop()||ne.guid++:d=s),l[d]||(l[d]={},u||(l[d].toJSON=ne.noop)),"object"!=typeof t&&"function"!=typeof t||(i?l[d]=ne.extend(l[d],t):l[d].data=ne.extend(l[d].data,t)),r=l[d],i||(r.data||(r.data={}),r=r.data),n!==o&&(r[ne.camelCase(t)]=n),c?null==(a=r[t])&&(a=r[ne.camelCase(t)]):a=r,a}},removeData:function(e,t,n){if(ne.acceptData(e)){var i,r,o,a=e.nodeType,s=a?ne.cache:e,u=a?e[ne.expando]:ne.expando;if(s[u]){if(t&&(i=n?s[u]:s[u].data)){ne.isArray(t)||(t in i?t=[t]:(t=ne.camelCase(t),t=t in i?[t]:t.split(" ")));for(r=0,o=t.length;r<o;r++)delete i[t[r]];if(!(n?c:ne.isEmptyObject)(i))return}(n||(delete s[u].data,c(s[u])))&&(a?ne.cleanData([e],!0):ne.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}},_data:function(e,t,n){return ne.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&ne.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),ne.fn.extend({data:function(e,t){var n,i,r,a,c,u=this[0],l=0,d=null;if(e===o){if(this.length&&(d=ne.data(u),1===u.nodeType&&!ne._data(u,"parsedAttrs"))){for(r=u.attributes,c=r.length;l<c;l++)a=r[l].name,a.indexOf("data-")||(a=ne.camelCase(a.substring(5)),s(u,a,d[a]));ne._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each((function(){ne.data(this,e)})):(n=e.split(".",2),n[1]=n[1]?"."+n[1]:"",i=n[1]+"!",ne.access(this,(function(t){if(t===o)return d=this.triggerHandler("getData"+i,[n[0]]),d===o&&u&&(d=ne.data(u,e),d=s(u,e,d)),d===o&&n[1]?this.data(n[0]):d;n[1]=t,this.each((function(){var r=ne(this);r.triggerHandler("setData"+i,n),ne.data(this,e,t),r.triggerHandler("changeData"+i,n)}))}),null,t,arguments.length>1,null,!1))},removeData:function(e){return this.each((function(){ne.removeData(this,e)}))}}),ne.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ne._data(e,t),n&&(!i||ne.isArray(n)?i=ne._data(e,t,ne.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ne.queue(e,t),i=n.length,r=n.shift(),o=ne._queueHooks(e,t),a=function(){ne.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ne._data(e,n)||ne._data(e,n,{empty:ne.Callbacks("once memory").add((function(){ne.removeData(e,t+"queue",!0),ne.removeData(e,n,!0)}))})}}),ne.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ne.queue(this[0],e):t===o?this:this.each((function(){var n=ne.queue(this,e,t);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ne.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){ne.dequeue(this,e)}))},delay:function(e,t){return e=ne.fx?ne.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,(function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ne.Deferred(),a=this,s=this.length,c=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=o),e=e||"fx";s--;)(n=ne._data(a[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(c));return c(),r.promise(t)}});var de,pe,fe,me=/[\t\r\n]/g,ve=/\r/g,ge=/^(?:button|input)$/i,he=/^(?:button|input|object|select|textarea)$/i,be=/^a(?:rea|)$/i,ye=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,we=ne.support.getSetAttribute;ne.fn.extend({attr:function(e,t){return ne.access(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){ne.removeAttr(this,e)}))},prop:function(e,t){return ne.access(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ne.propFix[e]||e,this.each((function(){try{this[e]=o,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,i,r,o,a,s;if(ne.isFunction(e))return this.each((function(t){ne(this).addClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e)for(t=e.split(oe),n=0,i=this.length;n<i;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;a<s;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");r.className=ne.trim(o)}else r.className=e;return this},removeClass:function(e){var t,n,i,r,a,s,c;if(ne.isFunction(e))return this.each((function(t){ne(this).removeClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e||e===o)for(t=(e||"").split(oe),s=0,c=this.length;s<c;s++)if(i=this[s],1===i.nodeType&&i.className){for(n=(" "+i.className+" ").replace(me," "),r=0,a=t.length;r<a;r++)for(;n.indexOf(" "+t[r]+" ")>=0;)n=n.replace(" "+t[r]+" "," ");i.className=e?ne.trim(n):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return ne.isFunction(e)?this.each((function(n){ne(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var r,o=0,a=ne(this),s=t,c=e.split(oe);r=c[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else"undefined"!==n&&"boolean"!==n||(this.className&&ne._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ne._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(me," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ne.isFunction(e),this.each((function(n){var r,a=ne(this);1===this.nodeType&&(r=i?e.call(this,n,a.val()):e,null==r?r="":"number"==typeof r?r+="":ne.isArray(r)&&(r=ne.map(r,(function(e){return null==e?"":e+""}))),(t=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,r,"value")!==o||(this.value=r))}));if(r)return(t=ne.valHooks[r.type]||ne.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(r,"value"))!==o?n:(n=r.value,"string"==typeof n?n.replace(ve,""):null==n?"":n)}}}),ne.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,o=e.selectedIndex,a=[],s=e.options,c="select-one"===e.type;if(o<0)return null;for(n=c?o:0,i=c?o+1:s.length;n<i;n++)if(r=s[n],r.selected&&(ne.support.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!ne.nodeName(r.parentNode,"optgroup"))){if(t=ne(r).val(),c)return t;a.push(t)}return c&&!a.length&&s.length?ne(s[o]).val():a},set:function(e,t){var n=ne.makeArray(t);return ne(e).find("option").each((function(){this.selected=ne.inArray(ne(this).val(),n)>=0})),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,t,n,i){var r,a,s,c=e.nodeType;if(e&&3!==c&&8!==c&&2!==c)return i&&ne.isFunction(ne.fn[t])?ne(e)[t](n):"undefined"==typeof e.getAttribute?ne.prop(e,t,n):(s=1!==c||!ne.isXMLDoc(e),s&&(t=t.toLowerCase(),a=ne.attrHooks[t]||(ye.test(t)?pe:de)),n!==o?null===n?void ne.removeAttr(e,t):a&&"set"in a&&s&&(r=a.set(e,n,t))!==o?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&s&&null!==(r=a.get(e,t))?r:(r=e.getAttribute(t),null===r?o:r))},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&1===e.nodeType)for(i=t.split(oe);a<i.length;a++)(r=i[a])&&(n=ne.propFix[r]||r,o=ye.test(r),o||ne.attr(e,r,""),e.removeAttribute(we?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(ge.test(e.nodeName)&&e.parentNode)ne.error("type property can't be changed");else if(!ne.support.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return de&&ne.nodeName(e,"button")?de.get(e,t):t in e?e.value:null},set:function(e,t,n){if(de&&ne.nodeName(e,"button"))return de.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var i,r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ne.isXMLDoc(e),a&&(t=ne.propFix[t]||t,r=ne.propHooks[t]),n!==o?r&&"set"in r&&(i=r.set(e,n,t))!==o?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):he.test(e.nodeName)||be.test(e.nodeName)&&e.href?0:o}}}}),pe={get:function(e,t){var n,i=ne.prop(e,t);return!0===i||"boolean"!=typeof i&&(n=e.getAttributeNode(t))&&!1!==n.nodeValue?t.toLowerCase():o},set:function(e,t,n){var i;return!1===t?ne.removeAttr(e,n):(i=ne.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},we||(fe={name:!0,id:!0,coords:!0},de=ne.valHooks.button={get:function(e,t){var n;return n=e.getAttributeNode(t),n&&(fe[t]?""!==n.value:n.specified)?n.value:o},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=V.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},ne.each(["width","height"],(function(e,t){ne.attrHooks[t]=ne.extend(ne.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),ne.attrHooks.contenteditable={get:de.get,set:function(e,t,n){""===t&&(t="false"),de.set(e,t,n)}}),ne.support.hrefNormalized||ne.each(["href","src","width","height"],(function(e,t){ne.attrHooks[t]=ne.extend(ne.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null===n?o:n}})})),ne.support.style||(ne.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||o},set:function(e,t){return e.style.cssText=t+""}}),ne.support.optSelected||(ne.propHooks.selected=ne.extend(ne.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ne.support.enctype||(ne.propFix.enctype="encoding"),ne.support.checkOn||ne.each(["radio","checkbox"],(function(){ne.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}})),ne.each(["radio","checkbox"],(function(){ne.valHooks[this]=ne.extend(ne.valHooks[this],{set:function(e,t){if(ne.isArray(t))return e.checked=ne.inArray(ne(e).val(),t)>=0}})}));var xe=/^(?:textarea|input|select)$/i,_e=/^([^\.]*|)(?:\.(.+)|)$/,ke=/(?:^|\s)hover(\.\S+|)\b/,Te=/^key/,Ie=/^(?:mouse|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Se=function(e){return ne.event.special.hover?e:e.replace(ke,"mouseenter$1 mouseleave$1")};ne.event={add:function(e,t,n,i,r){var a,s,c,u,l,d,p,f,m,v,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&n&&(a=ne._data(e))){for(n.handler&&(m=n,n=m.handler,r=m.selector),n.guid||(n.guid=ne.guid++),c=a.events,c||(a.events=c={}),s=a.handle,s||(a.handle=s=function(e){return void 0===ne||e&&ne.event.triggered===e.type?o:ne.event.dispatch.apply(s.elem,arguments)},s.elem=e),t=ne.trim(Se(t)).split(" "),u=0;u<t.length;u++)l=_e.exec(t[u])||[],d=l[1],p=(l[2]||"").split(".").sort(),g=ne.event.special[d]||{},d=(r?g.delegateType:g.bindType)||d,g=ne.event.special[d]||{},f=ne.extend({type:d,origType:l[1],data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ne.expr.match.needsContext.test(r),namespace:p.join(".")},m),v=c[d],v||(v=c[d]=[],v.delegateCount=0,g.setup&&!1!==g.setup.call(e,i,p,s)||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),r?v.splice(v.delegateCount++,0,f):v.push(f),ne.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,a,s,c,u,l,d,p,f,m,v,g=ne.hasData(e)&&ne._data(e);if(g&&(p=g.events)){for(t=ne.trim(Se(t||"")).split(" "),o=0;o<t.length;o++)if(a=_e.exec(t[o])||[],s=c=a[1],u=a[2],s){for(f=ne.event.special[s]||{},s=(i?f.delegateType:f.bindType)||s,m=p[s]||[],l=m.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<m.length;d++)v=m[d],!r&&c!==v.origType||n&&n.guid!==v.guid||u&&!u.test(v.namespace)||i&&i!==v.selector&&("**"!==i||!v.selector)||(m.splice(d--,1),v.selector&&m.delegateCount--,f.remove&&f.remove.call(e,v));0===m.length&&l!==m.length&&(f.teardown&&!1!==f.teardown.call(e,u,g.handle)||ne.removeEvent(e,s,g.handle),delete p[s])}else for(s in p)ne.event.remove(e,s+t[o],n,i,!0);ne.isEmptyObject(p)&&(delete g.handle,ne.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,n,i){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,s,c,u,l,d,p,f,m,v,g=e.type||e,h=[];if(!Ae.test(g+ne.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort()),n&&!ne.event.customEvent[g]||ne.event.global[g]))if(e="object"==typeof e?e[ne.expando]?e:new ne.Event(g,e):new ne.Event(g),e.type=g,e.isTrigger=!0,e.exclusive=s,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",n){if(e.result=o,e.target||(e.target=n),t=null!=t?ne.makeArray(t):[],t.unshift(e),p=ne.event.special[g]||{},!p.trigger||!1!==p.trigger.apply(n,t)){if(m=[[n,p.bindType||g]],!i&&!p.noBubble&&!ne.isWindow(n)){for(v=p.delegateType||g,u=Ae.test(v+g)?n:n.parentNode,l=n;u;u=u.parentNode)m.push([u,v]),l=u;l===(n.ownerDocument||V)&&m.push([l.defaultView||l.parentWindow||r,v])}for(c=0;c<m.length&&!e.isPropagationStopped();c++)u=m[c][0],e.type=m[c][1],f=(ne._data(u,"events")||{})[e.type]&&ne._data(u,"handle"),f&&f.apply(u,t),(f=d&&u[d])&&ne.acceptData(u)&&f.apply&&!1===f.apply(u,t)&&e.preventDefault();return e.type=g,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(n.ownerDocument,t)||"click"===g&&ne.nodeName(n,"a")||!ne.acceptData(n)||d&&n[g]&&("focus"!==g&&"blur"!==g||0!==e.target.offsetWidth)&&!ne.isWindow(n)&&(l=n[d],l&&(n[d]=null),ne.event.triggered=g,n[g](),ne.event.triggered=o,l&&(n[d]=l)),e.result}}else{a=ne.cache;for(c in a)a[c].events&&a[c].events[g]&&ne.event.trigger(e,t,a[c].handle.elem,!0)}}},dispatch:function(e){e=ne.event.fix(e||r.event);var t,n,i,a,s,c,u,l,d,p=(ne._data(this,"events")||{})[e.type]||[],f=p.delegateCount,m=Y.call(arguments),v=!e.exclusive&&!e.namespace,g=ne.event.special[e.type]||{},h=[];if(m[0]=e,e.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,e)){if(f&&(!e.button||"click"!==e.type))for(i=e.target;i!=this;i=i.parentNode||this)if(!0!==i.disabled||"click"!==e.type){for(s={},u=[],t=0;t<f;t++)l=p[t],d=l.selector,s[d]===o&&(s[d]=l.needsContext?ne(d,this).index(i)>=0:ne.find(d,this,null,[i]).length),s[d]&&u.push(l);u.length&&h.push({elem:i,matches:u})}for(p.length>f&&h.push({elem:this,matches:p.slice(f)}),t=0;t<h.length&&!e.isPropagationStopped();t++)for(c=h[t],e.currentTarget=c.elem,n=0;n<c.matches.length&&!e.isImmediatePropagationStopped();n++)l=c.matches[n],(v||!e.namespace&&!l.namespace||e.namespace_re&&e.namespace_re.test(l.namespace))&&(e.data=l.data,e.handleObj=l,(a=((ne.event.special[l.origType]||{}).handle||l.handler).apply(c.elem,m))!==o&&(e.result=a,!1===a&&(e.preventDefault(),e.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||V,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||a===o||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[ne.expando])return e;var t,n,i=e,r=ne.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=ne.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||V),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){ne.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=ne.extend(new ne.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ne.event.trigger(r,null,t):ne.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ne.event.handle=ne.event.dispatch,ne.removeEvent=V.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},ne.Event=function(e,t){if(!(this instanceof ne.Event))return new ne.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||ne.now(),this[ne.expando]=!0},ne.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=l;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()},isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u},ne.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector;return r&&(r===i||ne.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),ne.support.submitBubbles||(ne.event.special.submit={setup:function(){if(ne.nodeName(this,"form"))return!1;ne.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=ne.nodeName(t,"input")||ne.nodeName(t,"button")?t.form:o;n&&!ne._data(n,"_submit_attached")&&(ne.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),ne._data(n,"_submit_attached",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ne.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ne.nodeName(this,"form"))return!1;ne.event.remove(this,"._submit")}}),ne.support.changeBubbles||(ne.event.special.change={setup:function(){if(xe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ne.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),ne.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ne.event.simulate("change",this,e,!0)}))),!1;ne.event.add(this,"beforeactivate._change",(function(e){var t=e.target;xe.test(t.nodeName)&&!ne._data(t,"_change_attached")&&(ne.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||ne.event.simulate("change",this.parentNode,e,!0)})),ne._data(t,"_change_attached",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ne.event.remove(this,"._change"),!xe.test(this.nodeName)}}),ne.support.focusinBubbles||ne.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=0,i=function(e){ne.event.simulate(t,e.target,ne.event.fix(e),!0)};ne.event.special[t]={setup:function(){0==n++&&V.addEventListener(e,i,!0)},teardown:function(){0==--n&&V.removeEventListener(e,i,!0)}}})),ne.fn.extend({on:function(e,t,n,i,r){var a,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=o);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=o):null==i&&("string"==typeof t?(i=n,n=o):(i=n,n=t,t=o)),!1===i)i=u;else if(!i)return this;return 1===r&&(a=i,i=function(e){return ne().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ne.guid++)),this.each((function(){ne.event.add(this,e,i,n,t)}))},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ne(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=o),!1===n&&(n=u),this.each((function(){ne.event.remove(this,e,n,t)}))},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return ne(this.context).on(e,this.selector,t,n),this},die:function(e,t){return ne(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each((function(){ne.event.trigger(e,t,this)}))},triggerHandler:function(e,t){if(this[0])return ne.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||ne.guid++,i=0,r=function(n){var r=(ne._data(this,"lastToggle"+e.guid)||0)%i;return ne._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){ne.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Te.test(t)&&(ne.event.fixHooks[t]=ne.event.keyHooks),Ie.test(t)&&(ne.event.fixHooks[t]=ne.event.mouseHooks)})),(function(e,t){function n(e,t,n,i){n=n||[],t=t||R;var r,o,a,s,c=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==c&&9!==c)return[];if(!(a=x(t))&&!i&&(r=Z.exec(e)))if(s=r[1]){if(9===c){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&_(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return P.apply(n,L.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&le&&t.getElementsByClassName)return P.apply(n,L.call(t.getElementsByClassName(s),0)),n}return v(e.replace(J,"$1"),t,n,i,a)}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return D((function(t){return t=+t,D((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function a(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function s(e,t){var i,r,o,a,s,c,u,l=U[E][e];if(l)return t?0:l.slice(0);for(s=e,c=[],u=y.preFilter;s;){i&&!(r=K.exec(s))||(r&&(s=s.slice(r[0].length)),c.push(o=[])),i=!1,(r=Y.exec(s))&&(o.push(i=new C(r.shift())),s=s.slice(i.length),i.type=r[0].replace(J," "));for(a in y.filter)!(r=oe[a].exec(s))||u[a]&&!(r=u[a](r,R,!0))||(o.push(i=new C(r.shift())),s=s.slice(i.length),i.type=a,i.matches=r);if(!i)break}return t?s.length:s?n.error(e):U(e,c).slice(0)}function c(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=N++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,a))return t}else for(var s,c=M+" "+o+" ",u=c+h;t=t[i];)if(r||1===t.nodeType){if((s=t[E])===u)return t.sizset;if("string"==typeof s&&0===s.indexOf(c)){if(t.sizset)return t}else{if(t[E]=u,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function l(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function d(e,t,n,i,r,o){return i&&!i[E]&&(i=d(i)),r&&!r[E]&&(r=d(r,o)),D((function(o,a,s,c){if(!o||!r){var u,d,p,f=[],v=[],g=a.length,h=o||m(t||"*",s.nodeType?[s]:s,[],o),b=!e||!o&&t?h:l(h,f,e,s,c),y=n?r||(o?e:g||i)?[]:a:b;if(n&&n(b,y,s,c),i)for(p=l(y,v),i(p,[],s,c),u=p.length;u--;)(d=p[u])&&(y[v[u]]=!(b[v[u]]=d));if(o)for(u=e&&y.length;u--;)(d=y[u])&&(o[f[u]]=!(a[f[u]]=d));else y=l(y===a?y.splice(g,y.length):y),r?r(null,a,y,c):P.apply(a,y)}}))}function p(e){for(var t,n,i,r=e.length,o=y.relative[e[0].type],a=o||y.relative[" "],s=o?1:0,l=c((function(e){return e===t}),a,!0),f=c((function(e){return q.call(t,e)>-1}),a,!0),m=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):f(e,n,i))}];s<r;s++)if(n=y.relative[e[s].type])m=[c(u(m),n)];else{if(n=y.filter[e[s].type].apply(null,e[s].matches),n[E]){for(i=++s;i<r&&!y.relative[e[i].type];i++);return d(s>1&&u(m),s>1&&e.slice(0,s-1).join("").replace(J,"$1"),n,s<i&&p(e.slice(s,i)),i<r&&p(e=e.slice(i)),i<r&&e.join(""))}m.push(n)}return u(m)}function f(e,t){var i=t.length>0,r=e.length>0,o=function(a,s,c,u,d){var p,f,m,v=[],g=0,b="0",w=a&&[],x=null!=d,_=A,k=a||r&&y.find.TAG("*",d&&s.parentNode||s),T=M+=null==_?1:Math.E;for(x&&(A=s!==R&&s,h=o.el);null!=(p=k[b]);b++){if(r&&p){for(f=0;m=e[f];f++)if(m(p,s,c)){u.push(p);break}x&&(M=T,h=++o.el)}i&&((p=!m&&p)&&g--,a&&w.push(p))}if(g+=b,i&&b!==g){for(f=0;m=t[f];f++)m(w,v,s,c);if(a){if(g>0)for(;b--;)w[b]||v[b]||(v[b]=O.call(u));v=l(v)}P.apply(u,v),x&&!a&&v.length>0&&g+t.length>1&&n.uniqueSort(u)}return x&&(M=T,A=_),w};return o.el=0,i?D(o):o}function m(e,t,i,r){for(var o=0,a=t.length;o<a;o++)n(e,t[o],i,r);return i}function v(e,t,n,i,r){var o,a,c,u,l,d=s(e);d.length;if(!i&&1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&!r&&y.relative[a[1].type]){if(!(t=y.find.ID(c.matches[0].replace(re,""),t,r)[0]))return n;e=e.slice(a.shift().length)}for(o=oe.POS.test(e)?-1:a.length-1;o>=0&&(c=a[o],!y.relative[u=c.type]);o--)if((l=y.find[u])&&(i=l(c.matches[0].replace(re,""),ee.test(a[0].type)&&t.parentNode||t,r))){if(a.splice(o,1),!(e=i.length&&a.join("")))return P.apply(n,L.call(i,0)),n;break}}return k(e,d)(i,t,r,n,ee.test(e)),n}function g(){}var h,b,y,w,x,_,k,T,I,A,S=!0,E=("sizcache"+Math.random()).replace(".",""),C=String,R=e.document,j=R.documentElement,M=0,N=0,O=[].pop,P=[].push,L=[].slice,q=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},D=function(e,t){return e[E]=null==t||t,e},B=function(){var e={},t=[];return D((function(n,i){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n]=i}),e)},H=B(),U=B(),F=B(),z="[\\x20\\t\\r\\n\\f]",G="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=G.replace("w","w#"),$="\\["+z+"*("+G+")"+z+"*(?:([*^$|!~]?=)"+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+z+"*\\]",Q=":("+G+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+$+")|[^:]|\\\\.)*|.*))\\)|)",W=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),K=new RegExp("^"+z+"*,"+z+"*"),Y=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),X=new RegExp(Q),Z=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ee=/[\x20\t\r\n\f]*[+~]/,te=/h\d/i,ie=/input|select|textarea|button/i,re=/\\(?!\\)/g,oe={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),NAME:new RegExp("^\\[name=['\"]?("+G+")['\"]?\\]"),TAG:new RegExp("^("+G.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+Q),POS:new RegExp(W,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+W,"i")},ae=function(e){var t=R.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},se=ae((function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length})),ce=ae((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")})),ue=ae((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),le=ae((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),de=ae((function(e){e.id=E+0,e.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",j.insertBefore(e,j.firstChild);var t=R.getElementsByName&&R.getElementsByName(E).length===2+R.getElementsByName(E+0).length;return b=!R.getElementById(E),j.removeChild(e),t}));try{L.call(j.childNodes,0)[0].nodeType}catch(e){L=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=w(t);return n},x=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},_=n.contains=j.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:j.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=x(e);return i||(t=t.toLowerCase()),(n=y.attrHandle[t])?n(e):i||ue?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:D,match:oe,attrHandle:ce?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:b?function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e);return i?i.id===e||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").value===e?[i]:void 0:[]}},TAG:se?function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:de&&function(e,t){if("undefined"!=typeof t.getElementsByName)return t.getElementsByName(name)},CLASS:le&&function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,""),e[3]=(e[4]||e[5]||"").replace(re,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return oe.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(X.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:b?function(e){return e=e.replace(re,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(re,""),function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(re,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[E][e];return t||(t=H(e,new RegExp("(^|"+z+")"+e+"("+z+"|$)"))),function(e){return t.test(e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")}},ATTR:function(e,t,i){return function(r,o){var a=n.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.substr(a.length-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t&&(a===i||a.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=i)===n||r%n==0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=y.pseudos[e]||y.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[E]?r(t):r.length>1?(i=[e,e,"",t],y.setFilters.hasOwnProperty(e.toLowerCase())?D((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=q.call(e,o[a]),e[i]=!(n[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:D((function(e){var t=[],n=[],i=k(e.replace(J,"$1"));return i[E]?D((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}})),has:D((function(e){return function(t){return n(e,t).length>0}})),contains:D((function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}})),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return te.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ie.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!(!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:o((function(e,t,n){return[0]})),last:o((function(e,t,n){return[t-1]})),eq:o((function(e,t,n){return[n<0?n+t:n]})),even:o((function(e,t,n){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:o((function(e,t,n){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:o((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:o((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},T=j.compareDocumentPosition?function(e,t){return e===t?(I=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return I=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,c=t.parentNode,u=s;if(s===c)return a(e,t);if(!s)return-1;if(!c)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=c;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var l=0;l<n&&l<i;l++)if(r[l]!==o[l])return a(r[l],o[l]);return l===n?a(e,o[l],-1):a(r[l],t,1)},[0,0].sort(T),S=!I,n.uniqueSort=function(e){var t,n=1;if(I=S,e.sort(T),I)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k=n.compile=function(e,t){var n,i=[],r=[],o=F[E][e];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=p(t[n]),o[E]?i.push(o):r.push(o);o=F(e,f(r,i))}return o},R.querySelectorAll&&(function(){var e,t=v,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active",":focus"],c=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector;ae((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")})),ae((function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")})),o=new RegExp(o.join("|")),v=function(e,n,r,a,c){if(!(a||c||o&&o.test(e))){var u,l,d=!0,p=E,f=n,m=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=s(e),(d=n.getAttribute("id"))?p=d.replace(i,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+u[l].join("");f=ee.test(e)&&n.parentNode||n,m=u.join(",")}if(m)try{return P.apply(r,L.call(f.querySelectorAll(m),0)),r}catch(e){}finally{d||n.removeAttribute("id")}}return t(e,n,r,a,c)},c&&(ae((function(t){e=c.call(t,"div");try{c.call(t,"[test!='']:sizzle"),a.push("!=",Q)}catch(e){}})),a=new RegExp(a.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!(x(t)||a.test(i)||o&&o.test(i)))try{var s=c.call(t,i);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(e){}return n(i,null,null,[t]).length>0})})(),y.pseudos.nth=y.pseudos.eq,y.filters=g.prototype=y.pseudos,y.setFilters=new g,n.attr=ne.attr,ne.find=n,ne.expr=n.selectors,ne.expr[":"]=ne.expr.pseudos,ne.unique=n.uniqueSort,ne.text=n.getText,ne.isXMLDoc=n.isXML,ne.contains=n.contains})(r);var Ee=/Until$/,Ce=/^(?:parents|prev(?:Until|All))/,Re=/^.[^:#\[\.,]*$/,je=ne.expr.match.needsContext,Me={children:!0,contents:!0,next:!0,prev:!0};ne.fn.extend({find:function(e){var t,n,i,r,o,a,s=this;if("string"!=typeof e)return ne(e).filter((function(){for(t=0,n=s.length;t<n;t++)if(ne.contains(s[t],this))return!0}));for(a=this.pushStack("","find",e),t=0,n=this.length;t<n;t++)if(i=a.length,ne.find(e,this[t],a),t>0)for(r=i;r<a.length;r++)for(o=0;o<i;o++)if(a[o]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t,n=ne(e,this),i=n.length;return this.filter((function(){for(t=0;t<i;t++)if(ne.contains(this,n[t]))return!0}))},not:function(e){return this.pushStack(f(this,e,!1),"not",e)},filter:function(e){return this.pushStack(f(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?je.test(e)?ne(e,this.context).index(this[0])>=0:ne.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=je.test(e)||"string"!=typeof e?ne(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:ne.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?ne.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?ne.inArray(this[0],ne(e)):ne.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ne(e,t):ne.makeArray(e&&e.nodeType?[e]:e),i=ne.merge(this.get(),n);return this.pushStack(d(n[0])||d(i[0])?i:ne.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.fn.andSelf=ne.fn.addBack,ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ne.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ne.dir(e,"parentNode",n)},next:function(e){return p(e,"nextSibling")},prev:function(e){return p(e,"previousSibling")},nextAll:function(e){return ne.dir(e,"nextSibling")},prevAll:function(e){return ne.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ne.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ne.dir(e,"previousSibling",n)},siblings:function(e){return ne.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ne.sibling(e.firstChild)},contents:function(e){return ne.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ne.merge([],e.childNodes)}},(function(e,t){ne.fn[e]=function(n,i){var r=ne.map(this,t,n);return Ee.test(e)||(i=n),i&&"string"==typeof i&&(r=ne.filter(i,r)),r=this.length>1&&!Me[e]?ne.unique(r):r,this.length>1&&Ce.test(e)&&(r=r.reverse()),this.pushStack(r,e,Y.call(arguments).join(","))}})),ne.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?ne.find.matchesSelector(t[0],e)?[t[0]]:[]:ne.find.matches(e,t)},dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(n===o||1!==r.nodeType||!ne(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Pe=/^\s+/,Le=/<([\w:]+)/,qe=/<tbody/i,De=/<|&#?\w+;/,Be=/<(?:script|style|link)/i,He=/<(?:script|object|embed|option|style)/i,Ue=new RegExp("<(?:"+Ne+")[\\s/>]","i"),Fe=/^(?:checkbox|radio)$/,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/\/(java|ecma)script/i,Ve=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,$e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Qe=m(V),We=Qe.appendChild(V.createElement("div"));$e.optgroup=$e.option,$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td,ne.support.htmlSerialize||($e._default=[1,"X<div>","</div>"]),ne.fn.extend({text:function(e){return ne.access(this,(function(e){return e===o?ne.text(this):this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(ne.isFunction(e))return this.each((function(t){ne(this).wrapAll(e.call(this,t))}));if(this[0]){var t=ne(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return ne.isFunction(e)?this.each((function(t){ne(this).wrapInner(e.call(this,t))})):this.each((function(){var t=ne(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=ne.isFunction(e);return this.each((function(n){ne(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)}))},before:function(){if(!d(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this)}));if(arguments.length){var e=ne.clean(arguments);return this.pushStack(ne.merge(e,this),"before",this.selector)}},after:function(){if(!d(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}));if(arguments.length){var e=ne.clean(arguments);return this.pushStack(ne.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)e&&!ne.filter(e,[n]).length||(t||1!==n.nodeType||(ne.cleanData(n.getElementsByTagName("*")),ne.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&ne.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return ne.clone(this,e,t)}))},html:function(e){return ne.access(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(e===o)return 1===t.nodeType?t.innerHTML.replace(Oe,""):o;if("string"==typeof e&&!Be.test(e)&&(ne.support.htmlSerialize||!Ue.test(e))&&(ne.support.leadingWhitespace||!Pe.test(e))&&!$e[(Le.exec(e)||["",""])[1].toLowerCase()])try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ne.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return d(this[0])?this.length?this.pushStack(ne(ne.isFunction(e)?e():e),"replaceWith",e):this:ne.isFunction(e)?this.each((function(t){var n=ne(this),i=n.html();n.replaceWith(e.call(this,t,i))})):("string"!=typeof e&&(e=ne(e).detach()),this.each((function(){var t=this.nextSibling,n=this.parentNode;ne(this).remove(),t?ne(t).before(e):ne(n).append(e)})))},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=[].concat.apply([],e);var i,r,a,s,c=0,u=e[0],l=[],d=this.length;if(!ne.support.checkClone&&d>1&&"string"==typeof u&&ze.test(u))return this.each((function(){ne(this).domManip(e,t,n)}));if(ne.isFunction(u))return this.each((function(i){var r=ne(this);e[0]=u.call(this,i,t?r.html():o),r.domManip(e,t,n)}));if(this[0]){if(i=ne.buildFragment(e,this,l),a=i.fragment,r=a.firstChild,1===a.childNodes.length&&(a=r),r)for(t=t&&ne.nodeName(r,"tr"),s=i.cacheable||d-1;c<d;c++)n.call(t&&ne.nodeName(this[c],"table")?v(this[c],"tbody"):this[c],c===s?a:ne.clone(a,!0,!0));a=r=null,l.length&&ne.each(l,(function(e,t){t.src?ne.ajax?ne.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):ne.error("no ajax"):ne.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ve,"")),t.parentNode&&t.parentNode.removeChild(t)}))}return this}}),ne.buildFragment=function(e,t,n){var i,r,a,s=e[0];return t=t||V,t=!t.nodeType&&t[0]||t,t=t.ownerDocument||t,!(1===e.length&&"string"==typeof s&&s.length<512&&t===V&&"<"===s.charAt(0))||He.test(s)||!ne.support.checkClone&&ze.test(s)||!ne.support.html5Clone&&Ue.test(s)||(r=!0,i=ne.fragments[s],a=i!==o),i||(i=t.createDocumentFragment(),ne.clean(e,t,i,n),r&&(ne.fragments[s]=a&&i)),{fragment:i,cacheable:r}},ne.fragments={},ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){ne.fn[e]=function(n){var i,r=0,o=[],a=ne(n),s=a.length,c=1===this.length&&this[0].parentNode;if((null==c||c&&11===c.nodeType&&1===c.childNodes.length)&&1===s)return a[t](this[0]),this;for(;r<s;r++)i=(r>0?this.clone(!0):this).get(),ne(a[r])[t](i),o=o.concat(i);return this.pushStack(o,e,a.selector)}})),ne.extend({clone:function(e,t,n){var i,r,o,a;if(ne.support.html5Clone||ne.isXMLDoc(e)||!Ue.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(We.innerHTML=e.outerHTML,We.removeChild(a=We.firstChild)),!(ne.support.noCloneEvent&&ne.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(h(e,a),i=b(e),r=b(a),o=0;i[o];++o)r[o]&&h(i[o],r[o]);if(t&&(g(e,a),n))for(i=b(e),r=b(a),o=0;i[o];++o)g(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r,o,a,s,c,u,l,d,p,f,v,g=t===V&&Qe,h=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=V),r=0;null!=(a=e[r]);r++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(De.test(a)){for(g=g||m(t),l=t.createElement("div"),g.appendChild(l),s=(Le.exec(a)||["",""])[1].toLowerCase(),c=$e[s]||$e._default,u=c[0],l.innerHTML=c[1]+a+c[2];u--;)l=l.lastChild;if(!ne.support.tbody)for(d=qe.test(a),p="table"!==s||d?"<table>"!==c[1]||d?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,o=p.length-1;o>=0;--o)ne.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!ne.support.leadingWhitespace&&Pe.test(a)&&l.insertBefore(t.createTextNode(Pe.exec(a)[0]),l.firstChild),a=l.childNodes,l.parentNode.removeChild(l)}else a=t.createTextNode(a);a.nodeType?h.push(a):ne.merge(h,a)}if(l&&(a=l=g=null),!ne.support.appendChecked)for(r=0;null!=(a=h[r]);r++)ne.nodeName(a,"input")?y(a):"undefined"!=typeof a.getElementsByTagName&&ne.grep(a.getElementsByTagName("input"),y);if(n)for(f=function(e){if(!e.type||Ge.test(e.type))return i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},r=0;null!=(a=h[r]);r++)ne.nodeName(a,"script")&&f(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(v=ne.grep(ne.merge([],a.getElementsByTagName("script")),f),h.splice.apply(h,[r+1,0].concat(v)),r+=v.length));return h},cleanData:function(e,t){for(var n,i,r,o,a=0,s=ne.expando,c=ne.cache,u=ne.support.deleteExpando,l=ne.event.special;null!=(r=e[a]);a++)if((t||ne.acceptData(r))&&(i=r[s],n=i&&c[i])){if(n.events)for(o in n.events)l[o]?ne.event.remove(r,o):ne.removeEvent(r,o,n.handle);c[i]&&(delete c[i],u?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,ne.deletedIds.push(i))}}}),(function(){var e,t;ne.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=ne.uaMatch(Q.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),ne.browser=t,ne.sub=function(){function e(t,n){return new e.fn.init(t,n)}ne.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof ne&&!(i instanceof e)&&(i=e(i)),ne.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(V);return e}})();var Je,Ke,Ye,Xe=/alpha\([^)]*\)/i,Ze=/opacity=([^)]*)/,et=/^(top|right|bottom|left)$/,tt=/^(none|table(?!-c[ea]).+)/,nt=/^margin/,it=new RegExp("^("+ie+")(.*)$","i"),rt=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),ot=new RegExp("^([-+])=("+ie+")","i"),at={},st={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:0,fontWeight:400},ut=["Top","Right","Bottom","Left"],lt=["Webkit","O","Moz","ms"],dt=ne.fn.toggle;ne.fn.extend({css:function(e,t){return ne.access(this,(function(e,t,n){return n!==o?ne.style(e,t,n):ne.css(e,t)}),e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e,t){var n="boolean"==typeof e;return ne.isFunction(e)&&ne.isFunction(t)?dt.apply(this,arguments):this.each((function(){(n?e:x(this))?ne(this).show():ne(this).hide()}))}}),ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,c=ne.camelCase(t),u=e.style;if(t=ne.cssProps[c]||(ne.cssProps[c]=w(u,c)),s=ne.cssHooks[t]||ne.cssHooks[c],n===o)return s&&"get"in s&&(r=s.get(e,!1,i))!==o?r:u[t];if(!(a=typeof n,"string"===a&&(r=ot.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ne.css(e,t)),a="number"),null==n||"number"===a&&isNaN(n)||("number"!==a||ne.cssNumber[c]||(n+="px"),s&&"set"in s&&(n=s.set(e,n,i))===o)))try{u[t]=n}catch(e){}}},css:function(e,t,n,i){var r,a,s,c=ne.camelCase(t);return t=ne.cssProps[c]||(ne.cssProps[c]=w(e.style,c)),s=ne.cssHooks[t]||ne.cssHooks[c],s&&"get"in s&&(r=s.get(e,!0,i)),r===o&&(r=Je(e,t)),"normal"===r&&t in ct&&(r=ct[t]),n||i!==o?(a=parseFloat(r),n||ne.isNumeric(a)?a||0:r):r},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),r.getComputedStyle?Je=function(e,t){var n,i,o,a,s=r.getComputedStyle(e,null),c=e.style;return s&&(n=s[t],""!==n||ne.contains(e.ownerDocument,e)||(n=ne.style(e,t)),rt.test(n)&&nt.test(t)&&(i=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=n,n=s.width,c.width=i,c.minWidth=o,c.maxWidth=a)),n}:V.documentElement.currentStyle&&(Je=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),rt.test(r)&&!et.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),ne.each(["height","width"],(function(e,t){ne.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&tt.test(Je(e,"display"))?ne.swap(e,st,(function(){return I(e,t,i)})):I(e,t,i)},set:function(e,n,i){return k(e,n,i?T(e,t,i,ne.support.boxSizing&&"border-box"===ne.css(e,"boxSizing")):0)}}})),ne.support.opacity||(ne.cssHooks.opacity={get:function(e,t){return Ze.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ne.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===ne.trim(o.replace(Xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Xe.test(o)?o.replace(Xe,r):o+" "+r)}}),ne((function(){ne.support.reliableMarginRight||(ne.cssHooks.marginRight={get:function(e,t){return ne.swap(e,{display:"inline-block"},(function(){if(t)return Je(e,"marginRight")}))}}),!ne.support.pixelPosition&&ne.fn.position&&ne.each(["top","left"],(function(e,t){ne.cssHooks[t]={get:function(e,n){if(n){var i=Je(e,t);return rt.test(i)?ne(e).position()[t]+"px":i}}}}))})),ne.expr&&ne.expr.filters&&(ne.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!ne.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Je(e,"display"))},ne.expr.filters.visible=function(e){return!ne.expr.filters.hidden(e)}),ne.each({margin:"",padding:"",border:"Width"},(function(e,t){ne.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;i<4;i++)o[e+ut[i]+t]=r[i]||r[i-2]||r[0];return o}},nt.test(e)||(ne.cssHooks[e+t].set=k)}));var pt=/%20/g,ft=/\[\]$/,mt=/\r?\n/g,vt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,gt=/^(?:select|textarea)/i;ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map((function(){return this.elements?ne.makeArray(this.elements):this})).filter((function(){return this.name&&!this.disabled&&(this.checked||gt.test(this.nodeName)||vt.test(this.type))})).map((function(e,t){var n=ne(this).val();return null==n?null:ne.isArray(n)?ne.map(n,(function(e,n){return{name:t.name,value:e.replace(mt,"\r\n")}})):{name:t.name,value:n.replace(mt,"\r\n")}})).get()}}),ne.param=function(e,t){var n,i=[],r=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===o&&(t=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,(function(){r(this.name,this.value)}));else for(n in e)S(n,e[n],t,r);return i.join("&").replace(pt,"+")};var ht,bt,yt=/#.*$/,wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,xt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,kt=/^\/\//,Tt=/\?/,It=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,At=/([?&])_=[^&]*/,St=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Et=ne.fn.load,Ct={},Rt={},jt=["*/"]+["*"];try{bt=$.href}catch(e){bt=V.createElement("a"),bt.href="",bt=bt.href}ht=St.exec(bt.toLowerCase())||[],ne.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);if(!this.length)return this;var i,r,a,s=this,c=e.indexOf(" ");return c>=0&&(i=e.slice(c,e.length),e=e.slice(0,c)),ne.isFunction(t)?(n=t,t=o):t&&"object"==typeof t&&(r="POST"),ne.ajax({url:e,type:r,dataType:"html",data:t,complete:function(e,t){n&&s.each(n,a||[e.responseText,t,e])}}).done((function(e){a=arguments,s.html(i?ne("<div>").append(e.replace(It,"")).find(i):e)})),this},ne.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),(function(e,t){ne.fn[t]=function(e){return this.on(t,e)}})),ne.each(["get","post"],(function(e,t){ne[t]=function(e,n,i,r){return ne.isFunction(n)&&(r=r||i,i=n,n=o),ne.ajax({type:t,url:e,data:n,success:i,dataType:r})}})),ne.extend({getScript:function(e,t){return ne.get(e,o,t,"script")},getJSON:function(e,t,n){return ne.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?R(e,ne.ajaxSettings):(t=e,e=ne.ajaxSettings),R(e,t),e},ajaxSettings:{url:bt,isLocal:xt.test(ht[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":jt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":r.String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:E(Ct),ajaxTransport:E(Rt),ajax:function(e,t){function n(e,t,n,a){var u,d,b,y,x,k=t;2!==w&&(w=2,c&&clearTimeout(c),s=o,r=a||"",_.readyState=e>0?4:0,n&&(y=j(p,_,n)),e>=200&&e<300||304===e?(p.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(ne.lastModified[i]=x),(x=_.getResponseHeader("Etag"))&&(ne.etag[i]=x)),304===e?(k="notmodified",u=!0):(u=M(p,y),k=u.state,d=u.data,b=u.error,u=!b)):(b=k,k&&!e||(k="error",e<0&&(e=0))),_.status=e,_.statusText=(t||k)+"",u?v.resolveWith(f,[d,k,_]):v.rejectWith(f,[_,k,b]),_.statusCode(h),h=o,l&&m.trigger("ajax"+(u?"Success":"Error"),[_,p,u?d:b]),g.fireWith(f,[_,k]),l&&(m.trigger("ajaxComplete",[_,p]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=o),t=t||{};var i,r,a,s,c,u,l,d,p=ne.ajaxSetup({},t),f=p.context||p,m=f!==p&&(f.nodeType||f instanceof ne)?ne(f):ne.event,v=ne.Deferred(),g=ne.Callbacks("once memory"),h=p.statusCode||{},b={},y={},w=0,x="canceled",_={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=y[n]=y[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return 2===w?r:null},getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=wt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return t===o?null:t},overrideMimeType:function(e){return w||(p.mimeType=e),this},abort:function(e){return e=e||x,s&&s.abort(e),n(0,e),this}};if(v.promise(_),_.success=_.done,_.error=_.fail,_.complete=g.add,_.statusCode=function(e){if(e){var t;if(w<2)for(t in e)h[t]=[h[t],e[t]];else t=e[_.status],_.always(t)}return this},p.url=((e||p.url)+"").replace(yt,"").replace(kt,ht[1]+"//"),p.dataTypes=ne.trim(p.dataType||"*").toLowerCase().split(oe),null==p.crossDomain&&(u=St.exec(p.url.toLowerCase())||!1,p.crossDomain=u&&u.join(":")+(u[3]?"":"http:"===u[1]?80:443)!==ht.join(":")+(ht[3]?"":"http:"===ht[1]?80:443)),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ne.param(p.data,p.traditional)),C(Ct,p,t,_),2===w)return _;if(l=p.global,p.type=p.type.toUpperCase(),p.hasContent=!_t.test(p.type),l&&0==ne.active++&&ne.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Tt.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,!1===p.cache)){var k=ne.now(),T=p.url.replace(At,"$1_="+k);p.url=T+(T===p.url?(Tt.test(p.url)?"&":"?")+"_="+k:"")}(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&_.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,ne.lastModified[i]&&_.setRequestHeader("If-Modified-Since",ne.lastModified[i]),ne.etag[i]&&_.setRequestHeader("If-None-Match",ne.etag[i])),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+jt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,_,p)||2===w))return _.abort();x="abort";for(d in{success:1,error:1,complete:1})_[d](p[d]);if(s=C(Rt,p,t,_)){_.readyState=1,l&&m.trigger("ajaxSend",[_,p]),p.async&&p.timeout>0&&(c=setTimeout((function(){_.abort("timeout")}),p.timeout));try{w=1,s.send(b,n)}catch(e){if(!(w<2))throw e;n(-1,e)}}else n(-1,"No Transport");return _},active:0,lastModified:{},etag:{}});var Mt=[],Nt=/\?/,Ot=/(=)\?(?=&|$)|\?\?/,Pt=ne.now();ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||ne.expando+"_"+Pt++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",(function(e,t,n){var i,a,s,c=e.data,u=e.url,l=!1!==e.jsonp,d=l&&Ot.test(u),p=l&&!d&&"string"==typeof c&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(c);if("jsonp"===e.dataTypes[0]||d||p)return i=e.jsonpCallback=ne.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a=r[i],d?e.url=u.replace(Ot,"$1"+i):p?e.data=c.replace(Ot,"$1"+i):l&&(e.url+=(Nt.test(u)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ne.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r[i]=function(){s=arguments},n.always((function(){r[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Mt.push(i)),s&&ne.isFunction(a)&&a(s[0]),s=a=o})),"script"})),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),ne.ajaxPrefilter("script",(function(e){e.cache===o&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),ne.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=V.head||V.getElementsByTagName("head")[0]||V.documentElement;return{send:function(i,r){t=V.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,n&&t.parentNode&&n.removeChild(t),t=o,i||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(0,1)}}}}));var Lt,qt=!!r.ActiveXObject&&function(){for(var e in Lt)Lt[e](0,1)},Dt=0;ne.ajaxSettings.xhr=r.ActiveXObject?function(){return!this.isLocal&&N()||O()}:N,(function(e){ne.extend(ne.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})})(ne.ajaxSettings.xhr()),ne.support.ajax&&ne.ajaxTransport((function(e){if(!e.crossDomain||ne.support.cors){var t;return{send:function(n,i){var a,s,c=e.xhr();if(e.username?c.open(e.type,e.url,e.async,e.username,e.password):c.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)c[s]=e.xhrFields[s];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)c.setRequestHeader(s,n[s])}catch(e){}c.send(e.hasContent&&e.data||null),t=function(n,r){var s,u,l,d,p;try{if(t&&(r||4===c.readyState))if(t=o,a&&(c.onreadystatechange=ne.noop,qt&&delete Lt[a]),r)4!==c.readyState&&c.abort();else{s=c.status,l=c.getAllResponseHeaders(),d={},p=c.responseXML,p&&p.documentElement&&(d.xml=p);try{d.text=c.responseText}catch(n){}try{u=c.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(e){r||i(-1,e)}d&&i(s,u,d,l)},e.async?4===c.readyState?setTimeout(t,0):(a=++Dt,qt&&(Lt||(Lt={},ne(r).unload(qt)),Lt[a]=t),c.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}}}));var Bt,Ht,Ut=/^(?:toggle|show|hide)$/,Ft=new RegExp("^(?:([-+])=|)("+ie+")([a-z%]*)$","i"),zt=/queueHooks$/,Gt=[B],Vt={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Ft.exec(t),a=r.cur(),s=+a||0,c=1,u=20;if(o){if(n=+o[2],"px"!==(i=o[3]||(ne.cssNumber[e]?"":"px"))&&s){s=ne.css(r.elem,e,!0)||n||1;do{c=c||".5",s/=c,ne.style(r.elem,e,s+i)}while(c!==(c=r.cur()/a)&&1!==c&&--u)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};ne.Animation=ne.extend(q,{tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],Vt[n]=Vt[n]||[],Vt[n].unshift(t)},prefilter:function(e,t){t?Gt.unshift(e):Gt.push(e)}}),ne.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ne.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ne.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ne.cssProps[e.prop]]||ne.cssHooks[e.prop])?ne.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.each(["toggle","show","hide"],(function(e,t){var n=ne.fn[t];ne.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&ne.isFunction(i)&&ne.isFunction(r)?n.apply(this,arguments):this.animate(U(t,!0),i,r,o)}})),ne.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ne.isEmptyObject(e),o=ne.speed(t,n,i),a=function(){var t=q(this,ne.extend({},e),o);r&&t.stop(!0)};return r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=o),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=ne.timers,a=ne._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&zt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||ne.dequeue(this,e)}))}}),ne.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){ne.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),ne.speed=function(e,t,n){var i=e&&"object"==typeof e?ne.extend({},e):{complete:n||!n&&t||ne.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ne.isFunction(t)&&t};return i.duration=ne.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ne.fx.speeds?ne.fx.speeds[i.duration]:ne.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ne.isFunction(i.old)&&i.old.call(this),i.queue&&ne.dequeue(this,i.queue)},i},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ne.timers=[],ne.fx=H.prototype.init,ne.fx.tick=function(){for(var e,t=ne.timers,n=0;n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ne.fx.stop()},ne.fx.timer=function(e){e()&&ne.timers.push(e)&&!Ht&&(Ht=setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.interval=13,ne.fx.stop=function(){clearInterval(Ht),Ht=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fx.step={},ne.expr&&ne.expr.filters&&(ne.expr.filters.animated=function(e){return ne.grep(ne.timers,(function(t){return e===t.elem})).length});var $t=/^(?:body|html)$/i;ne.fn.offset=function(e){if(arguments.length)return e===o?this:this.each((function(t){ne.offset.setOffset(this,e,t)}));var t,n,i,r,a,s,c,u={top:0,left:0},l=this[0],d=l&&l.ownerDocument;if(d)return(n=d.body)===l?ne.offset.bodyOffset(l):(t=d.documentElement,ne.contains(t,l)?("undefined"!=typeof l.getBoundingClientRect&&(u=l.getBoundingClientRect()),i=F(d),r=t.clientTop||n.clientTop||0,a=t.clientLeft||n.clientLeft||0,s=i.pageYOffset||t.scrollTop,c=i.pageXOffset||t.scrollLeft,{top:u.top+s-r,left:u.left+c-a}):u)},ne.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return ne.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(ne.css(e,"marginTop"))||0,n+=parseFloat(ne.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=ne.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=ne(e),s=a.offset(),c=ne.css(e,"top"),u=ne.css(e,"left"),l=("absolute"===i||"fixed"===i)&&ne.inArray("auto",[c,u])>-1,d={},p={};l?(p=a.position(),r=p.top,o=p.left):(r=parseFloat(c)||0,o=parseFloat(u)||0),ne.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},ne.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=$t.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(ne.css(e,"marginTop"))||0,n.left-=parseFloat(ne.css(e,"marginLeft"))||0,i.top+=parseFloat(ne.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(ne.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||V.body;e&&!$t.test(e.nodeName)&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||V.body}))}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);ne.fn[e]=function(i){return ne.access(this,(function(e,i,r){var a=F(e);if(r===o)return a?t in a?a[t]:a.document.documentElement[i]:e[i];a?a.scrollTo(n?ne(a).scrollLeft():r,n?r:ne(a).scrollTop()):e[i]=r}),e,i,arguments.length,null)}})),ne.each({Height:"height",Width:"width"},(function(e,t){ne.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){ne.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return ne.access(this,(function(t,n,i){var r;return ne.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):i===o?ne.css(t,n,i,s):ne.style(t,n,i,s)}),t,a?i:o,a,null)}}))})),n(138)&&n(138).jQuery&&(i=function(){return ne}.call(t,n,t,e))!==o&&(e.exports=i)})(window)}),(function(e,t){e.exports=function(e,t,n){e=e||15;var i=document.location.href.match(/(?:etcForceCreative|qb_experiences)=(\d+)/i);if(i&&i[1]&&(i=i[1],t&&t.length&&(i+="string"==typeof i?","+t:","+t.join(",")),i)){var r=new Date;n=n?"; domain="+n:"",r.setTime(r.getTime()+60*e*1e3),document.cookie="smartserve_preview=true; expires="+r.toGMTString()+"; path=/"+n,document.cookie="etcForceCreative="+encodeURIComponent("["+i+"]")+"; expires="+r.toUTCString()+"; path=/"+n}}}),(function(e,t,n){function i(e,t,n){var i=c();try{_(e,t,n)}catch(e){return d(e)}var o=k(e,t,n);return u(o),s(),i||r(),a(),o.cancel}function r(){f+=1;var e=h,t=f>=E;if(t&&(m*=S,e=window.setTimeout),(t||y(f))&&o(),c())return e(r,m)}function o(){function e(e){var n=e.callback,i=e.targets,r=i.length,o=0;if("function"!=typeof n)return!1;try{var a,s=[];for(o=0;o<r;o++){if(void 0===(a=x(i[o])))return e.remainders=i.slice(o),!0;s.push(a)}return t.push({callback:n,params:s}),!1}catch(t){return e.remainders=e.targets.slice(o),d(t),!0}}var t=[];R=g.filter(R,e),T()-p>=C&&(R=[]);for(var n;t.length;)try{n=t.pop(),n.callback.apply(null,n.params)}catch(e){d(e)}}function a(){clearTimeout(v),v=window.setTimeout(l,C)}function s(){p=T(),f=0,m=A}function c(){return!!R.length}function u(e){return R.push(e)}function l(){s(),I.debug("Poller complete"),R.length&&(I.debug("Logging unresolved items"),R.forEach((function(e){e.remainders&&(I.debug(e.remainders),e.onTimeout&&e.onTimeout(e.remainders))}))),R=[]}function d(e){if(window.__qubit&&!0===window.__qubit.previewActive)throw e=new Error("Poller function errored: "+e.message,e.stack),e.code="EPOLLER",e}var p,f,m,v,g=n(0),h=n(504),b=n(505),y=n(506),w=n(507),x=n(508),_=n(509),k=n(510),T=n(511),I=n(11)("poller"),A=Math.round(1e3/60),S=1.5,E=Math.round(180),C=15e3,R=[];b()||w((function(){R.length&&o()})),i.isActive=c,i.reset=l,e.exports=i}),(function(e,t){e.exports=function(e){function t(){return i&&(r.removeChild(o),i=!1),a}function n(){if(i&&t(),o=document.createElement("style"),o.type="text/css",o.styleSheet)o.styleSheet.cssText=e;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(e))}return r.appendChild(o),i=!0,a}var i=!1,r=document.getElementsByTagName("head")[0],o=null,a={remove:t,add:n};return n()}}),(function(e,t){function n(e,t){for(var n=t.status?e.res:e.rej;n.length;)n.shift()(t.value)}function i(e,t,n,i,r,o){return function(t){try{return t=n?n(t):t,e.status?i(t):o?i(t):r(t)}catch(e){r(e)}}}var r=new Error("Error: recurses! infinite promise chain detected");e.exports=function e(t){function o(t,r){return e((function(e,o){c.res.push(i(u,c,t,e,o,r)),c.rej.push(i(u,c,r,e,o,r)),"undefined"!=typeof u.status&&n(c,u)}))}function a(e){if("undefined"==typeof u.status){if(e===u)throw r;if(e)try{if("function"==typeof e.then)return e.then(a,s)}catch(e){}u.status=!0,u.value=e,n(c,u)}}function s(e){if("undefined"==typeof u.status){if(e===u)throw r;u.status=!1,u.value=e,n(c,u)}}var c={res:[],rej:[]},u={then:o,catch:function(e){return o(null,e)}};try{t(a,s)}catch(e){u.status=!1,u.value=e}return u}}),(function(e,t,n){function i(e){return a(e)}function r(e,t,n){var i=e+"="+t+";";n=n||{},n.expires&&(i+="Expires="+new Date(n.expires).toUTCString()+";"),n.path&&(i+="Path="+n.path+";"),n.domain&&(i+="Domain="+n.domain+";"),document.cookie=i}function o(e){var t=e.indexOf("=");return t<0?[e,""]:[e.substring(0,t),e.substring(t+1)]}function a(e){var t=document.cookie,n=[];if(!t)return n;for(var i,r=t.split(";"),a=0;a<r.length;a++){i=o(r[a]);var s=p(i[0]);e&&s!==e||n.push({name:s,value:p(i[1])})}return n}function s(e,t){var n=a().length;return t=t||{},t.expires=new Date(1),r(e,"",t),a().length!==n}function c(e){var t=[],n=d(window.location.pathname),i=l(window.location.hostname);if(s(e))return[{path:null,domain:null}];for(var r=0;r<i.length;r++)for(var o=0;o<n.length;o++)s(e,{path:n[o],domain:i[r]})&&t.push({domain:i[r],path:n[o]});return t}function u(e){var t=i(e);return t.length?t[0].value:null}var l=n(171),d=n(172),p=n(173);e.exports={get:i,set:r,cookies:a,clear:s,clearAll:c,val:u}}),(function(e,t,n){var i=n(0);e.exports=function(e){var t={};return i.objectEach(e,(function(e,n){e!==undefined&&null!==e&&("number"!=typeof e||isFinite(e))&&("object"!=typeof e||i.keys(e).length)&&("string"!=typeof e||e.length)&&(t[n]=e)})),t}}),(function(e,t,n){function i(){var e=Array.prototype.toJSON,t=Date.prototype.toJSON;return delete Array.prototype.toJSON,Date.prototype.toJSON=function(){return r(this)},{restore:function(){e!==undefined&&(Array.prototype.toJSON=e),t!==undefined?Date.prototype.toJSON=t:delete Date.prototype.toJSON}}}function r(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+o(e.getUTCMilliseconds())+"Z":null}function o(e){var t=String(e);return 1===t.length&&(t="0"+t),t}var a,s={stringify:function(){var e,t,n=i();try{t=JSON.stringify.apply(JSON,arguments)}catch(t){e=t}if(n.restore(),e)throw e;return t},parse:function(){return JSON.parse.apply(JSON,arguments)}};void 0!==e&&e.exports?e.exports=s:(a=function(){return s}.call(t,n,t,e))!==undefined&&(e.exports=a)}),(function(e,t,n){function i(e,t,n){function i(e,t,n){if(o||a)return void clearTimeout(s);var c=null;try{c=e()}catch(e){return r(e,["pollFor","condition"]),void clearTimeout(s)}if(c)try{t(c),a=!0}catch(e){r(e,["pollFor","done"])}else s=setTimeout((function(){i(e,t,2*n)}),n)}var o=!1,a=!1,s=null;return i(e,t,50),"number"==typeof n&&setTimeout((function(){a||o||(t(),a=!0)}),n),{dispose:function(){o=!0}}}var r=n(39);e.exports=i}),(function(e,t){e.exports=function(e,t){if(!e)throw new Error(t||"Invariant failed");return e}}),(function(e,t,n){e.exports=n(143)(n(148)())}),(function(e,t,n){function i(e,t,n){n="function"==typeof t?t:n;var i=new a(function(i,r){var a=o("GET",e,t);a.on("success",(function(e){n?n(null,e):i(e)})),a.on("error",n||r),a.send()});if(!n)return i}function r(e,t,n,i){i="function"==typeof n?n:i;var r=new a(function(r,a){var s=o("POST",e,n);s.on("success",(function(e){i?i(null,e):r(e)})),s.on("error",i||a),s.send(t)});if(!i)return r}var o=n(158),a=n(23).Promise,s={get:i,post:r,headerSupport:o.headerSupport};e.exports=s}),(function(e,t,n){e.exports={MAX_QUERIES:50,MAX_COOKIE_SIZE:1500,STORAGE_DEBOUNCE_PERIOD:5,COOKIE_KEY:"visitorState",STORAGE_KEY:"__qubitVisitorState",INDEX_STORAGE_KEY:"__qubitSegmentIndex",INDEXES_URL:"https://dd6zx4ibq538k.cloudfront.net/segment-index-{propertyId}.js",INDEXES_STAGING_URL:"https://s3-eu-west-1.amazonaws.com/smartserve-dev/segment-index-{propertyId}-stg.js",INDEXES_DEVELOPMENT_URL:"https://s3-eu-west-1.amazonaws.com/smartserve-dev/segment-index-{propertyId}-dev.js",COOKIE_MIGRATION_KEY:"migrated",STASH_NAMESPACE:"segments-",SEGMENT_PREVIEW_URL_KEY:"segment_p",SEGMENT_PREVIEW_STORAGE_KEY:"qb_segment_preview",DEBUGGER_URL_KEY:"qubit_debug",DEBUGGER_STORAGE_KEY:"qb_debugger",SEGMENT_PREVIEW_OVERRIDES_KEY:"qb_pv_or",MEMBERSHIP_OVERRIDES_KEY:"qb_mb_or",RESPONSE_OK:"OK",RESPONSE_TIMEOUT:"TIMEOUT",RESPONSE_ERROR:"ERROR",STASH_URL:"https://stash.qubitproducts.com",STASH_STAGING_URL:"https://stash-staging.qubitproducts.com",STATS_EVENT_NAME:"qubit.statistic",STATS_REPORTING_DELAY:(function(e,t){return"undefined"!=typeof process&&Object({NODE_ENV:"production"}),e})(750,5),IGNORE_ERROR_FLAG:"__qb:visitor-engine:ignore-error",QUERY_QUEUE_LABEL:"se_q",QUERY_RESULT_TYPE:"segment.queryResult",QUERIES_URL:"https://api.qubit.com/queries",QUERIES_STAGING_URL:"https://api-dev.qubit.com/queries",QUERIES_DEVELOPMENT_URL:"https://localhost:8333",STATS_TOTAL_EXECUTION_NAME:"totalExecution",STATS_DEFERRED_REQUESTS:"deferredRequests",STATS_DEFERRED_REQUESTS_FAILED:"deferredRequestsFailed",STATS_QUERY_REQUESTS:"queryRequests",STATS_QUERY_REQUESTS_FAILED:"queryRequestsFailed",SYNC_POLL_INTERVAL:1e3,SYNC_BACKOFF_TIME:3e4,SEGMENTS_QUEUE_LABEL:"se",TIMEOUTS_QUEUE_LABEL:"se_t",QUERIES_QUEUE_LABEL:"se_q"}}),(function(e,t,n){var i=n(11),r=i("ssg-visitor-engine");e.exports=function(e){return r(e)}}),(function(e,t){e.exports=function(e,t){if(!e)throw new Error(t||"Invariant failed");return e}}),(function(e,t){function n(){function e(e,t){function n(){a[e]=i(a[e],(function(e){return t===e}))}return a[e]=a[e]||[],a[e].push(t),{dispose:n}}function t(e,t){r(a[e]||[],t)}function n(){a={}}function i(e,t){var n=[];return o(e,(function(e){t(e)||n.push(e)})),n}function r(e,t){o(e,(function(e){e(t)}))}function o(e,t){for(var n=0;n<e.length;n++)t(e[n])}var a={};return{on:e,emit:t,off:n}}e.exports=n}),(function(e,t,n){var i=n(5);i.all=n(35),i.any=n(182),i.race=n(183),i.resolve=n(20),i.reject=n(184),i.defer=n(25),e.exports=i}),(function(e,t,n){function i(e){return r.isArray(e)&&r.every(e,(function(e){return!r.isObject(e)}))}var r=n(0);e.exports=function(e,t){var n=r.objectReduce(e,(function(e,t,n){return r.isObject(t)&&!i(t)?e:(e[n]=t,e)}),{});return r.each(t,(function(e){delete n[e]})),n}}),(function(e,t,n){var i=n(0);e.exports=function(e){function t(e){var r=i.isArray(e)?[]:{};return(i.isArray(e)?i.each:i.objectEach)(e,(function(e,i){n(e)&&("object"==typeof e&&(e=t(e)),n(e)&&(r[i]=e))})),r}function n(e){var t=e===undefined||null===e,n="number"==typeof e&&!isFinite(e),r=!t&&"object"==typeof e&&!i.keys(e).length,o="string"==typeof e&&!e.length;return!(t||n||r||o)}return t(e)}}),(function(e,t,n){var i=n(5);e.exports=function(e){return i((function(t){t(e)}))}}),(function(e,t,n){var i=n(39);e.exports=function(e){if(void 0!==e)return"string"!=typeof e?void i(new Error,"cleanCurrency",{currency:e}):e.match(/^(\xa3|u00a|\\u0026pound;|\\u0026#163)$/i)?"GBP":e.match(/^(\$|\$US)$/i)?"USD":e.match(/^(C\$|CA\$|Can\$)$/i)?"CAD":e.match(/^(\u20ac|\xc7\xa8|u20ac||&eur)$/i)||e.match(/^eur/i)?"EUR":e.match(/^S\$$/i)?"SGD":e.match(/^s?kr$/i)?"SEK":e.match(/^sr$/i)?"SAR":e.match(/^r\$?$/i)?"BRL":e.match(/^nz\$$/i)?"NZD":e.match(/^au\$$/i)?"AUD":e.match(/^ar\$$/i)?"ZAR":e.match(/^(\xa5|\uffe5|\xa5)$/i)?"JPY":e.match(/^(u200f|\u0631\u0642)$/i)?"EGP":e.match(/^(\u20a9|u00c7)$/i)?"KRW":e.match(/^fr$/i)?"CHF":e.match(/^\u0440\u0443\u0431$/i)?"RUB":e.match(/^\u062f.\u0625.$/)?"AED":e.match(/^bd$/i)?"BHD":e.match(/^dkr$/i)?"DKK":e.match(/^hk$/i)?"HKD":e.match(/^(kd|kwt)$/i)?"KWD":e.match(/^nkr$/i)?"NOK":e.match(/^qr$/i)?"QAR":e.match(/^rs$/i)?"INR":3!==e.length?void i(new Error,"cleanCurrency",{currency:e}):e.toUpperCase()}}),(function(e,t,n){function i(e,t){var n=t||g.identity;if(e)for(var i=0;i<e.length;i++)if(n(e[i]))return!0;return!1}function r(e){return!e||("number"==typeof e.length?0===e.length:0===g.keys(e).length)}function o(e,t){var n=t||g.identity;if(e)for(var i=0;i<e.length;i++)if(!n(e[i]))return!1;return!0}function a(e){var t,n={};for(var i in e)e.hasOwnProperty(i)&&(t=e[i],n[t]=i);return n}function s(e){var t={};if(e)for(var n=0;n<e.length;n++)t[e[n][0]]=e[n][1];return t}function c(e,t){var n,i=[];if(e)for(var r=0;r<e.length;r++)n=e[r],t&&g.find(t,u(n))||i.push(n);return i}function u(e){return function(t){return e===t}}function l(e){return e?g.reduce(e,(function(e,t){return e.concat(t)}),[]):[]}function d(){for(var e,t=[],n=g.slice(arguments),i=0;i<n.length;i++)if((e=n[i])&&e.length)for(var r=0;r<e.length;r++)-1===g.indexOf(t,e[r])&&t.push(e[r]);return t}function p(e){var t=g.objectMap(g,(function(t,n){var i=function(){var n=g.slice(arguments);return e=t.apply(g,[e].concat(n)),this};return i.name=n,i}));return t.thru=function(t){var n=g.slice(arguments,1);return e=t.apply(null,[e].concat(n)),this},t.value=function(){return e},t}function f(e,t){var n,i,r={};for(var o in e)e.hasOwnProperty(o)&&(n=e[o],i=t(n),r[i]||(r[i]=[]),r[i].push(n));return r}function m(e,t){var n={};for(var i in e)i!==t&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function v(e){return e.sort()}var g=n(0);e.exports={isEmpty:r,invert:a,every:o,some:i,difference:c,flatten:l,union:d,chain:p,zip:s,groupBy:f,omit:m,sort:v}}),(function(e,t,n){var i;(function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function a(e){U=e}function s(e){V=e}function c(){return function(){H(l)}}function u(){return function(){setTimeout(l,1)}}function l(){for(var e=0;e<G;e+=2){(0,Y[e])(Y[e+1]),Y[e]=undefined,Y[e+1]=undefined}G=0}function d(e,t){var n=this,i=n._state;if(i===te&&!e||i===ne&&!t)return this;var r=new this.constructor(f),o=n._result;if(i){var a=arguments[i-1];V((function(){C(i,r,a,o)}))}else I(n,r,e,t);return r}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return x(n,e),n}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return ie.error=e,ie}}function h(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function b(e,t,n){V((function(e){var i=!1,r=h(n,t,(function(n){i||(i=!0,t!==n?x(e,n):k(e,n))}),(function(t){i||(i=!0,T(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,T(e,r))}),e)}function y(e,t){t._state===te?k(e,t._result):t._state===ne?T(e,t._result):I(t,undefined,(function(t){x(e,t)}),(function(t){T(e,t)}))}function w(e,t,n){t.constructor===e.constructor&&n===X&&constructor.resolve===Z?y(e,t):n===ie?T(e,ie.error):n===undefined?k(e,t):o(n)?b(e,t,n):k(e,t)}function x(e,t){e===t?T(e,m()):r(t)?w(e,t,g(t)):k(e,t)}function _(e){e._onerror&&e._onerror(e._result),A(e)}function k(e,t){e._state===ee&&(e._result=t,e._state=te,0!==e._subscribers.length&&V(A,e))}function T(e,t){e._state===ee&&(e._state=ne,e._result=t,V(_,e))}function I(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+te]=n,r[o+ne]=i,0===o&&e._state&&V(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?C(n,i,r,o):r(o);e._subscribers.length=0}}function S(){this.error=null}function E(e,t){try{return e(t)}catch(e){return re.error=e,re}}function C(e,t,n,i){var r,a,s,c,u=o(n);if(u){if(r=E(n,i),r===re?(c=!0,a=r.error,r=null):s=!0,t===r)return void T(t,v())}else r=i,s=!0;t._state!==ee||(u&&s?x(t,r):c?T(t,a):e===te?k(t,r):e===ne&&T(t,r))}function R(e,t){try{t((function(t){x(e,t)}),(function(t){T(e,t)}))}catch(t){T(e,t)}}function j(e){return new le(this,e).promise}function M(e){function t(e){x(r,e)}function n(e){T(r,e)}var i=this,r=new i(f);if(!z(e))return T(r,new TypeError("You must pass an array to race.")),r;for(var o=e.length,a=0;r._state===ee&&a<o;a++)I(i.resolve(e[a]),undefined,t,n);return r}function N(e){var t=this,n=new t(f);return T(n,e),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(e){this._id=ce++,this._state=undefined,this._result=undefined,this._subscribers=[],f!==e&&("function"!=typeof e&&O(),this instanceof L?R(this,e):P())}function q(e,t){this._instanceConstructor=e,this.promise=new e(f),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):T(this.promise,this._validationError())}function D(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=ue)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,U,F,z=B,G=0,V=function(e,t){Y[G]=e,Y[G+1]=t,2===(G+=2)&&(U?U(l):F())},$="undefined"!=typeof window?window:undefined,Q=$||{},W=Q.MutationObserver||Q.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3);F=J?(function(){return function(){process.nextTick(l)}})():W?(function(){var e=0,t=new W(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}})():K?(function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){e.port2.postMessage(0)}})():$===undefined?(function(){try{var e=n(151);return H=e.runOnLoop||e.runOnContext,c()}catch(e){return u()}})():u();var X=d,Z=p,ee=void 0,te=1,ne=2,ie=new S,re=new S,oe=j,ae=M,se=N,ce=0,ue=L;L.all=oe,L.race=ae,L.resolve=Z,L.reject=se,L._setScheduler=a,L._setAsap=s,L._asap=V,L.prototype={constructor:L,then:X,catch:function(e){return this.then(null,e)}};var le=q;q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ee&&n<e;n++)this._eachEntry(t[n],n)},q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===Z){var r=g(e);if(r===X&&e._state!==ee)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===ue){var o=new n(f);w(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(i(e),t)},q.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ee&&(this._remaining--,e===ne?T(i,n):this._result[t]=n),0===this._remaining&&k(i,this._result)},q.prototype._willSettleAt=function(e,t){var n=this;I(e,undefined,(function(e){n._settledAt(te,t,e)}),(function(e){n._settledAt(ne,t,e)}))};var de=D,pe={Promise:ue,polyfill:de};(i=function(){return pe}.call(t,n,t,e))!==undefined&&(e.exports=i)}).call(this)}),(function(e,t){e.exports=function(e,t){try{return new RegExp(t).test(decodeURIComponent(e))}catch(n){return new RegExp(t).test(e)}}}),(function(e,t,n){var i=n(5);e.exports=function(){var e,t;return{promise:i((function(n,i){e=n,t=i})),resolve:e,reject:t}}}),(function(e,t){function n(e,t){for(var n=0,i=0;i<e.length;i++)n+=Math.pow(t,e.length-1-i)*e[i];return n}function i(e){return"-"===String(e).charAt(0)?"-":""}function r(e,t){for(var n=[];e>0;){var i=e%t;n.unshift(i),e=(e-i)/t}return n}function o(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports={encode:function(e){return i(e)+o(r(Math.abs(e),64),(function(e){return a.charAt(e)})).join("")||a.charAt(0)},decode:function(e){return(i(e)?-1:1)*n(o(e.replace(/^-/,"").split(""),(function(e){return a.indexOf(e)})),64)}}}),(function(e,t){e.exports=function(e){return Math.round(100*e)/100}}),(function(e,t,n){var i=n(0);e.exports=function(e,t){return i.reduce(t.split("."),(function(e,t){return e&&"object"==typeof e?e[t]:undefined}),e)}}),(function(e,t){e.exports=function(e){if("number"==typeof e)return e;if("string"==typeof e&&e.length>0){if(""===(e=e.replace(/[^0-9,.]/g,"").replace(/,(?=\d{1,2}$)/,".").replace(/(\s|,)/g,"").replace(/\.(?=[0-9]{3}(\.|,))/g,"")))return;if(!isNaN(Number(e)))return Number(e)}}}),(function(e,t,n){var i=n(11),r=i("visitor-engine");e.exports=function(e){return r(e)}}),(function(e,t,n){function i(e,t){return e+":"+t}function r(e){return"platform:"+e}function o(e){return"joltlite:"+e}function a(e){return"statisticEvents:"+e}function s(e){return function(){var t=e.apply(null,arguments);return c(t)()}}var c=n(185);e.exports={etcExperiment:s(i),platformSample:s(r),liteSample:s(o),statisticEventSample:s(a)}}),(function(e,t){e.exports={session:{type:"session",cookieName:"qb_session",expires:18e5,exclude:[]},permanent:{type:"permanent",cookieName:"qb_permanent",expires:31536e6,exclude:[]},generic:{type:"generic",cookieName:"qb_generic",expires:31536e6,exclude:[]},topLevelSeperator:":",seperators:["&","="]}}),(function(e,t,n){var i=n(0),r=n(7),o=n(278),a=n(41),s=n(279);e.exports=function(e,t){if(!e)return{};var n={id:e.id||e.order_id,tax:e&&a(e,e.tax,t),total:e&&a(e,e.total,t),discount:o(e,t)};return n=i.assign({},n,s(e,t)),r(n)}}),(function(e,t,n){function i(e,t){return"string"==typeof e&&e.indexOf(t)>-1}function r(e){return a.isArray(e)?e.slice(0):[e]}function o(e){return a.map(e,(function(e){return"string"==typeof e?e.toLowerCase():e}))}var a=n(0);e.exports=function(e,t){function n(e){return a.every(u,(function(t){return a.every(l,(function(n){return e(t,n)}))}))}function s(e){return a.some(u,(function(t){return a.some(l,(function(n){return e(t,n)}))}))}var c=e.op,u=o(r(e.value)),l=o(r(t));switch(c){case"eq":return s((function(e,t){return t===e}));case"neq":return n((function(e,t){return t!==e}));case"gt":return s((function(e,t){return t>e}));case"lt":return s((function(e,t){return t<e}));case"in":return s((function(e,t){return i(t,e)}));case"nin":return n((function(e,t){return!i(t,e)}));case"regex":return s((function(e,t){return new RegExp(e).test(t)}));default:return!1}}}),(function(e,t,n){var i=n(5);e.exports=function(e){return i((function(t,n){var i,r=i=e&&e.length;if(!r)return t(e);for(;i--;)!(function(i,o){if(i&&"function"==typeof i.then)return i.then((function(n){e[o]=n,--r||t(e)}),n);--r||t(e)})(e[i],i)}))}}),(function(e,t){function n(e){function t(t){return function(){try{var n=window[e];return n[t].apply(n,arguments)}catch(e){return}}}return{setItem:t("setItem"),getItem:t("getItem"),removeItem:t("removeItem")}}e.exports={local:n("localStorage"),session:n("sessionStorage")}}),(function(e,t,n){function i(e,t){function n(){return u(o),r.promise}function i(){return l(o)}var r=v.assign({},S,t,g());try{x(e,t);var o=_(e,r);return n(),{start:n,stop:i,then:r.promise.then,catch:r.promise["catch"]}}catch(e){p(e,r)}}function r(){f+=1;var e=h,t=f>=A;if(t&&(m*=I,e=window.setTimeout),(t||b(f))&&o(),c())return e(r,m)}function o(){function e(e){var t,n,i=e.evaluated.length;try{for(t=0;t<e.targets.length;t++)if(t>=e.evaluated.length){if(void 0===(n=w(e.targets[t],e.queryAll)))return new Date-e.start>=e.timeout||void 0;e.logger.info("Poller: resolved "+String(e.targets[t])),e.evaluated.push(n)}for(t=0;t<i;t++){if(void 0===(n=w(e.targets[t],e.queryAll)))return e.evaluated=e.evaluated.slice(0,t),void e.logger.info("Poller: item went stale: "+String(e.targets[t]));e.evaluated[t]=n}return!0}catch(t){p(t,e)}}for(var t=v.filter(E,e);t.length;)d(t.pop())}function a(){f=0,m=T}function s(){a(),C.stop(),E=[]}function c(){return!!E.length}function u(e){var t=c();a(),e.start=new Date,E=v.filter(E,(function(t){return t!==e})),E.push(e),t||(e.logger.info("Poller: started"),r(),C.start())}function l(e){return E=v.filter(E,(function(t){return t!==e})),c()||C.stop(),e.targets[e.evaluated.length]}function d(e){var t=l(e);if(t){var n=new Error("Poller: could not resolve "+String(t));n.code="EPOLLER:TIMEOUT",e.logger.info(n.message),e.reject(n)}else{var i=e.isSingleton?e.evaluated[0]:e.evaluated;e.resolve(i)}c()||e.logger.info("Poller: complete")}function p(e,t){if(e.code="EPOLLER",t.logger&&t.logger.error(e),t.stopOnError)throw e}var f,m,v=n(0),g=n(25),h=n(368),b=n(369),y=n(370),w=n(371),x=n(372),_=n(373),k=n(11)("poller"),T=Math.round(1e3/60),I=1.5,A=Math.round(180),S={logger:k,timeout:15e3,stopOnError:!1},E=[],C=y(o);i.isActive=c,i.reset=s,i.logger=k,i.disableMutationObserver=C.disable,i.defaults=function(e){v.assign(S,e)},e.exports=i}),(function(e,t,n){var i=n(11);e.exports=function(e,t,n){var r="experience-"+e.experimentId;t&&(r+=(t.variationIsControl?" control-":" variation-")+t.variationMasterId);var o=i(r);return(window._ss_debug||n)&&o.enable({"*":"trace"}),o.log=function(){o.info.apply(o.info,arguments)},o}}),(function(e,t,n){var i=n(0),r=null,o=[],a=!1;e.exports=function(e,t,n){var s={message:e.message.slice(0,500),arguments:e.arguments,type:e.type,name:e.name};n&&(s=i.assign({},s,n)),e.stack&&"string"==typeof e.stack&&(s.stack=e.stack.split("\n").slice(0,5)),i.isArray(t)||(t=[t]),t.unshift("uvMapper"),t.push("error");var c={type:t.join("."),value:JSON.stringify(s)};if(a&&window.console&&console.log&&console.error)return console.log("Mapper error: ",t),console.log("Debug event: ",c),void console.error(e);r?r.emit("qubit.debug",c):o.push(c)},e.exports.registerUv=function(e){r=e,o.length&&(i.each(o,(function(e){r.emit("qubit.debug",e)})),o=[])},e.exports.enableDebug=function(){a=!0}}),(function(e,t,n){var i=n(265);e.exports=function(e,t,n){var r=!1;return n=n||{},n.replay&&i(t,{first:n.first}),window.uv_listener=window.uv_listener||[],window.uv_listener.push(["on",e,function(){r||t.apply(null,arguments)}]),function(){r=!0}}}),(function(e,t,n){var i=n(29),r=n(21),o=n(28),a=n(27),s=n(7);e.exports=function(e,t,n){n=n||{};var c=i(t);if(c===undefined)return{};var u=e.currency,l=window.universal_variable;if(!u&&l&&(u=o(l,"basket.currency")||o(l,"transaction.currency")),!u&&l){var d=o(l,"transaction.line_items");d&&d.length&&(u=o(d[0],"product.currency"))}return s({currency:r(u)||n.currency,value:a(c)})}}),(function(e,t,n){var i=n(0),r=n(21),o=n(66),a=n(27),s=n(67);e.exports=function(e){var t=r(e.currency)||"EUR",n=e.search||{},c=n.occupation||"",u=i.map(c.split(","),Number),l=n.date&&n.date.split("-"),d=i.reduce(e.products_price,(function(t,n,i){return Number(n)*Number(e.products_quantity[i])}),0),p={value:a(d),currency:t};return{id:e.idHotel,numberOfAdults:u[1],numberOfChildren:u[2],totalNumber:u[1]+u[2],startTs:l&&l[0]&&l[0].length?o(s(l[0])).getTime():"",endTs:l&&l[1]&&l[1].length?o(s(l[1])).getTime():"",duration:Number(e.products_quantity[0]),price:p,subtotal:p,total:p}}}),(function(e,t,n){var i=n(11);e.exports=i("jolt")}),(function(e,t,n){function i(e){function t(t){var n=E.getQueue();n.push(t),E.setQueue(e.trim(n)),a.info("Item queued"),i()}function n(){A||(T=!0,A=!0,clearTimeout(y),_=setTimeout((function(){v(),T=!1,A=!1})))}function i(){T||(T=!0,y=setTimeout((function(){v(),T=!1}),e.queueGroupTime))}function v(){if(a.info("Checking queue"),!k){var t=E.getBackoffTime()-b();if(t>0)return void setTimeout(v,t);var n=h();if(!n.active||n.id===I){n.id!==I&&a.info("Switching active queue to "+I),E.setActiveQueue(I);var r=E.getQueue().slice(0,e.batchSize);if(0!==r.length){a.info("Processing queue batch of "+r.length+" items"),r.containsRepeatedItems=E.getQueueProcessing(),r.containsRepeatedItems?a.info("Batch contains repeated items"):a.info("Batch does not contain repeated items");var s=r.length,c=!1,u=!1;e.process(r,(function(e){if(!c&&!S){if(k=!1,u=!0,e)return g(e),void i();E.setErrorCount(0);var t=o(E.getQueue(),s);E.setQueue(t),E.setQueueProcessing(!1),E.flush(),a.info("Queue processed, "+t.length+" remaining items"),i()}})),w=setTimeout((function(){u||S||(c=!0,k=!1,g(new Error("Task timeout")))}),e.processTimeout),k=!0,E.setQueueProcessing(!0),E.flush()}}}}function g(t){a.error("Process error, backing off ("+t.message+")");var n=E.getErrorCount()+1;E.setErrorCount(n),E.setBackoffTime(b()+e.backoffTime*Math.pow(2,n-1)),a.warn("backoff time "+(E.getBackoffTime()-b())+"ms")}function h(){var e={},t=E.getActiveQueue();if(t===undefined)return e.active=!1,e;e.id=t.id;var n=b()-t.ts;return e.active=!(n>=m),e}function b(){return(new Date).getTime()}if(!e.process)throw new Error("a process function is required");if(e.batchSize=e.batchSize||f,e.label=e.label||u,e.trim=e.trim||r,e.queueGroupTime=e.queueGroupTime||d,e.backoffTime=e.backoffTime||l,e.processTimeout=e.processTimeout||p,e.activeQueueTimeout=e.activeQueueTimeout||m,e.processTimeout>e.activeQueueTimeout)throw new Error("active queue timeout must be greater than process timeout");var y,w,x,_,k=!1,T=!1,I=Math.random()+b(),A=!1,S=!1,E=s(e.label);return E.works()||(E=c(e.label)),t.storageAdapter=E,t.options=e,t.flush=n,t.destroy=function(){S=!0,clearTimeout(y),clearTimeout(w),clearTimeout(x),clearTimeout(_)},t.flushQueueCache=t.storageAdapter.flush,(function(e){function n(){var n=E.getActiveQueue();n&&n.id===e&&(t.destroy(),E.clearActiveQueue(),a.info("deactivated on page unload"))}window.addEventListener?window.addEventListener("beforeunload",n):window.attachEvent&&window.attachEvent("onbeforeunload",n)})(I),a.info("Initialized with queue ID "+I),i(),x=setTimeout(v,m),t}function r(e){return e}function o(e,t){return Array.prototype.slice.call(e,t)}var a=n(307),s=n(111),c=n(308),u="Queue That",l=1e3,d=100,p=2e3,f=20,m=2500;e.exports=i}),(function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)}),(function(e,t,n){var i=n(335),r=n(116),o=n(360),a={createStateLogger:n(363),createStateObservable:n(364)};e.exports={middleware:a,compression:i,createVisitorEngine:r,createAsyncVisitorEngine:o}}),(function(e,t){function n(e,t){var n=t*i;return new Date(e+n)}var i=6e4,r={transformTime:{utcmonth:function(e){return new Date(e).getUTCMonth()+1},utcyear:function(e){return new Date(e).getUTCFullYear()},utcdayofmonth:function(e){return new Date(e).getUTCDate()},utcdayofweek:function(e){return new Date(e).getUTCDay()},utchour:function(e){return new Date(e).getUTCHours()},utcminute:function(e){return new Date(e).getUTCMinutes()},localmonth:function(e,t){return n(e,t).getUTCMonth()+1},localyear:function(e,t){return n(e,t).getUTCFullYear()},localdayofmonth:function(e,t){return n(e,t).getUTCDate()},localdayofweek:function(e,t){return n(e,t).getUTCDay()},localhour:function(e,t){return n(e,t).getUTCHours()},localminute:function(e,t){return n(e,t).getUTCMinutes()}},now:function(){return new Date},fromHammertime:function(e){if(e)return new Date(e)},toHammertime:function(e){if(e)return e.getTime()},compressHammertime:function(e){return Math.floor(e/1e3)-1e9},decompressHammertime:function(e){return 1e3*(parseInt(e,10)+1e9)},add:function(e,t,n){var r=new Date(e);switch(n=parseInt(n,10),t){case"millisecond":r.setTime(r.getTime()+n);break;case"second":r.setTime(r.getTime()+1e3*n);break;case"minute":r.setTime(r.getTime()+i*n);break;case"hour":r.setTime(r.getTime()+36e5*n);break;case"day":r.setTime(r.getTime()+864e5*n);break;case"week":r.setTime(r.getTime()+6048e5*n);break;case"month":r.setTime(r.getTime()+2628e6*n);break;case"year":r.setFullYear(r.getFullYear()+n);break;default:throw new Error("Unknown unit "+t)}return r}};e.exports=r}),(function(e,t){function n(e,t){if(e){if(e instanceof Array)return e[t];var n=e[t];if(n)return n;for(var i in e)if(i in e&&(n=e[i],i.toLowerCase()===t.toLowerCase()))return n}}e.exports=function(e,t){for(var i=0,r=t.split("."),o=r.length;null!==e&&i<o;)e=n(e,r[i++]);return i&&i===o?e:undefined}}),(function(e,t){e.exports=function(e){return e?e.replace(/^((?!qubit).)*\./,""):e}}),(function(e,t,n){function i(e,t){try{return e.permanent.get("experienceState")||{}}catch(e){throw c("biscotti.getExperienceState",t,e),e}}function r(e,t){try{return e.session.get("experienceState")||{}}catch(e){throw c("biscotti.getSessionExperienceState",t,e),e}}function o(e,t){return t.permanent.set("experienceState",e)}function a(e,t){return t.session.set("experienceState",e)}function s(e,t){var n=u.keys(e.variationIndex)||[];return u.find(n,(function(e){return!!t[e]}))}function c(e,t,n){t&&t.emit("qubit.debug",{type:"ExperienceEngine.Error",value:JSON.stringify({location:e,message:String(n&&n.stack).slice(0,1e3),data:{qb_permanent:l.get("qb_permanent"),qb_session:l.get("qb_session")}})})}var u=n(0),l=n(6);e.exports={getExperienceState:i,getSessionExperienceState:r,setExperienceState:o,setSessionExperienceState:a,getVariationMasterIdSeen:s}}),(function(e,t){e.exports={},e.exports.VIEW_REGEX=/^([^.]+\.)?[a-z]{2}View$/,e.exports.REMEMBER_COOKIE_NAME="qb_opts",e.exports.QFN_DEFAULT_REQUEST_TIMEOUT=35e3}),(function(e,t,n){e.exports=n(11)("qubit-react")("experience")}),(function(e,t){e.exports={endpoints:{stash:"https://stash.qubitproducts.com/stash/v1.1",mss:"https://mss.qubit.com/stash/v1.1"}}}),(function(e,t,n){var i=n(12),r=n(23).Promise,o={get:function(e){return new r(function(t,n){i.get(e.url,(function(e,i){e?n(e):t(i)}))})},post:function(e){return new r(function(t,n){i.post(e.url,JSON.stringify(e.body)||null,(function(e,i){e?n(e):t(i)}))})}};e.exports=function(e,t){return o[e](t).then(JSON.parse).then((function(e){var n=e&&e.status&&e.status.code;switch(n){case 200:return e.data||e;case 400:throw new Error("400: Incorrect request parameters");case 404:if(t.isBatch&&e.data)return e.data||e;throw new Error("404: Requested keys not found");case 500:throw new Error("500: Internal server error, try again");default:throw new Error("Unrecognised status code: "+n)}}))}}),(function(e,t){function n(e,t){var n=[e];if(t.useVisitorId){var i=t.visitorId;if(!i){var r=document.cookie.match(/_qubitTracker=([0-9a-z.]+)/i);i=r&&r[1]}i&&n.unshift(i)}return"string"==typeof t.namespace&&n.unshift(t.namespace),n.join(":")}e.exports=function(e,t){return Array.isArray(e)?e.map((function(e){return n(e,t)})):n(e,t)}}),(function(e,t){}),(function(e,t){e.exports={DEFAULT:"info",NAMES:["trace","debug","info","warn","error"],INDEX:{}};for(var n=0;n<e.exports.NAMES.length;n++)e.exports.INDEX[e.exports.NAMES[n]]=n}),(function(e,t){function n(){return[i(),r(),i().slice(4)].join("-")}function i(){var e=Math.round(1e17);return o(Math.round(1e17*Math.random()),e)}function r(){var e=new Date;return e.setFullYear("2239"),o((new Date).getTime()+s++%1e4,e.getTime())}function o(e,t){return a(e.toString(36),t.toString(36).length)}function a(e,t){return (function(e){var t=Math.max(e+1,1);return new Array(t).join("0")})(t-String(e).length)+e}var s=0;e.exports=n}),(function(e,t){e.exports={EXPLORER_FLAG:"qubit_explorer",LEGACY_DEBUGGER_FLAG:"qubit_debug",SEGMENTS_PREVIEW_FLAG:"segment_p"}}),(function(e,t,n){function i(e,t,n){o.get(e,t)||o.set(e,t,n)}var r=n(11),o=n(0);e.exports=function(e,t){window.__qubit.logger={enable:r.enable,disable:r.disable,LEVELS:r.LEVELS},t.amd&&(window.__qubit.amd=t.amd),t.experienceEngine&&(window.__qubit.lastPublished=e.lastPublished,t.experienceEngine.cookie&&(window.__qubit.deliver.cookie=t.experienceEngine.cookie),e.flags&&e.flags.SMARTSERVE_EXPERIENCE_NAMES&&(i(window.__qubit,"experiences",{}),window.__qubit.experiences.getExperienceMeta=t.experienceEngine.getExperienceMeta,window.__qubit.experiences.getExperiencesMeta=t.experienceEngine.getExperiencesMeta)),window.__qubit.smartserve.start=function(){t.uvMapper&&!t.uvMapper.intercept&&t.uvMapper&&t.uvMapper.start&&t.uvMapper.start()};var n=t.visitorEngine;if(n){var o=n["public"];window.__qubit.segments=o,window.__qubit.visitorEngine=o}t.jolt&&(window.__qubit.jolt=t.jolt),t.validator&&(window.__qubit.validator=t.validator)}}),(function(e,t,n){var i=n(0);e.exports=function(e){if("string"!=typeof e||0===e.length)return e;var t=e.split(" ");return t=i.map(t,(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})),t.join(" ")}}),(function(e,t,n){var i=n(0),r=n(41),o=n(99),a=n(100),s=n(283),c=n(7);e.exports=function(e,t){if(!i.isObject(e))return{};var n={id:e.id,price:r(e,e.unit_sale_price||e.unit_price,t),originalPrice:r(e,e.unit_price||e.unit_sale_price,t)};return e.unit_sale_price&&e.unit_price&&(n.onSale=e.unit_sale_price!==e.unit_price),e.journey?(n.packageType="journey",n.packageItemType="journey",n.journey=o(e.journey)):e.accommodation?(n.packageType="accommodation",n.packageItemType="accommodation",n.accommodation=a(e.accommodation)):e.ancillary?(n.packageType="ancillary",n.packageItemType="ancillary",n.ancillary=s(e.ancillary)):(n.packageType="",n.packageItemType=""),c(n)}}),(function(e,t,n){function i(e){return r(e,["tax","line_items"])}var r=n(18);e.exports=i}),(function(e,t,n){function i(e){return r(e,["product"])}var r=n(18);e.exports=i}),(function(e,t,n){var i=n(7),r=n(288),o=n(102);e.exports=function(e){if(!e)return{};var t={id:r(e.order_id),parentId:r(e.parent_id),paymentType:e.payment_type,billingAddress:o(e.billing)};return"boolean"==typeof e.returning&&(t.firstTransaction=!e.returning),i(t)}}),(function(e,t,n){var i=n(0);e.exports=function(e){if(e instanceof Date)return e;e=String(e);var t,n,r;if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/.test(e))return n=i.map(e.split("T")[0].split("-"),Number),r=i.map(e.split("T")[1].split(":"),Number),new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2]);if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(e))return n=i.map(e.split(" ")[0].split("-"),Number),r=i.map(e.split(" ")[1].split(":"),Number),new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2]);if(/^\d{4}-\d{2}-\d{2}$/.test(e))return t=i.map(e.split("-"),Number),new Date(t[0],t[1]-1,t[2]);if(/^\d{2}-\d{2}-\d{4}$/.test(e))return t=i.map(e.split("-"),Number),new Date(t[2],t[1]-1,t[0]);if(/^\d{2}\/\d{2}\/\d{4}$/.test(e))return t=i.map(e.split("/"),Number),new Date(t[2],t[1]-1,t[0]);if(/^\d{4}\/\d{2}\/\d{2}$/.test(e))return t=i.map(e.split("/"),Number),new Date(t[0],t[1]-1,t[2]);if(/^\d{1,2}\s[A-z]{3}\s\d{2,4}$/.test(e)){t=e.split(" ");var o=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],a=("20"+t[2]).slice(-4),s=i.indexOf(o,t[1].toLowerCase());return-1!==s?new Date(Number(a),s,Number(t[0])):null}return null}}),(function(e,t){e.exports=function(e){return"string"!=typeof e||0===e.length?e:e.replace(/^\s+|\s+$/,"")}}),(function(e,t){e.exports={defaults:{trackingId:!1,domains:!1,uv:!1,prongEnv:"production",gongHost:null,lookupEnv:"production",deflate:!0,batchSize:15,biscotti:!1,maxQueueLength:100,eventsToKeep:[/qubit\.(session|entrance|debug|goalAchieved)/,/^([^.]+\.)?[a-z]{2}View$/,/transaction/i],ipBlacklist:[],disableTracking:!1,selfReferralPatterns:[],dataLocation:"EU",waitForLookup:!0,lite:!1,bundleId:!1,intercept:null,useQubitAPI:!1,collectProductListing:!1},patterns:{view:/^([^.]+\.)?[a-z]{2}View$/,transaction:/^([^.]+\.)?[a-z]{2}(Basket|Betslip|Package)TransactionSummary/,liteEvent:/^qubit.(experience|goalAchieved|session|entrance|surveyResponseItem|feedback)$/,ecProduct:/^(.)*ecProduct$/},maxUrlLength:2048,eventExpiration:168,gaTrackingId:null}}),(function(e,t,n){var i=n(332);e.exports=function(){var e=i();return function(){return i()-e}}}),(function(e,t){e.exports=function(e){return e&&e.meta&&e.meta.type}}),(function(e,t,n){function i(e,t){var n;return t&&(n=t[e]),void 0===n?1:parseInt(n,10)}var r=n(47),o=n(15),a=n(72),s=n(73),c={view:{hasTimeoutEnded:function(e,t,n){if(s.isViewEvent(e)){var r=t&&t.value,o=i("views",n);return(e&&e.context.viewNumber)>r+(o-1)}return!1},getExpiry:function(e){return{type:"view",value:e&&e.context.viewNumber}}},entrance:{hasTimeoutEnded:function(e,t,n){if(s.isEntranceEvent(e)){var r=t&&t.value,o=i("entrances",n);return(e&&e.context.entranceNumber)>r+(o-1)}return!1},getExpiry:function(e){return{type:"entrance",value:e&&e.context.entranceNumber}}},session:{hasTimeoutEnded:function(e,t,n){if(s.isSessionEvent(e)){var r=t&&t.value,o=i("sessions",n);return(e&&e.context.sessionNumber)>r+(o-1)}return!1},getExpiry:function(e){return{type:"session",value:e&&e.context.sessionNumber}}},never:{hasTimeoutEnded:function(){return!1},getExpiry:function(){return{type:"never",value:1}}},time:{hasTimeoutEnded:function(e,t){return r.fromHammertime(e.meta.ts)>=r.fromHammertime(t.value)}},relative:{getExpiry:function(e,t){var n;return n=t.duration?e.meta.ts+t.duration:r.toHammertime(r.add(r.fromHammertime(e.meta.ts),t.unit,t.quantity)),{type:"time",value:n}}},absolute:{getExpiry:function(e,t){var n=r.fromHammertime(e.meta.ts),i=r.fromHammertime(t.to);if(n>=r.fromHammertime(t.from)&&n<i)return{type:"time",value:r.toHammertime(i)}}},event:{hasTimeoutEnded:function(e,t,n){return t.value<1},getExpiry:function(e,t){return{type:"event",value:t.events||1}}},hasTimeoutEnded:function(e,t,n){var i=a(t);if(!e)return!1;if(!n)return!0;var r=c[n.type];o(r,"Unknown timeout "+n.type);var s=r.hasTimeoutEnded;return o(s,n.type+" should implement `hasTimeoutEnded`"),s(e,n,i)},getExpiry:function(e,t){var n=a(t);if(n){var i=c[n.type];return o(i,n.type+" timeout should exist"),i.getExpiry(e,n)}}};e.exports=c}),(function(e,t){e.exports=function(e){return e&&e.props&&e.props.timeout}}),(function(e,t,n){function i(e){return d(e),r(e)}function r(e){return p.test(e.meta.type)||m.test(e.meta.type)}function o(e){return d(e),a(e.meta.type)}function a(e){return f.test(e)}function s(e){return d(e),c(e)}function c(e){return"qb.Session"===e.meta.type||"qubit.session"===e.meta.type}function u(e){return d(e),l(e)}function l(e){return"qb.Entrance"===e.meta.type||"qubit.entrance"===e.meta.type}var d=n(117),p=/^([^.]+\.)?[a-z]{2}View$/,f=/^([^.]+\.)?[a-z]{2}User/,m=/^(ec|tr)\.View$/;e.exports={isViewEvent:i,isViewEventType:r,isUserEvent:o,isUserEventType:a,isSessionEvent:s,isSessionEventType:c,isEntranceEvent:u,isEntranceEventType:l}}),(function(e,t,n){var i=n(0),r=n(379),o=n(13),a=n(10),s=o.STATS_REPORTING_DELAY;e.exports=function(e,t){function n(){o(1)}function o(e){u+=e,l()}function c(){t(e,u)}a("string"==typeof e,"`name` required"),a("function"==typeof t,"`statistic` required");var u=0,l=i.debounce(r(c),s);return{inc:n,recordValue:o}}}),(function(e,t){e.exports={SESSION_EVENT:"qubit.session",VIEW_EVENT:/^([^.]+\.)?[a-z]{2}View$/,USER_EVENT:/^([^.]+\.)?[a-z]{2}User$/,LOGIN_EVENT:/^([^.]+\.)?[a-z]{2}UserLogin$/,DATASET_EVENT:"qubit.importedDatasetValueReceived",DATASET_ID_PATH:"datasetId",STASH_BATCH_SIZE:10,STASH_TIMEOUT:1e4}}),(function(e,t,n){function i(){return a(window,"__qubit.react")}function r(e){var t=["__qubit","react","components",e];return a(window,t)}function o(){return a(window,"__qubit.react.devtools")}var a=n(466);e.exports={getReact:i,getComponent:r,getDevtools:o}}),(function(e,t,n){var i=n(473);e.exports=function(e,t,n){if(n=n||{},!i.hasOwnProperty(e))throw new Error('Operation Type "'+e+'" is not recognised. Must be one of "'+Object.keys(i)+'"');if(!t)throw new Error("Must specify a tracking ID");return i[e](t,n)}}),(function(e,t){e.exports={endpoint:"https://tally-1.qubitproducts.com/tally"}}),(function(e,t,n){var i=n(12),r=n(23).Promise,o={get:function(e){return new r(function(t,n){i.get(e.url,(function(e,i){e?n(e):t(i)}))})},post:function(e){return new r(function(t,n){i.post(e.url,e.body||null,(function(e,i){e?n(e):t(i)}))})}};e.exports=function(e,t){return o[e](t).then(JSON.parse)}}),(function(e,t,n){e.exports=n(11)("poe")}),(function(e,t,n){function i(e){return new RegExp("(^|\\.)"+r(e).replace(/\./g,"\\.")+"$")}function r(e){return e.replace(/^\./,"")}var o=n(0);e.exports=function(e,t){return t=t||window.location.hostname,o.find(e,(function(e){return i(e).test(t)}))}}),(function(e,t){e.exports=["protocol","auth","hostname","port","pathname","search","hash"]}),(function(e,t){e.exports=function(e){function t(t){var n="";for(var o in t)if(i(t,o)){var a=t[o];if(r(a))for(var s=a.length,c=0;c<s;c++)n+="&"+o+"="+a[c];else n+=a?"&"+o+"="+a:"&"+o}return encodeURI(n.replace("&",e))}function n(t){for(var n={},o=decodeURI(t||"").replace(new RegExp("\\"+e),"").split(/&amp;|&/),a=o.length,s=0;s<a;s++)if(o[s]){var c=o[s].indexOf("=");-1===c&&(c=o[s].length);var u=o[s].substring(0,c),l=o[s].substring(c+1);i(n,u)?(r(n[u])||(n[u]=[n[u]]),n[u].push(l)):n[u]=l}return n}function i(e,t){return e.hasOwnProperty(t)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}return{parse:n,format:t}}}),(function(e,t,n){e.exports={parse:n(175),format:n(177)}}),(function(e,t){e.exports=["protocol","auth","hostname","port","pathname","search","hash"]}),(function(e,t){e.exports=function(e,t){function n(e){return i=!0,r.parentElement&&r.parentElement.removeChild(r),t&&t(e)}var i,r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e,r.onerror=r.onload=function(e){if(e&&"error"===e.type)return n(e);if(!(i||r.readyState&&!/^(c|loade)/.test(r.readyState)))return n()},document.head.appendChild(r),r}}),(function(e,t,n){var i=n(11);e.exports=i("biscotti")}),(function(e,t,n){function i(e){function t(e){var t=v;return{name:e,get:function(e){var n=h.get(e);return n.then((function(){t=!0})),n},inSync:function(){return t}}}function n(){return!!m.get(l)}function i(t){return s("string"==typeof t,"`visitorId` is required"),e.cache&&f?f.promise:(f=c(),e.useQubitAPI?d(e.trackingId,t,f):p(e.trackingId,t,f),f.promise)}function d(e,t,n){var i="https://"+g+"/graphql";a.post(i,JSON.stringify({query:u,variables:{trackingId:e,contextId:t}}),{headers:{"Content-Type":"application/json"}},(function(e,t){if(e)return n.reject(e);var i;try{var r=o.parse(t),a=r.data.property.visitor;i=a.history&&null!=a.history.viewNumber?a.history:{},i.segment={state:a.segment.state},i.ipAddress=a.ipAddress,i.ipLocation=a.ipLocation}catch(e){}if(!i)return n.reject(new Error(g+" response invalid"));try{n.resolve(i),m.set(l,!0)}catch(e){return n.reject(e)}}))}function p(e,t,n){var i=["//"+g,e,t].join("/");a.get(i,(function(e,t){if(e)return n.reject(e);var i;try{i=o.parse(t)}catch(e){}if(!i)return n.reject(new Error(g+" response invalid"));try{n.resolve(i),m.set(l,!0)}catch(e){return n.reject(e)}}))}e=e||{},e.env=e.env||"production",e.cache="undefined"!=typeof e.cache&&e.cache,s(e.biscotti,"`biscotti` required"),s(e.trackingId,"`trackingId` required");var f,m=e.biscotti.session,v=n(),g=r(e),h={get:i,inSync:n,for:t};return h}function r(e){if(e.host)return e.host;if(e.useQubitAPI)switch(e.env.toLowerCase()){case"production":return"api.qubit.com";case"staging":return"api-dev.qubit.com";case"dev":return"localhost:8080"}switch(e.env.toLowerCase()){case"production":return"lookup.qubit.com";case"staging":return"lookup-staging.qubit.com";case"dev":return"localhost:6543"}}var o=n(8),a=n(12),s=n(248),c=n(25),u=n(249);e.exports=i;var l="visitorIsSynced"}),(function(e,t){e.exports=function(e){return/^([^.]+\.)?[a-z]{2}View$/.test(e)}}),(function(e,t){e.exports={MAX_STRING_LENGTH:256,MAX_URL_LENGTH:2048,MAX_DATE_LENGTH:10,MAX_CURRENCY_LENGTH:3,MAX_TEXT_LENGTH:2048,MAX_JSON_LENGTH:2048}}),(function(e,t,n){var i=n(0),r=n(92),o=n(93);e.exports=function(e,t){return t=t||["function","static","dsl"],i.some(t,(function(t){switch(t){case"function":return"function"==typeof e;case"static":return void 0!==r(e);case"dsl":return void 0!==o(e);default:throw new Error("Unrecognised specifier type: "+t)}}))}}),(function(e,t){e.exports=function(e){switch(typeof e){case"boolean":case"number":return e;case"string":var t=/^_(.+)/.exec(e);return t?t[1]:undefined}}}),(function(e,t,n){var i=n(94);e.exports=function(e){if("string"==typeof e){var t=i(),n=t.exec(e);return n&&n.length>=3?{rootAlias:n[1],path:n[2],castTo:n[3]}:void 0}}}),(function(e,t,n){var i=n(0);e.exports=function(e){e=e||{},e=i.assign({roots:["$","#","@","window","uv"],cast:!0},e),e.roots=e.roots.map((function(e){return"$"===e?"\\$":e}));var t="("+e.roots.join("|")+")",n=e.cast?"(?:\\|([a-z]+))?":"";return new RegExp("^"+t+"\\.((?:[^|.]+\\.)*[^|.]+)"+n+"$")}}),(function(e,t){e.exports=function(e){return"[object Object]"==={}.toString.call(e)}}),(function(e,t,n){function i(e,t){if("function"==typeof e)try{return e(t,o(t))}catch(e){return undefined}var n=s(e);if(void 0!==n)return n;var i=c(e);if(i){var l=u(i.rootAlias,t),d=a.get(l,i.path);if(void 0===d)return;return i.castTo?r(d,i.castTo):d}}function r(e,t){if(l[t])return l[t](e)}function o(e){return{evaluate:function(t){return i(t,e)},cast:function(e,t){return r(e,t)}}}var a=n(0),s=n(92),c=n(93),u=n(260),l=n(261);e.exports=i}),(function(e,t,n){function i(e){var t={};return t.title=o(e,/(mr|mrs|miss|dr)?\.?\s+/i,0),t.title?t.firstName=o(e,/(mr|mrs|miss|dr)?\.?\s+([a-z-']+)/i,1):t.firstName=o(e,/([a-z-']+)/i,0),t.lastName=o(e,/\b([a-z-']+)$/i,0),r(t)}function r(e){var t={};return a.objectEach(c(e),(function(e,n){t[n]=s(e)})),t}function o(e,t,n){return e.match(t)&&e.match(t)[n+1]}var a=n(0),s=n(61),c=n(7),u=n(21);e.exports=function(e){if(!e)return{};var t={};e.name&&e.name.length&&(t=i(e.name));var n=null;e.email&&e.email.length&&e.email.indexOf("@")>-1&&(n=e.email),e.has_transacted!==undefined&&(e.has_transacted=Boolean(e.has_transacted));var r={id:e.user_id,title:t.title,firstName:t.firstName,lastName:t.lastName,gender:e.gender,username:e.username,email:n,language:e.language,hasTransacted:e.has_transacted,currency:u(e.currency),isGuest:!e.user_id};return"boolean"==typeof e.returning&&(r.firstSession=!e.returning),c(r)}}),(function(e,t,n){function i(e){return r(e,["name","username","user_id","email","language","returning","has_transacted"])}var r=n(18);e.exports=i}),(function(e,t,n){var i=n(280),r=n(282),o=n(7);e.exports=function(e){if(!e||"flight"!==e.type)return{};var t={id:e.code,journeyType:e.journey,originName:e.origin_code&&e.origin,originCode:e.origin_code||e.origin,destinationName:e.destination_code&&e.destination,destinationCode:e.destination_code||e.destination};if(e.start&&e.end)if("number"==typeof e.start&&"number"==typeof e.end){var n=i(e.origin_code||e.origin),a=i(e.destination_code||e.destination),s=e.start-n,c=e.end-a;t.departureTs=s,t.departureTimezoneOffset=n/6e4,t.arrivalTs=c,t.arrivalTimezoneOffset=a/6e4,t.travelTime=(c-s)/6e4}else"string"==typeof e.start&&"string"==typeof e.end&&(t.departureTs=Date.parse(e.start),t.departureTimezoneOffset=r(e.start),t.arrivalTs=Date.parse(e.end),t.arrivalTimezoneOffset=r(e.end),t.travelTime=(Date.parse(e.end)-Date.parse(e.start))/6e4);return o(t)}}),(function(e,t,n){var i=n(7),r=n(29);e.exports=function(e){if(!e)return{};var t={id:e.code,name:e.name,stars:r(e.star_rating)};return r(e.star_rating)&&(t.normalizedRating=2*r(e.star_rating)/10),i(t)}}),(function(e,t){e.exports=function(e){if(e)return e.journey&&"outbound"===e.journey||e.joruney&&"outbound"===e.joruney?"outbound":e.journey&&"inbound"===e.journey||e.joruney&&"inbound"===e.joruney?"inbound":""}}),(function(e,t,n){var i=n(7),r=n(285);e.exports=function(e){if(!e)return{};var t={addressee:e.name,locality:e.city,region:e.state,postalCode:e.postcode,country:r(e.country),countryCode:e.country};return e.address&&e.address.length&&(t.lines=[e.address]),i(t)}}),(function(e,t,n){function i(e){return r(e,["id","currency","unit_sale_price","unit_price","journeys","accommodations"])}var r=n(18);e.exports=i}),(function(e,t,n){function i(e){return r(e,["type","code","origin","destination","origin_code","destination_code","start","end","provider","adults","children","infants","journey","joruney"])}var r=n(18);e.exports=i}),(function(e,t,n){function i(e){return r(e,["code","name","star_rating","checkin_time","checkout_time","nights","adults","children","infants"])}var r=n(18);e.exports=i}),(function(e,t,n){function i(e){return r(e,["order_id","returning","payment_type","delivery","billing","tax","line_items"])}var r=n(18);e.exports=i}),(function(e,t,n){var i=n(61);e.exports=function(e){var t=e.user||{};return{id:t.Id,isGuest:"Not_logged"===t.LoginState,gender:t.Gender,loyalty:{id:t.Id,tier:t.typeNHRewards&&i(t.typeNHRewards),membershipType:t.Profile},firstBooking:e.booking&&e.booking["new"]}}}),(function(e,t,n){var i=n(0),r=n(21),o=n(27);e.exports=function(e){return i.map(e.products_id,(function(t,n){var i=Number(e.products_price[n]),a=Number(e.products_quantity[n]);return{id:t,price:{value:o(i*a),currency:r(e.currency)||"EUR"},packageItemType:"accommodation",accommodation:{id:t,travelLocation:{country:e.busqPais,locality:e.busqCiudad,code:t},boardBasis:e.resMealPlan,roomType:e.resTipoHabitaciona},rate:e.resTarifa}}))}}),(function(e,t,n){var i=n(21),r=n(66),o=n(27),a=n(67);e.exports=function(e){var t=e.booking||{},n=Number(e.revenue),s=Number(e.tax),c=i(e.currency)||"EUR",u={value:o(n+s),currency:c};return{id:e.idHotel,numberOfAdults:Number(t.adultsNumber),numberOfChildren:Number(t.childrenNumber),totalNumber:Number(t.adultsNumber)+Number(t.childrenNumber),startTs:t.checkIn.length?r(a(t.checkIn)).getTime():"",endTs:t.checkIn.length?r(a(t.checkOut)).getTime():"",duration:Number(t.roomnights),tax:{value:o(s),currency:c},price:u,subtotal:{value:o(n),currency:c},total:u,subtotalIncludingTax:u}}}),(function(e,t){e.exports=function(e){var t=e.booking||{};return{id:e.id,paymentType:t.type,firstTransaction:"YES"===t["new"]}}}),(function(e,t,n){function i(e){function t(){R=!0,j&&(N.save(I,c.stringify(M)),j=!1)}function n(){return R&&(M=c.parse(N.load(I)||"[]"),R=!1,setTimeout(t,0)),M}function i(e){M=e,R=!1,j=!0,setTimeout(t,0)}function m(){var e=N.load(E);return e===undefined?0:Number(e)}function v(){var e=N.load(S);return e===undefined?0:Number(e)}function g(e){N.save(E,e)}function h(e){N.save(S,e)}function b(){if(N.load(A)!==undefined)return c.parse(N.load(A))}function y(e){N.save(A,c.stringify({id:e,ts:s()}))}function w(){N.remove(A)}function x(){return Boolean(Number(N.load(C)))}function _(e){N.save(C,Number(e))}function k(){var e=!1;try{N.save("queue-that-works","anything"),e="anything"===N.load("queue-that-works"),N.remove("queue-that-works")}catch(e){}return e}function T(){N.remove(A),N.remove(S),N.remove(E),N.remove(I),N.remove(C)}var I=u.replace("*",e),A=l.replace("*",e),S=d.replace("*",e),E=p.replace("*",e),C=f.replace("*",e),R=!0,j=!1,M=[],N={getQueue:n,setQueue:i,getErrorCount:m,getBackoffTime:v,setErrorCount:g,setBackoffTime:h,getActiveQueue:b,setActiveQueue:y,clearActiveQueue:w,getQueueProcessing:x,setQueueProcessing:_,save:r,load:o,works:k,reset:T,remove:a,type:"localStorage",flush:t};return N}function r(e,t){window.localStorage[e]=t}function o(e){return window.localStorage[e]}function a(e){window.localStorage.removeItem(e)}function s(){return(new Date).getTime()}var c=n(8),u="* - Queue",l="* - Active Queue",d="* - Backoff Time",p="* - Error Count",f="* - Queue Processing";e.exports=i}),(function(e,t,n){var i=n(12),r=n(309);e.exports=function(e){return r(i.post,e)}}),(function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=c.assign({level:m,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(l[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===p.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=s.deflateSetDictionary(this.strm,r))!==f)throw new Error(l[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=n(310),c=n(45),u=n(314),l=n(114),d=n(315),p=Object.prototype.toString,f=0,m=-1,v=0,g=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=u.string2buf(e):"[object ArrayBuffer]"===p.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new c.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=s.deflate(r,i))&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(u.buf2binstring(c.shrinkBuf(r.output,r.next_out))):this.onData(c.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===i?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):2!==i||(this.onEnd(f),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=i,t.deflate=r,t.deflateRaw=o,t.gzip=a}),(function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}),(function(e,t,n){var i=n(339);e.exports=function(){var e=i();return function(){return i()-e}}}),(function(e,t,n){var i=n(0),r=n(22),o=n(15),a=n(340),s=n(30),c=n(70),u=n(348),l=n(349),d=n(350),p=n(355),f=n(359),m=s("createVisitorEngine");e.exports=function(e){function t(){return x.memberships}function n(){return x}function s(e){try{var t=c(e);m.debug("Processing "+t,{event:e,state:x,criteria:x.history.criteria});var n=g(),i=v(x,e);x=w(i,e).toJSON();var r=g()-n;return m.debug(t+" processed in "+r+"ms",{event:e,state:x,criteria:x.history.criteria}),x}catch(t){throw m.error("Failed to process event",{event:e,error:t}),t}}function v(t,n,i){return a({index:h,event:n,previousState:t,initialising:i,rootPredicates:b,transformJSON:e.transformJSON})}function g(){return(new Date).getTime()}e=e||{};var h=l(e.index);o(h,"`index` must be an instance of segment index");var b=r.invert(h.profiles.predicateRoots),y={index:h,getState:n,processEvent:s,getMemberships:t},w=u(function(t){var n=e.middleware||[],r=e.reinitializeState;return n.push(f()),(r||void 0===r)&&n.push(p()),n.push(d()),i.reduce(n,(function(e,n){return n&&e.push(n(t)),e}),[])}(y)),x=(function(){var t=v(e.initialState,null,!0);return w(t).toJSON()})();return m.debug("Initial state",{state:x}),y}}),(function(e,t,n){function i(e){return"object"==typeof e}var r=n(15);e.exports=function(e){r(i(e),'Expected "event" to be a plain object'),r(i(e.meta),'Expected "event.meta" to be a plain object'),r(e.meta.ts,"`event` must have a timestamp (`ts`)"),r("string"==typeof e.meta.type,'Expected "event.meta.type" to be a string')}}),(function(e,t,n){function i(e){return y.map(e,o)}function r(e){return"string"==typeof e?e.toLowerCase():e}function o(e){return e instanceof Array?i(e):r(e)}function a(e){return e instanceof Array?y.map(e,a):parseInt(e,10)}function s(e){return"true"===e||1===e||!0===e}function c(e){return"number"===e||"integer"===e}function u(e){return l(e)||"utcdate"===e}function l(e){return"date"===e||"localdate"===e}function d(e){return(e.key&&e.key.field&&e.key.field.type||"").toLowerCase()}function p(e){var t="string"==typeof e?w(e):new Date(e);return t.setUTCHours(0,0,0,0),t.valueOf()}function f(e,t){if(e&&t){return e+t*I}return e}function m(e){return e&&e.context&&e.context.timezoneOffset}function v(e,t,n){function i(){return e.getPredicateState(n.id)}function r(t){e.setPredicateState(n.id,t)}function v(t,n){e.addQueryToExecute(t,n)}function b(t){return y.map(t||[],(function(t){return!!e.getPredicateResult(t)}))}if(!g(t,n))return!1;var w=_[n.op],T=n.value,I=h(n,t);if(I){var A=d(n),S=x.transformTime[A];u(A)?(T=p(T),I=Number(I),I=p(l(A)?f(I,m(t)):I)):S?(I=S(I,m(t)),T=a(T)):c(A)&&!isNaN(Number(I))?I=Number(I):"string"===A?I=String(I):"boolean"===A&&(I=s(I))}k(w,"Unsupported operation: "+n.op);var E={state:e,event:t,predicate:n,actual:o(I),addQueryToExecute:v,expected:o(T),getPredicateState:i,setPredicateState:r};return w.call(_,E,b)}function g(e,t){var n=t&&t.key&&t.key.event;if(!n)return!0;var i=r(T(n));return r(T(e&&e.meta&&e.meta.type))===i}function h(e,t){if(e.key&&e.key.field&&e.key.field.path)return b(t,e.key.field.path)}var b=n(48),y=n(0),w=n(353),x=n(47),_=n(119),k=n(15),T=n(49),I=6e4;e.exports=v}),(function(e,t,n){function i(e){return function(){return!this[e].apply(this,arguments)}}function r(e,t){return"string"==typeof e?-1!==e.indexOf(t):h(e,(function(e){return e===t}))}function o(e){var t=a[e];return t||(t=new RegExp(e),a[e]=t),t}var a={},s=n(0),c=n(48),u=n(22),l=n(47),d=n(15),p=n(30),f=n(71).getExpiry,m=n(120),v=n(73),g=n(49),h=u.some,b=u.every,y=v.isUserEventType,w=p("operators");e.exports={undefined:function(){return!0},eq:function(e){return e.actual===e.expected},neq:i("eq"),lt:function(e){return e.actual<e.expected},lte:function(e){return e.actual<=e.expected},gt:function(e){return e.actual>e.expected},gte:function(e){return e.actual>=e.expected},in:function(e){return r(e.expected,e.actual)},nin:i("in"),contains:function(e){return r(e.actual,e.expected)},ncontains:i("contains"),containsany:function(e){return h(e.expected,(function(t){return r(e.actual,t)}))},ncontainsany:i("containsany"),regex:function(e){return o(e.expected).test(e.actual)},nregex:i("regex"),and:function(e,t){return b(t(e.predicate.children))},nand:i("and"),or:function(e,t){return h(t(e.predicate.children))},count:function(e,t){var n=0,i=e.predicate.props,r=this[i.count.op];d("function"==typeof r,i.count.op+" is not supported");var o=s.assign({},e.getPredicateState()||{});if(b(t(e.predicate.children))){var a="undefined"==typeof o.count;e.predicate.props.timeout&&"never"!==e.predicate.props.timeout.type&&a?(o.counts=o.counts||[],o.counts.push(f(e.event,e.predicate)),n=o.counts.length):(o.count=(o.count||0)+1,n=o.count)}else n=o.count||0;return(o.count||o.counts)&&e.setPredicateState(o),r({actual:n,expected:i.count.value})},timeout:function(e,t){var n=(function(){if(e.event&&e.event.meta)return e.event.meta.ts})(),i=e.predicate.props.timeout;if("absolute"===i.type&&n){if(l.fromHammertime(n)>l.fromHammertime(i.to))return!1}return this.and(e,t)},query:function(e,t){var n=e.event,i=!1,r=n&&n.meta,o=e.predicate.props.query,a=b(t(e.predicate.children)),s=y(e.predicate.key.event);if(r&&a)if(s){var u=r&&y(n.meta.type);if(u){var l=e.state.hasUserIdChanged(),d=e.state.getHasQueriedForUserId(e.predicate.id),p=1===c(n,"context.sessionViewNumber");i=l||p||!d}}else i=!0;if(i){var f=e.predicate.id,m=o.paths;w.debug("Adding query to execute.",{queryId:f,paths:m}),e.addQueryToExecute(f,m)}var v=e.getPredicateState()||{};return!!v.timeout&&!!v.timeout.value},time:function(e,t){var n=e.event;if(!n)return!1;var i,r=g(n.meta.type),o=e.predicate.props.time,a=e.getPredicateState()||{time:{}},s=b(t(e.predicate.children)),c=n.meta.ts;return i=r===g(o.event)&&s?e.actual+e.expected:a.time.value,e.setPredicateState({time:{value:i,actual:c}}),m(e.predicate,c,i)}}}),(function(e,t,n){e.exports=function(e,t,i){var r=e.props.time.op,o=n(119);return"number"==typeof i&&o[r]({actual:t,expected:i})}}),(function(e,t,n){var i=n(72);e.exports=function(e){return!(!e||"timeout"!==e.op)&&!0===(i(e)||{}).inverted}}),(function(e,t,n){var i=n(0);e.exports=function(e,t){return function(n,r){return r&&(n=i.bind(n,r)),e.on(t,n)}}}),(function(e,t){e.exports=function(){try{return window.location}catch(e){return{}}}}),(function(e,t,n){var i=n(37);e.exports=function(e){i((function(){return document.body})).then(e)}}),(function(e,t){e.exports=function(){function e(e,t){return r[e]=r[e]||[],r[e].push(t),function(){n(e,t,!0)}}function t(e,t,i){t?n(e,t):e?r[e]=[]:r={}}function n(e,t,n){for(var i=0;r[e]&&i<r[e].length;i++)if(r[e][i]===t){if(r[e].splice(i,1),n)return;i--}}function i(e){var t,n=arguments;for(t=0;r[e]&&t<r[e].length;t++)r[e][t].apply(r[e][t],n);for(t=0;r["*"]&&t<r["*"].length;t++)r["*"][t].apply(r["*"][t],n)}var r={};return{on:e,off:t,emit:i}}}),(function(e,t,n){e.exports=n(11)("data-import-events")}),(function(e,t,n){function i(e){var t=s.get(e),n=t.length?t[0].value&&unescape(t[0].value):null;return n&&u[e]&&u[e].encoded(n)?u[e].decode(n):n}function r(e,t,n,i){t=u[e]&&u[e].canEncode(t)?u[e].encode(t):escape(t);var r={};return n&&(r.expires=new Date((new Date).valueOf()+864e5*n)),i&&(r.domain=i),r.path="/",s.set(e,t,r)}function o(e){var t,n,i=[],r=s.get(e),o=0,a=r.length;for(o=0;o<a;o++)t=unescape(r[o].value),n=!1,u[e]&&u[e].encoded(t||"")&&(n=!0,i.push(u[e].decode(t))),n||i.push(t);return i}function a(e,t,n,r){return r?{v1:c(e.experiments,t,n)}:{v1:{get:i,encoders:u}}}var s=n(6),c=n(403),u={_qb_se:n(128),qb_ss_status:n(129),ss_opts:n(130)};e.exports={readCookie:i,writeCookie:r,readAllCookies:o,api:a}}),(function(e,t,n){var i=n(0),r=n(26),o=n(8);e.exports={encoded:function(e){return/^[0-9A-Za-z+\/]+:/.test(e)},canEncode:function(e){var t;try{t=o.parse(e)}catch(e){return!1}return i.every(i.keys(t),(function(e){var n=t[e];return isFinite(e)&&Number(e)>=0&&2===i.keys(n).length&&isFinite(n.e)&&isFinite(n.t)&&Number(n.e)>=0&&Number(n.t)>=0}))},encode:function(e){var t=[];return i.objectEach(o.parse(e),(function(e,n){t.push(r.encode(Number(n))+":"+r.encode(Number(e.e))+"&"+r.encode(Number(e.t)))})),t.join("|")},decode:function(e){var t={},n=e.split("|");return i.each(n,(function(e){var n=r.decode(e.match(/^[^:]+/)[0]),o=i.map(e.match(/[^:]+$/)[0].split("&"),(function(e){return r.decode(e)}));t[n]={e:o[0],t:o[1]}})),o.stringify(t)}}}),(function(e,t,n){var i=n(26),r=n(0),o=n(8);e.exports={encoded:function(e){return/^[0-9A-Za-z+\/]+:/.test(e)},canEncode:function(e){var t;try{t=o.parse(e)}catch(e){return!1}return 1===r.keys(t).length&&(!("object"!=typeof t.b||t.b instanceof Array||r.keys(t.b).length<1)&&r.every(r.keys(t.b),(function(e){var n=t.b[e];return!(!isFinite(e)||Number(e)<0)&&(n instanceof Array&&(4===n.length&&(!(!isFinite(n[0])||null===n[0])&&(!(Number(n[0])<0||Number(n[0])>1)&&(!(!isFinite(n[1])||Number(n[1]<0))&&(Number(n[1])===Number(n[2])&&0===n[3]))))))})))},encode:function(e){var t=[],n=o.parse(e).b;return r.objectEach(n,(function(e,n){t.push(i.encode(Number(n))+":"+i.encode(Math.round(1e3*e[0]))+"&"+i.encode(e[1]))})),t.join("|")},decode:function(e){var t={},n=e.split("|");return r.each(n,(function(e){var n=i.decode(e.match(/^[^:]+/)[0]),r=e.match(/[^:]+$/)[0].split("&"),o=i.decode(r[1]);t[n]=[i.decode(r[0])/1e3,o,o,0]})),o.stringify({b:t})}}}),(function(e,t,n){function i(e){return isFinite(e)&&Number(e)>=0}var r=n(26),o=n(0),a=n(8);e.exports={encoded:function(e){return/^([0-9A-Za-z+\/]+|_g):/.test(e)},canEncode:function(e){var t;try{t=a.parse(e)}catch(e){return!1}return!(o.keys(t)&&o.keys(t).length<1)&&o.every(o.keys(t),(function(e){var n=t[e];return"object"==typeof n&&(!("global"===e&&!i(n.session_timer))&&(!("global"===e&&!i(n.refresh_timer))&&("global"===e||!(!isFinite(e)||Number(e)<0)&&o.every(o.keys(n),(function(e){var t=n[e];return!!/^(times_activated|times_activated_session)$/.test(e)&&!!i(t)})))))}))},encode:function(e){var t=[];return o.objectEach(a.parse(e),(function(e,n){var i;i="global"===n?[r.encode(e.session_timer),r.encode(e.refresh_timer),r.encode(e.sc),r.encode(e.svc)]:[isFinite(e.times_activated)?r.encode(e.times_activated):"",isFinite(e.times_activated_session)?r.encode(e.times_activated_session):""],t.push(("global"===n?"_g":r.encode(Number(n)))+":"+i.join("&"))})),t.join("|")},decode:function(e){var t={},n=e.split("|");return o.each(n,(function(e){var n,i=e.match(/^[^:]+/)[0],o=e.match(/[^:]+$/)[0].split("&");"_g"===i?(i="global",n={session_timer:r.decode(o[0]),refresh_timer:r.decode(o[1]),sc:r.decode(o[2]||""),svc:r.decode(o[3]||"")}):(n={},i=r.decode(i),o[0]&&""!==o[0]&&(n.times_activated=r.decode(o[0])),o[1]&&""!==o[1]&&(n.times_activated_session=r.decode(o[1]))),t[i]=n})),a.stringify(t)}}}),(function(e,t,n){var i=n(50);e.exports=function(e){return function(t,n,r,o){var a=e.experiments[n.experimentId];if(!a)return null;var s=i.getExperienceState(e.biscotti,e.uv),c=i.getVariationMasterIdSeen(a,s);if(!c)return null;var u=s[c],l=a.variationIndex[c];u.iterationId&&u.iterationId!==a.iterationId?e.uv.emit("qubit.debug",{type:"ExperienceEngine.GoalAchievedNotSent",value:JSON.stringify({goalId:n.goalId||n.id,experimentId:a.experimentId,variationMasterIdSeen:c,currentIterationId:a.iterationId,iterationIdSeen:u.iterationId})}):e.uv.emit("qubit.goalAchieved",{goalId:n.goalId,experienceId:a.experimentId,variationMasterId:l.variationMasterId,iterationId:a.iterationId,isControl:l.variationIsControl,goalType:t,goalAmount:r,transactionId:o})}}}),(function(e,t,n){var i=n(0),r=n(423),o=n(424),a=n(425),s=n(426),c=n(427),u=n(428),l=n(37);e.exports=function(e,t,n,d,p,f,m,v,g,h){var b=e.jolt,y=e.biscotti.permanent.get("experienceState");y=y&&y[n.variationMasterId];var w=y?y.timesActivated:0,x=6===t.solutionId;d.isPreview&&(l.defaults({stopOnError:!0}),l.logger.enable({"*":"trace"}));var _=c({biscotti:e.biscotti});_.onSet((function(e){e.cookie.value.length>100&&f.emit("qubit.debug",{type:"ExperienceEngine.LongCookieSet",value:JSON.stringify({key:e.key,experienceId:t.experimentId,previewMode:d.isPreview,value:e.cookie.value.slice(0,500),length:e.cookie.value.length})})}));var k={data:t.templateData,solution:x?t.templateData:t.solutionOptions,emitCustomGoal:r(t,n.logger,{experiments:m,biscotti:e.biscotti,uv:f}),emitMetric:o(t,n.logger,{experiments:m,biscotti:e.biscotti,uv:f}),poll:function(e,t){return"function"!=typeof t&&(t=i.assign({logger:n.logger,stopOnError:d.isPreview},t)),l(e,t)},state:t.state,log:n.logger,getVisitorState:b.getVisitorState,getBrowserState:b.getBrowserState,uv:{emit:e.uv.emit,events:b.events,on:b.onEnrichment,once:b.onceEnrichment,onEventSent:b.onSuccess,onceEventSent:b.onceSuccess},meta:{cookieDomain:d.cookieDomain,trackingId:d.trackingId,experienceId:t.experimentId,experimentId:t.experimentId,isPreview:d.isPreview,vertical:d.propertyVertical,namespace:d.qpNamespace,iterationId:t.iterationId,variationId:n.variationId,variationMasterId:n.variationMasterId,variationIsControl:n.variationIsControl,visitorId:p,timesActivated:w}},T=i.get(e,"visitorEngine.public");if(T&&(k.getMemberships=T.getMembershipsAsync,k.isMemberOf=T.isMemberOfAsync,k.onMembershipsChanged=T.onMembershipsChanged),d.flags.QFN&&(k.integration=u(t,n,d,p,g)),d.flags.EXPERIENCES_COOKIE_API&&(k.cookies=_["public"]),v&&v.isExecution){k.redirectTo=a(e.jolt,t,{isPreview:d.isPreview});var I=s(g,t,n);k.registerContentAreas=I.register,k.unregisterContentAreas=I.unregister,k.onRemove=function(e){h(t,"execution",{remove:e})},k.react=t.react.execution,h(t,"execution",{remove:k.react.release})}else k.onRemove=function(e){h(t,"activation",{remove:e})},k.onActivation=function(e){h(t,"activation",{onActivation:e})},k.react=t.react.activation,h(t,"activation",{remove:k.react.release});return k}}),(function(e,t,n){function i(e){return r.find(e,(function(e){return e&&e.options&&e.options.dependencies&&e.options.dependencies["@qubit/layer"]}))}var r=n(0),o=n(20),a=n(134);e.exports=function(e,t,n,r){var s=i(e);if(!s)return o(null);if(n.VISUAL_MODE_BUNDLE)return a(r).then((function(e){return e["@qubit/layer"]}));var c="@qubit/layer@"+s.options.dependencies["@qubit/layer"];return o(t.require(c))}}),(function(e,t,n){function i(e){var t=document.createElement("script");return t.type="text/javascript",t.async=!0,t.defer=!0,t.src=e.visualModeBundle,r((function(){document.body.appendChild(t)})),new a(function(e){o.set(window,"__qubit.registerVisualMode",(function(t){e(t)}))})}function r(e){/complete|interactive/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}var o=n(0),a=n(5),s=null;e.exports=function(e){return s||(s=i(e)),s}}),(function(e,t,n){function i(e,t){r.objectEach(t,(function(t,n){if(typeof e[n]!==t)throw new Error(n+" must have be a "+t)})),r.each(r.keys(e),(function(e){if(t[e]===undefined)throw new Error("unknown property: "+e)}))}var r=n(0);e.exports={checkTypes:i}}),(function(e,t,n){function i(e){if(!e)return{};if(e[0]!==v)throw new Error("Unknown cookie version: "+e[0]);e=e.slice(1);var t;try{t=d.parse(e)}catch(e){throw new Error("Could not decode message scheduler cookie: "+e.toString())}if(p.debug("decoded cookie value",t),"object"!=typeof t)throw new Error("Malformed cookie: was not an object");var n={},i="";if(u.objectEach(t,(function(e,t){if(!u.isArray(e)||3!==e.length)return void(i="cookie entry requires 3 values");var r=e[0];if("number"!=typeof r)return void(i="cookie entry 0 must be number");var o=e[1];if("number"!=typeof o)return void(i="cookie entry 1 must be number");var a=e[2];if("number"!=typeof a)return void(i="cookie entry 2 must be number");n[t]={experienceId:r,scheduledAtEpochMilliseconds:o,delayMilliseconds:a}})),""!==i)throw new Error("Malformed cookie: "+i);return n}function r(e){if("object"!=typeof e)throw new Error("messageStates must be object");var t={};return u.objectEach(e,(function(e,n){f.checkTypes(e,{experienceId:"number",scheduledAtEpochMilliseconds:"number",delayMilliseconds:"number"}),t[n]=[e.experienceId,e.scheduledAtEpochMilliseconds,e.delayMilliseconds]})),v+d.stringify(t)}function o(e,t){return{get:function(){return i(l.val(m))},set:function(n){l.set(m,r(n),{expiry:e()+g,path:"/",domain:t})}}}function a(e,t,n,i){var r=i.get();if(r[e.messageId]!==undefined)throw new Error("Message "+e.messageId+" has already been scheduled");r[e.messageId]={experienceId:t.meta.experienceId,scheduledAtEpochMilliseconds:n,delayMilliseconds:e.delayMilliseconds},i.set(r)}function s(e,t){var n=t.get();if(n[e]===undefined)throw new Error("Message "+e+" has already been deleted");delete n[e],t.set(n)}function c(e,t){var n=t.get(),i=Object.keys(n).reduce((function(t,i){var r=n[i];return r.scheduledAtEpochMilliseconds+r.delayMilliseconds>e&&(t[i]=r),t}),{});t.set(i)}var u=n(0),l=n(6),d=n(8),p=n(480),f=n(135),m="qb_message_scheduler",v="1",g=26e8;e.exports={COOKIE_NAME:m,decodeCookie:i,encodeCookie:r,cookieStore:o,storeScheduleInCookie:a,removeScheduleFromCookie:s,removeExpiredMessagesFromCookie:c}}),(function(e,t,n){function i(e){function t(t){return r.get(e,t)}return{get:t,getFirst:function(e){var n=t(e);return n instanceof Array?n.length>0?n[0]:undefined:n},map:function(e,n){var r=t(e);return r instanceof Array?r.map((function(e){return n(i(e))})):n(i(r))}}}var r=n(0);e.exports=function(e,t){return function(n){return t(i(e),i(n))}}}),(function(e,t){(function(t){e.exports=t}).call(t,{jQuery:!0})}),(function(e,t,n){e.exports=function(e,t){n(2)(15);var i,r,o,a,s,c=n(3),u=n(5),l=n(0),d=function(n){e.log.info("UNIPRO: fire"),e.state.set("state",n),t()},p=function(){e.log.info("UNIPRO: onActivation")},f=function(){e.log.info("UNIPRO: remove"),i&&i(),r&&r.dispose(),o&&o.dispose(),a&&a.dispose(),s&&s.dispose()},m=function(t){(t.warn?e.log.warn:e.log.error)("UNIPRO:",t?t.message:"Unspecified error")},v=function(e){var t=new Error(e);return t.warn=!0,t},g=function(){return e.log.info("UNIPRO: waitForSignUp"),new u(function(t){o=e.uv.on(/trView/i,(function(e){/nhrewards\/signup/i.test(e.meta.url)&&t()})),o.replay()})},h=function(){return e.log.info("UNIPRO: waitForLoggedIn"),new u(function(t){s=e.uv.on(/trUser/i,(function(n){var i=n.user;/rewards/i.test(l.get(i,"loyalty.membershipType"))?t():e.log.warn("UNIPRO: User logged out.")})),s.replay()})},b=function(){return e.log.info("UNIPRO: pollForLoginButton"),new u(function(e,t){i=c(".box-men04 .goMenuRight",e,(function(){return t(new v("Poller conditions were not met"))}))})},y=function(){return e.log.info("UNIPRO: waitForLoggedOut"),new u(function(t){a=e.uv.on(/trUser/i,(function(n){var i=n.user;i&&i.id?e.log.warn("UNIPRO: User logged in."):t()})),a.replay()})},w=function(){return e.log.info("UNIPRO: waitForHomePage"),new u(function(t){r=e.uv.on(/trView/i,(function(e){/home/i.test(e.type)&&t()})),r.replay()})},x=function(){e.log.info("UNIPRO: isDesktop");var t;return e.getBrowserState().then((function(e){var n=e.ua;t=n.deviceType})),/computer/i.test(t)};return (function(){e.log.info("UNIPRO: initialiseTriggers"),x()&&(w().then(y).then(b).then(d)["catch"](m),h().then((function(){return e.emitCustomGoal("t011:log-in")})),g().then((function(){return e.emitCustomGoal("t011:sign-up")})))})(),e.meta.isPreview&&(window.removeTriggers=f),{onActivation:p,remove:f}}}),(function(e,t,n){e.exports=function(e){var t,i=n(1),r=function(){e.log.info("UNIPRO: remove"),t&&t.remove()},o=function(){e.log.info("UNIPRO: tooltipFadeIn");var n=e.data,i=n.fadeInTimeout;t.delay(1e3*i).fadeIn()},a=function(){e.log.info("UNIPRO: tooltipFadeOut"),t.fadeOut()},s=function(t){e.log.info("UNIPRO: closeTooltipClickHandler"),t.click(a)},c=function(t){e.log.info("UNIPRO: loginButtonClickHandler"),t.click(a)},u=function(){e.log.info("UNIPRO: createTooltip");var t=e.data,n=t.tooltipTitle,r=t.tooltipText;return i('<div class="t011-fade-in-wrapper">\n        <div class="t011-login-cta-container">\n          <h6><span>'+n+"</span></h6>\n          <p>"+r+'</p>\n          <span class="t011-close-tooltip"><span/>\n        </div>\n      </div>')};return (function(){e.log.info("UNIPRO: runVariation");var n=e.state.get("state"),i=n.first().parent();t=u();var r=t.find(".t011-close-tooltip");i.append(t),c(n),s(r),o()})(),e.meta.isPreview&&(window.removeVariation=r),{remove:r}}}),(function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var r={};r.smartserve=function(){return n(142)},r.uvMapper=function(){return n(251)},r.addStylesheet1=function(){return n(4)},r.jolt=function(){return n(303)},r.paymentUrls=function(){return n(327)},r.visitorEngine=function(){return n(328)},r.legacyUvListener=function(){return n(400)},r.experienceEngine=function(){return n(401)},r.qubitReactExperience=function(){return n(464)},r.messageScheduler=function(){return n(472)},r.abandonmentRecovery=function(){return n(483)},r.placementCounters=function(){return n(496)},r["experience-93374-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(503)},r["experience-93374-b81984ec7445bba7a84d01e80df69d17/variation-525062.js"]=function(){return n(512)},r["experience-97604-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(513)},r["experience-97604-b81984ec7445bba7a84d01e80df69d17/variation-552789.js"]=function(){return n(514)},r["experience-97604-b81984ec7445bba7a84d01e80df69d17/variation-552789.css"]=function(){return n(515)},r["experience-100668-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(516)},r["experience-100668-b81984ec7445bba7a84d01e80df69d17/variation-563378.js"]=function(){return n(517)},r["experience-101459-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(518)},r["experience-101459-b81984ec7445bba7a84d01e80df69d17/variation-568968.js"]=function(){return n(519)},r["experience-101459-b81984ec7445bba7a84d01e80df69d17/variation-568968.css"]=function(){return n(520)},r["experience-104844-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(521)},r["experience-104844-b81984ec7445bba7a84d01e80df69d17/variation-594804.js"]=function(){return n(522)},r["experience-105464-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(523)},r["experience-105464-b81984ec7445bba7a84d01e80df69d17/variation-599021.js"]=function(){return n(524)},r["experience-105728-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(525)},r["experience-105728-b81984ec7445bba7a84d01e80df69d17/variation-601125.js"]=function(){return n(526)},r["experience-105728-b81984ec7445bba7a84d01e80df69d17/variation-601125.css"]=function(){return n(527)},r["experience-106168-f2aa3b5318fa153fc11b62585e044867/triggers.js"]=function(){return n(528)},r["experience-106168-f2aa3b5318fa153fc11b62585e044867/variation-604345.js"]=function(){return n(529)},r["experience-106168-f2aa3b5318fa153fc11b62585e044867/variation-604345.css"]=function(){return n(530)},r["experience-107271-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(531)},r["experience-107271-b81984ec7445bba7a84d01e80df69d17/variation-612364.js"]=function(){return n(532)},r["experience-115127-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(533)},r["experience-115127-97993156aeab587aeef8091868b714a4/variation-664238.js"]=function(){return n(534)},r["experience-122516-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(535)},r["experience-122516-b81984ec7445bba7a84d01e80df69d17/variation-713078.js"]=function(){return n(536)},r["experience-122516-b81984ec7445bba7a84d01e80df69d17/variation-713078.css"]=function(){return n(537)},r["experience-124978-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(538)},r["experience-124978-b81984ec7445bba7a84d01e80df69d17/variation-729340.js"]=function(){return n(539)},r["experience-124978-b81984ec7445bba7a84d01e80df69d17/variation-729340.css"]=function(){return n(540)},r["experience-125784-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(541)},r["experience-125784-b81984ec7445bba7a84d01e80df69d17/variation-734348.js"]=function(){return n(542)},r["experience-125784-b81984ec7445bba7a84d01e80df69d17/variation-734348.css"]=function(){return n(543)},r["experience-125832-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(544)},r["experience-125832-b81984ec7445bba7a84d01e80df69d17/variation-734821.js"]=function(){return n(545)},r["experience-125832-b81984ec7445bba7a84d01e80df69d17/variation-734821.css"]=function(){return n(546)},r["experience-128247-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(547)},r["experience-128247-97993156aeab587aeef8091868b714a4/variation-751203.js"]=function(){return n(548)},r["experience-128247-97993156aeab587aeef8091868b714a4/variation-751203.css"]=function(){return n(549)},r["experience-129659-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(550)},r["experience-129659-b81984ec7445bba7a84d01e80df69d17/variation-759196.js"]=function(){return n(551)},r["experience-130180-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(552)},r["experience-130180-b81984ec7445bba7a84d01e80df69d17/variation-762805.js"]=function(){return n(553)},r["experience-130180-b81984ec7445bba7a84d01e80df69d17/variation-762805.css"]=function(){return n(554)},r["experience-131366-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(555)},r["experience-131366-b81984ec7445bba7a84d01e80df69d17/variation-771898.js"]=function(){return n(556)},r["experience-131366-b81984ec7445bba7a84d01e80df69d17/variation-771898.css"]=function(){return n(557)},r["experience-131434-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(558)},r["experience-131434-b81984ec7445bba7a84d01e80df69d17/variation-772304.js"]=function(){return n(559)},r["experience-131434-b81984ec7445bba7a84d01e80df69d17/variation-772304.css"]=function(){return n(560)},r["experience-132270-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(561)},r["experience-132270-b81984ec7445bba7a84d01e80df69d17/variation-777904.js"]=function(){return n(562)},r["experience-132270-b81984ec7445bba7a84d01e80df69d17/variation-777904.css"]=function(){return n(563)},r["experience-132273-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(564)},r["experience-132273-b81984ec7445bba7a84d01e80df69d17/variation-777935.js"]=function(){return n(565)},r["experience-132273-b81984ec7445bba7a84d01e80df69d17/variation-777935.css"]=function(){return n(566)},r["experience-132301-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(567)},r["experience-132301-b81984ec7445bba7a84d01e80df69d17/variation-778028.js"]=function(){return n(568)},r["experience-132301-b81984ec7445bba7a84d01e80df69d17/variation-778028.css"]=function(){return n(569)},r["experience-136437-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(570)},r["experience-136437-b81984ec7445bba7a84d01e80df69d17/variation-804647.js"]=function(){return n(571)},r["experience-136929-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(572)},r["experience-136929-b81984ec7445bba7a84d01e80df69d17/variation-808026.js"]=function(){return n(573)},r["experience-137958-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(574)},r["experience-137958-b81984ec7445bba7a84d01e80df69d17/variation-814523.js"]=function(){return n(575)},r["experience-138765-f2aa3b5318fa153fc11b62585e044867/triggers.js"]=function(){return n(576)},r["experience-138765-f2aa3b5318fa153fc11b62585e044867/variation-820071.js"]=function(){return n(577)},r["experience-139513-1c61a97388531b2afbafa88c9a93dd7a/triggers.js"]=function(){return n(578)},r["experience-139513-1c61a97388531b2afbafa88c9a93dd7a/variation-825572.js"]=function(){return n(579)},r["experience-139513-1c61a97388531b2afbafa88c9a93dd7a/variation-825572.css"]=function(){return n(580)},r["experience-139899-f2aa3b5318fa153fc11b62585e044867/triggers.js"]=function(){return n(581)},r["experience-139899-f2aa3b5318fa153fc11b62585e044867/variation-827835.js"]=function(){return n(582)},r["experience-139899-f2aa3b5318fa153fc11b62585e044867/variation-827835.css"]=function(){return n(583)},r["experience-142744-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(584)},r["experience-142744-b81984ec7445bba7a84d01e80df69d17/variation-846093.js"]=function(){return n(585)},r["experience-150650-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(586)},r["experience-150650-b81984ec7445bba7a84d01e80df69d17/variation-899757.js"]=function(){return n(587)},r["experience-150650-b81984ec7445bba7a84d01e80df69d17/variation-899757.css"]=function(){return n(588)},r["experience-152960-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(589)},r["experience-152960-b81984ec7445bba7a84d01e80df69d17/variation-915798.js"]=function(){return n(590)},r["experience-156005-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(591)},r["experience-156005-b81984ec7445bba7a84d01e80df69d17/variation-937221.js"]=function(){return n(592)},r["experience-156005-b81984ec7445bba7a84d01e80df69d17/variation-937221.css"]=function(){return n(593)},r["experience-156459-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(594)},r["experience-156459-b81984ec7445bba7a84d01e80df69d17/variation-940275.js"]=function(){return n(595)},r["experience-161476-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(596)},r["experience-161476-b81984ec7445bba7a84d01e80df69d17/variation-978402.js"]=function(){return n(597)},r["experience-161476-b81984ec7445bba7a84d01e80df69d17/variation-978402.css"]=function(){return n(598)},r["experience-161477-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(599)},r["experience-161477-b81984ec7445bba7a84d01e80df69d17/variation-978404.js"]=function(){return n(600)},r["experience-161477-b81984ec7445bba7a84d01e80df69d17/variation-978404.css"]=function(){return n(601)},r["experience-161613-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(602)},r["experience-161613-b81984ec7445bba7a84d01e80df69d17/variation-979527.js"]=function(){return n(603)},r["experience-162276-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(604)},r["experience-162276-b81984ec7445bba7a84d01e80df69d17/variation-984143.js"]=function(){return n(605)},r["experience-162276-b81984ec7445bba7a84d01e80df69d17/variation-984143.css"]=function(){return n(606)},r["experience-163833-ebe25a32482a9e6f2be43a096de00644/triggers.js"]=function(){return n(139)},r["experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.js"]=function(){return n(140)},r["experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.css"]=function(){return n(607)},r["experience-163833-ebe25a32482a9e6f2be43a096de00644/triggers.js"]=function(){return n(139)},r["experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.js"]=function(){return n(140)},r["experience-163834-ebe25a32482a9e6f2be43a096de00644/variation-994867.css"]=function(){return n(608)},r["experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"]=function(){return n(56)},r["experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"]=function(){return n(56)},r["experience-170209-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(609)},r["experience-170209-b81984ec7445bba7a84d01e80df69d17/variation-1041264.js"]=function(){return n(610)},r["experience-170209-b81984ec7445bba7a84d01e80df69d17/variation-1041264.css"]=function(){return n(611)},r["experience-171156-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(612)},r["experience-171156-b81984ec7445bba7a84d01e80df69d17/variation-1050069.js"]=function(){return n(613)},r["experience-171156-b81984ec7445bba7a84d01e80df69d17/variation-1050069.css"]=function(){return n(614)},r["experience-171842-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(615)},r["experience-171842-b81984ec7445bba7a84d01e80df69d17/variation-1055300.js"]=function(){return n(616)},r["experience-171842-b81984ec7445bba7a84d01e80df69d17/variation-1055300.css"]=function(){return n(617)},r["experience-172172-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(618)},r["experience-172172-b81984ec7445bba7a84d01e80df69d17/variation-1058257.js"]=function(){return n(619)},r["experience-172172-b81984ec7445bba7a84d01e80df69d17/variation-1058257.css"]=function(){return n(620)},r["experience-172594-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(621)},r["experience-172594-b81984ec7445bba7a84d01e80df69d17/variation-1061817.js"]=function(){return n(622)},r["experience-175532-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(623)},r["experience-175532-b81984ec7445bba7a84d01e80df69d17/variation-1084891.js"]=function(){return n(624)},r["experience-188016-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(625)},r["experience-188016-97993156aeab587aeef8091868b714a4/variation-1137731.js"]=function(){return n(626)},r["experience-188016-97993156aeab587aeef8091868b714a4/variation-1137731.css"]=function(){return n(627)},r["experience-189580-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(628)},r["experience-189580-b81984ec7445bba7a84d01e80df69d17/variation-1149463.js"]=function(){return n(629)},r["experience-189580-b81984ec7445bba7a84d01e80df69d17/variation-1149463.css"]=function(){return n(630)},r["experience-189594-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(631)},r["experience-189594-b81984ec7445bba7a84d01e80df69d17/variation-1149497.js"]=function(){return n(632)},r["experience-189594-b81984ec7445bba7a84d01e80df69d17/variation-1149497.css"]=function(){return n(633)},r["experience-190806-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(634)},r["experience-190806-97993156aeab587aeef8091868b714a4/variation-1158693.js"]=function(){return n(635)},r["experience-192868-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(636)},r["experience-192868-b81984ec7445bba7a84d01e80df69d17/variation-1174396.js"]=function(){return n(637)},r["experience-193054-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(638)},r["experience-193054-b81984ec7445bba7a84d01e80df69d17/variation-1176232.js"]=function(){return n(639)},r["experience-193775-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(640)},r["experience-193775-b81984ec7445bba7a84d01e80df69d17/variation-1181954.js"]=function(){return n(641)},r["experience-194192-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(642)},r["experience-194192-b81984ec7445bba7a84d01e80df69d17/variation-1185169.js"]=function(){return n(643)},r["experience-194353-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(644)},r["experience-194353-97993156aeab587aeef8091868b714a4/variation-1186287.js"]=function(){return n(645)},r["experience-197965-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(646)},r["experience-197965-b81984ec7445bba7a84d01e80df69d17/variation-1214510.js"]=function(){return n(647)},r["experience-198516-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(648)},r["experience-198516-97993156aeab587aeef8091868b714a4/variation-1219157.js"]=function(){return n(649)},r["experience-198566-39d26c3fafc874023140944f4cc0c1f2/triggers.js"]=function(){return n(650)},r["experience-198566-39d26c3fafc874023140944f4cc0c1f2/variation-1219729.js"]=function(){return n(651)},r["experience-198566-39d26c3fafc874023140944f4cc0c1f2/variation-1219729.css"]=function(){return n(652)},r["experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/triggers.js"]=function(){return n(653)},r["experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/variation-1233400.js"]=function(){return n(654)},r["experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/variation-1233400.css"]=function(){return n(655)},r["experience-200808-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(656)},r["experience-200808-b81984ec7445bba7a84d01e80df69d17/variation-1238576.js"]=function(){return n(657)},r["experience-200808-b81984ec7445bba7a84d01e80df69d17/variation-1238576.css"]=function(){return n(658)},r["experience-201125-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(659)},r["experience-201125-97993156aeab587aeef8091868b714a4/variation-1241233.js"]=function(){return n(660)},r["experience-201125-97993156aeab587aeef8091868b714a4/variation-1241233.css"]=function(){return n(661)},r["experience-201180-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(662)},r["experience-201180-b81984ec7445bba7a84d01e80df69d17/variation-1241639.js"]=function(){return n(663)},r["experience-201180-b81984ec7445bba7a84d01e80df69d17/variation-1241639.css"]=function(){return n(664)},r["experience-201470-79cb8ac7094967e4a9773d29c784e9ac/triggers.js"]=function(){return n(665)},r["experience-201470-79cb8ac7094967e4a9773d29c784e9ac/variation-1244422.js"]=function(){return n(667)},r["experience-201470-79cb8ac7094967e4a9773d29c784e9ac/variation-1244422.css"]=function(){return n(668)},r["experience-201471-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(669)},r["experience-201471-b81984ec7445bba7a84d01e80df69d17/variation-1244428.js"]=function(){return n(670)},r["experience-201771-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(671)},r["experience-201771-b81984ec7445bba7a84d01e80df69d17/variation-1247603.js"]=function(){return n(672)},r["experience-201771-b81984ec7445bba7a84d01e80df69d17/variation-1247603.css"]=function(){return n(673)},r["experience-201817-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(674)},r["experience-201817-b81984ec7445bba7a84d01e80df69d17/variation-1248011.js"]=function(){return n(675)},r["experience-202561-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(676)},r["experience-202561-b81984ec7445bba7a84d01e80df69d17/variation-1255151.js"]=function(){return n(677)},r["experience-203653-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(678)},r["experience-203653-b81984ec7445bba7a84d01e80df69d17/variation-1266194.js"]=function(){return n(679)},r["experience-203908-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(680)},r["experience-203908-b81984ec7445bba7a84d01e80df69d17/variation-1268667.js"]=function(){return n(681)},r["experience-203976-e7ff02a177ddbefc397a400efce24acf/triggers.js"]=function(){return n(682)},r["experience-203976-e7ff02a177ddbefc397a400efce24acf/variation-1269336.js"]=function(){return n(683)},r["experience-203976-e7ff02a177ddbefc397a400efce24acf/variation-1269336.css"]=function(){return n(684)},r["experience-203977-97993156aeab587aeef8091868b714a4/triggers.js"]=function(){return n(685)},r["experience-203977-97993156aeab587aeef8091868b714a4/variation-1269344.js"]=function(){return n(686)},r["experience-203977-97993156aeab587aeef8091868b714a4/variation-1269344.css"]=function(){return n(687)},r["experience-204012-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(688)},r["experience-204012-b81984ec7445bba7a84d01e80df69d17/variation-1269593.js"]=function(){return n(689)},r["experience-204110-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(690)},r["experience-204110-b81984ec7445bba7a84d01e80df69d17/variation-1270379.js"]=function(){return n(691)},r["experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"]=function(){return n(56)},r["experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"]=function(){return n(56)};r["experience-204424-b81984ec7445bba7a84d01e80df69d17/triggers.js"]=function(){return n(692)},r["experience-204424-b81984ec7445bba7a84d01e80df69d17/variation-1272982.js"]=function(){return n(693)},r["experience-204424-b81984ec7445bba7a84d01e80df69d17/variation-1272982.css"]=function(){return n(694)},r.preScript=function(){return n(695)},r.has=function(e){return!!r[e]},r.require=function(e){if(!r[e])throw new Error(e+" is missing.");return r[e]()};var o=n(696);(function(){return!function(){}.bind})()||(function(){return i(navigator.userAgent.toLowerCase(),["msie 10","msie 9","msie 8","msie 7","msie 6"])})()||(function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)if("qb_dnt=2"===e[t].replace(/^\s+/,""))return!0;return!1})()||(function(){r.require("smartserve")(o,r)})()}),(function(e,t,n){function i(){return(new Date).getTime()}function r(e){return e&&e.slice?e.slice(0,500):e}var o=n(0),a=n(5),s=n(11);n(150);var c=n(153),u=n(162),l=n(179),d=s("smartserve");e.exports=function(e,t){function n(){var e=i();d.info("Smartserve started in "+(e-f)+"ms")}function p(e){var t=e.stage||"boot";if(d.error("Smartserve error in "+t+": "+e.message+"\n"+e.stack),m.poe.error(e,{extra:{name:t}}),m.emitUvEvent){var n={stage:e.stage,message:r(e.message),stack:r(e.stack)};m.emitUvEvent("qubit.debug",{type:["smartserve",t,"error"].join("."),value:JSON.stringify(n)})}return e}var f=i();e.logLevel&&s.enable({"*":e.logLevel}),u(e);var m={log:d,createPoe:c(e)};return m.poe=m.createPoe("smartserve"),o.reduce(l,(function(n,i){return n.then((function(n){return n&&n.abort?n:new a(function(n,r){n(i.fn(e,m,t))})["catch"]((function(e){throw e.stage=i.name,e}))}))}),a.resolve()).then(n,p)}}),(function(e,t,n){function i(){}var r=n(0),o=n(144),a=n(57),s=n(146),c=n(147);e.exports=function(e){function t(u,l,d){function p(e){if(d&&d.length>0)for(var t=0;t<d.length;t++){var n=d[t].apply(undefined,e);r.isArray(n)&&4===n.length?e=n:r.isObject(n)?e[3]=n:"string"==typeof n&&(e[3].message=n)}return e}function f(){r.each(a.NAMES,(function(e){var t=a.INDEX[e];h[e]=v.enabled?function(){if(t>=a.INDEX[v.level]){var n=[u,e,new Date,s(arguments)];n=p(n);try{g.apply(undefined,n)}catch(e){}}}:i}))}if(!u)throw new Error("name required");var m=o.get(),v={enabled:n.enabled||o.match(u,m),level:o.getLevel(u,m),children:[]},g=l&&l.length>0?c(e,l):e,h=function(e,n,r){if(h.enable===i)throw new Error(u+" was destroyed");var o=t(u+":"+e,(l||[]).concat(n||[]),(d||[]).concat(r||[]));return v.enabled&&o.enable(v.flags),v.children.push(o),o};return h.enable=function(e){v.enabled=!0,v.flags=e,e&&(v.level=o.getLevel(u,e)),f(),r.invoke(v.children,"enable",e)},h.disable=function(){v.enabled=!1,f(),r.invoke(v.children,"disable")},h.destroy=function(){for(h.enable=i,h.disable(),n.loggers=r.filter(n.loggers,(function(e){return e!==h}));v.children.length;)v.children.pop().destroy()},f(),n.loggers.push(h),h}var n={loggers:[],enabled:!1};return t.enable=function(e,t){n.enabled=!0,e&&o.set(e,t),r.invoke(n.loggers,"enable",e)},t.disable=function(){n.enabled=!1,o.set({}),o.set({},{persist:!0}),r.invoke(n.loggers,"disable")},t.destroy=function(){for(;n.loggers.length;)n.loggers.pop().destroy()},t.LEVELS=a,t}}),(function(e,t,n){function i(){try{var e=l.get();return e&&u.parse(e)||{}}catch(e){return{}}}function r(e,t){try{var n=u.stringify(e);l.set(n,t)}catch(e){}}function o(e,t){var n=c.keys(t);return!!c.find(n,(function(t){return s(t,e)}))}function a(e,t){for(var n in t)if(s(n,e))return t[n]||d.DEFAULT;return d.DEFAULT}function s(e,t){return new RegExp("^"+e.replace(/\*/g,".*")+"$").test(t)}var c=n(0),u=n(8),l=n(145),d=n(57);e.exports={get:i,set:r,match:o,getLevel:a}}),(function(e,t,n){function i(){try{return window.localStorage.setItem(u,1),window.localStorage.removeItem(u),!0}catch(e){return!1}}function r(e,t){t=s.assign({persist:!1},t),t.persist&&i()?window.localStorage.setItem(c,e):l=e}function o(){return l||!i()?l:i()?window.localStorage.getItem(c)||"":void 0}function a(){i()&&window.localStorage.removeItem(c),l=""}var s=n(0),c="qubit_logger",u="__dwTest__",l="";e.exports={set:r,get:o,reset:a}}),(function(e,t){function n(e){return e&&!!e.stack&&!!e.message}e.exports=function(e){e=[].slice.apply(e);var t=e[e.length-1],i=t instanceof Error||n(t),r=!i&&t&&"object"==typeof t,o=i||r?e.slice(0,-1):e,a=o.join(" ");r&&!a&&(a="metadata:"),i&&!a&&(a=t.message);var s={message:a};return i&&t&&(s.error=t),r&&t&&(s.metadata=t),s}}),(function(e,t){e.exports=function(e,t){var n=[e].concat(t);return function(e,t,i,r){for(var o=0;o<n.length;o++)n[o](e,t,i,r)}}}),(function(e,t,n){function i(){return["hsl(",Math.floor(360*Math.random()),",",Math.floor(100*Math.random())+"%",",",Math.floor(66*Math.random())+"%",")"].join("")}function r(){return!s.find(c.NAMES,(function(e){return!l[e]}))}function o(){return l.groupCollapsed&&l.groupEnd}function a(){return l.timeline&&l.table&&!window.__karma__}var s=n(0),c=n(57),u=n(149),l=window.console,d={trace:"#6C7A89",debug:"#87D37C",info:"#446CB3",warn:"#E87E04",error:"#F22613"};e.exports=function(){if(!l)return function(){};var e=r(),t=o(),n=a(),c=i();return function(i,r,o,a){function p(){return u(r.toUpperCase(),5)+" ["+i+"]: "+a.message}function f(){return["%c"+u(r.toUpperCase(),5)+"%c %c["+i+"]%c: "+a.message,"font-weight:bold;color:"+d[r]+";","","font-weight:bold;color:"+c+";",""]}t&&a.metadata?(n?l.groupCollapsed.apply(l,f()):l.groupCollapsed(p()),s.objectEach(a.metadata,(function(e,t){l.log(t,e)})),l.groupEnd()):a.message&&(e?n?l[r].apply(l,f()):l[r](p()):l.log(p())),a.error&&(e?l.error(a.error):l.log(a.error))}},e.exports.__stubConsole__=function(e){var t=l;return l=e,function(){l=t}}}),(function(e,t){e.exports=function(e,t){for(var n=-1,i=t-e.length;++n<i;)e+=" ";return e}}),(function(e,t,n){var i=n(23).Promise;n(152).ie11()&&i._setScheduler((function(e){setTimeout(e,1)}))}),(function(e,t){}),(function(e,t){e.exports={},e.exports.ie11=function(e){return e=e||window.navigator.userAgent.toLowerCase(),e.indexOf("trident/7.0")>-1}}),(function(e,t,n){var i=n(154);e.exports=function(e){var t=e.endpoints.zonk;return i(t,e.environment,{release:e.version,tags:{trackingId:e.trackingId,propertyId:e.propertyId,isPreview:e.isPreview,bundleId:e.bundleId}})}}),(function(e,t,n){e.exports=n(155)}),(function(e,t,n){var i=n(156),r=n(157),o=n(80),a=n(161);e.exports=function(e,t,n){var s=!!e;if(!t)throw new Error("environment required");return function(c,u){function l(e,r){if(s){p.debug("Parsing error",e);var o=a(e),c=i(t,[n,u,o,r]);f(c)}}function d(e,r){if(s){p.debug("Parsing message: "+e);var o={message:e},a=i(t,[n,u,o,r]);f(a)}}var p=o(c),f=s?r(e,c):null;return{error:l,message:d}}}}),(function(e,t,n){function i(e,t){r.objectEach(t,(function(t,n){t instanceof Array||"object"!=typeof t?e[n]=t:(e[n]||(e[n]={}),r.assign(e[n],t))}))}var r=n(0);e.exports=function(e,t){var n={level:"error",logger:"poe",environment:e,request:{headers:{"User-Agent":navigator.userAgent,Referer:document.referrer},url:document.location.href}};return r.reduce(t,(function(e,t){return i(e,t||{}),e}),n)}}),(function(e,t,n){var i=n(12),r=n(8),o=n(80)("sendEvent");e.exports=function(e,t){function n(){var t=c.shift();t?(i.post(e,r.stringify(t),a),u=!0,setTimeout(n,300)):u=!1}function a(e){e?s.error("Unable to send request to Zonk",e):s.debug("Event successfully sent to Zonk")}var s=o(t),c=[],u=!1;return"/"!==e.slice(-1)&&(e+="/"),e+="app/"+t,function(e){s.debug("Sending event",e),c.length<20?c.push(e):s.trace("Hit queue limit"),u||n()}}}),(function(e,t,n){function i(e,t,n){function i(n){r((function(){"POST"===e?g.send(n):g.send(),0!==h&&(f=setTimeout((function(){m=!0,v.emit("error",d(e,t,"timeout"))}),h))}))}n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]=n.headers["Content-Type"]||"text/plain";var f,m,v=u(),g=new(window.XDomainRequest||window.XMLHttpRequest),h=n.timeout===c?p:n.timeout;return g.open(e,!0===n.cacheBuster?l(t):t,!0),g.timeout=h,a()&&o(g,n.headers),g.onload=function(){if(!m){if(g.status>=300)return void v.emit("error",d(e,t,g.status));clearTimeout(f),v.emit("success",g.responseText)}},g.onerror=function(){m||(clearTimeout(f),v.emit("error",d(e,t,window.XDomainRequest?"invalid response":"network/CORS")))},g.onprogress=s,g.ontimeout=s,{on:v.on,send:i}}function r(e){setTimeout(e,0)}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])}function a(){var e=new(window.XDomainRequest||window.XMLHttpRequest);return Boolean(e.setRequestHeader)}function s(){}var c,u=n(16),l=n(159),d=n(160),p=2e3;i.headerSupport=a,e.exports=i}),(function(e,t){e.exports=function(e){var t="?";return e.indexOf("?")>-1&&(t="&"),e+t+"_="+Math.random()}}),(function(e,t){e.exports=function(e,t,n){return new Error([e,t,"("+n+")"].join(" "))}}),(function(e,t){e.exports=function(e){var t=e.message,n=e.name,i=t;return n&&(i=n+": "+i),{message:i,exception:{values:[{type:n,value:t}]},extra:{stack:(e.stack||e.stacktrace||"").split(/\n/g)}}}}),(function(e,t,n){function i(e){return e=/^(https?:)?\/\//.test(e)?e:window.location.protocol+"//"+e,e.replace(/\/$/,"")}function r(e){o.objectEach(e,(function(t,n){"string"==typeof t?e[n]=i(t):r(e[n])}))}var o=n(0),a=n(81),s=n(163),c=n(174).isPreviewMode;e.exports=function(e){e.domains=e.domains.concat(["localhost","127.0.0.1"]),e.cookieDomain=a(e.domains),e.previewOptions=s.init(window.location.href,e.cookieDomain),e.isPreviewMode=o.get(e,"previewOptions.preview")||c(),r(e.endpoints)}}),(function(e,t,n){function i(e){return o(e)||a.get()}function r(e,t){var n=i(e);return n?(n.remember&&a.set(n,t),n):null}var o=n(164),a=n(170);e.exports={get:i,init:r}}),(function(e,t,n){function i(e){return e&&decodeURIComponent(e).split(",")}function r(e){return e.replace(/^qb_/,"").replace(/(_(.))/g,(function(e,t,n){return n.toUpperCase()}))}function o(e,t){return 0===e.indexOf(t)}var a=n(0),s=n(165),c=n(83)("#");e.exports=function(e){var t=s.parse(e);t.hash&&(t.hash=c.parse(t.hash));var n=a.assign({},t.search,t.hash),u=a.filter(a.keys(n),(function(e){return o(e,"qb_")}));return u.length?a.reduce(u,(function(e,t){var o=i(n[t]);return"qb_opts"===t?a.each(o,(function(t){e[r(t)]=!0})):e[r(t)]=o,e}),{}):null}}),(function(e,t,n){function i(e){var t=s.parse(e);return"string"==typeof t.auth&&(t.auth=t.auth&&o(t.auth)),"string"==typeof t.search&&(t.search=t.search&&c.parse(t.search)),t}function r(e){return"string"!=typeof e.auth&&(e.auth=e.auth&&a(e.auth)),"string"!=typeof e.search&&(e.search=e.search&&c.format(e.search)),s.format(e)}function o(e){var t=e.split(":");return{user:t[0],password:t[1]}}function a(e){return e.user+":"+e.password}var s=n(166),c=n(83)("?");e.exports={parse:i,format:r}}),(function(e,t,n){e.exports={parse:n(167),format:n(169)}}),(function(e,t,n){var i=n(168),r=n(82);e.exports=function(e){var t={};t.href=e;for(var n=e.match(i),o=r.length;o--;)t[r[o]]=n[o+1];return t.path=t.search?t.pathname?t.pathname+t.search:t.search:t.pathname,t}}),(function(e,t){e.exports=/([^:\/?#]+:)?(?:(?:\/\/)(?:([^\/?#]*:[^@\/]+)@)?([^\/:?#]+)(?:(?::)(\d+))?)?(\/?[^?#]*)?(\?[^#]*)?(#[^\s]*)?/}),(function(e,t,n){var i=n(82);e.exports=function(e){for(var t="",n=i.length;n--;){var r=i[n],o=e[r];o&&("protocol"===r?o+="//":"auth"===r?o+="@":"port"===r&&(o=":"+o),t=o+t)}return e.href&&0===e.href.indexOf("//")&&(t="//"+t),t}}),(function(e,t,n){function i(e,t){var n=encodeURIComponent(JSON.stringify(e));o.set(a,n,{domain:t,path:"/"})}function r(e){var t=o.val(a);if(t)try{return JSON.parse(decodeURIComponent(t))}catch(e){}}var o=n(6),a="qb_opts";e.exports={get:r,set:i}}),(function(e,t){e.exports=function(e){for(var t,n=[],i=e.split("."),r=0;r<i.length;r++)t=i.slice(r,i.length).join("."),n.push(t,"."+t);return n.push(null),n}}),(function(e,t){e.exports=function(e){e=e.replace(/\/$/,"").split("/");for(var t=[],n=0;n<e.length;n++)t.push(e.slice(0,n+1).join("/")||"/");return t}}),(function(e,t){e.exports="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s+|\s+$)/gi,"")}}),(function(e,t,n){function i(e){if(d(e,"smartserve_preview"))return!0;var t=u.parse(e);return a(t.search,"aura","preview")||a(t.hash,"aura","preview")}function r(){return"true"===c.val("smartserve_preview")}function o(){return i(window.location.href)||r()}function a(e,t,n){if(!e||""===e)return!1;var i=l.parse(e.replace(/^(\?|#)/,""));if(!i[t])return!1;var r=decodeURIComponent(i[t]).split(",");return s.some(r,(function(e){return e===n}))}var s=n(0),c=n(6),u=n(84),l=n(178),d=n(24);e.exports={isPreviewMode:o,urlHasPreviewFlag:i,cookieHasPreviewFlag:r}}),(function(e,t,n){var i=n(176),r=n(85);e.exports=function(e){var t={};t.href=e;for(var n=e.match(i),o=r.length;o--;)t[r[o]]=n[o+1];return t.host=t.hostname&&t.port?t.hostname+":"+t.port:t.hostname,t.query=t.search&&t.search.substr(1),t.path=t.search?t.pathname?t.pathname+t.search:t.search:t.pathname,t}}),(function(e,t){e.exports=/([^:\/?#]+:)?(?:(?:\/\/)(?:([^\/?#]*:[^@\/]+)@)?([^\/:?#]+)(?:(?::)(\d+))?)?(\/?[^?#]*)?(\?[^#]*)?(#[^\s]*)?/}),(function(e,t,n){var i=n(85);e.exports=function(e){for(var t="",n=i.length;n--;){var r=i[n],o=e[r];o&&("protocol"===r?o+="//":"auth"===r?o+="@":"port"===r&&(o=":"+o),t=o+t)}return e.href&&0===e.href.indexOf("//")&&(t="//"+t),t}}),(function(e,t){function n(e){var t="";for(var n in e)if(r(e,n)){var i=e[n];if(o(i))for(var a=i.length,s=0;s<a;s++)t+="&"+n+"="+i[s];else t+="&"+n+"="+i}return t.replace("&","?")}function i(e){for(var t={},n=(e||"").replace(/\?/,"").split(/&amp;|&/),i=n.length,a=0;a<i;a++)if(n[a]){var s=n[a].indexOf("=");-1===s&&(s=n[a].length);var c=n[a].substring(0,s),u=n[a].substring(s+1);r(t,c)?(o(t[c])||(t[c]=[t[c]]),t[c].push(u)):t[c]=u}return t}function r(e,t){return e.hasOwnProperty(t)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}e.exports={parse:i,stringify:n}}),(function(e,t,n){var i=n(0),r=n(180);e.exports=i.map(r.keys(),(function(e){var t=e.match(/^\.\/((\d+)_.+)\.js$/);return{number:parseInt(t[2],10),name:t[1],fn:r(e)}})).sort((function(e,t){return e.number-t.number}))}),(function(e,t,n){function i(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./10_setup_biscotti_syncing.js":181,"./11_get_or_create_visitor_id.js":188,"./12_wait_for_page_load.js":190,"./13_start_uv_listener.js":191,"./14_start_uv_mapper.js":192,"./15_create_jolt.js":193,"./16_sample_visitors.js":194,"./17_record_execution_time.js":195,"./18_create_explorer.js":196,"./19_create_experience_engine.js":203,"./1_create_globals.js":207,"./20_create_placement_engine.js":208,"./21_init_validator.js":209,"./22_export_api.js":210,"./23_start_visitor_engine.js":211,"./24_start_jolt.js":212,"./25_create_aura.js":213,"./26_start_experience_engine.js":217,"./27_start_placement_engine.js":218,"./28_export_api.js":219,"./29_create_external_api.js":220,"./2_load_blue_portal.js":221,"./30_flush_biscotti.js":222,"./31_start_placement_counters.js":223,"./3_load_preview.js":224,"./4_validate_domain.js":233,"./5_polyfill_uv.js":234,"./6_execute_pre_script.js":236,"./7_create_biscotti.js":237,"./8_create_lookup.js":247,"./9_export_api.js":250};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=180}),(function(e,t,n){function i(e,t){function n(){e.crossDomain=e.crossDomain||{},e.crossDomain.iframes=e.crossDomain.iframes||[];var t=d.map(e.crossDomain.iframes,(function(t){var n=h(e.domains,p.parse(t).hostname);return r(n,"all cross domain iframes need a corresponding domain"),{url:t,domain:n}})),n=e.crossDomain.sameProperty?null:{permanent:["deliverCloseTime","visitorHistory","visitorState","experienceState","experienceSegmentations"],session:["experienceState"]};return t.length?c.crossDomainSync({exclude:n,iframes:t,write:!0,thirdParty:e.crossDomain.thirdParty}):m.resolve()}function i(n,i){e.flags.COOKIE_SYNC_METRICS&&t.emitUvEvent("qubit.debug",{type:"BiscottiSync."+n,value:JSON.stringify(i)})}var c=t.biscotti;b(document.location.href,"qb_context_id")&&c.permanent.set("visitorId",o(document.location.href,"qb_context_id"));var u=s(e,t,{enabled:e.flags.STAMP_AB}),l=(e.flags.STAMP_SYNC||u.isVariation)&&y.supported(),f=y(e.trackingId);u.activate(),l&&c.onWrite(a(f));var v=e.flags.LOCALSTORAGE_SYNC&&w.supported(),g=w();return v&&c.onWrite((function(e){"permanent"===e.type&&g.setState({biscottiPermanent:e.cookieString}),"generic"===e.type&&g.setState({biscottiGeneric:e.cookieString})})),0===c.permanent.get("viewNumber")||0===c.generic.get("updatedAt")?(t.log.info("Syncing cookie state"),(function(e){function n(e){var n=d.objectReduce(e,(function(e,n,r){if(null===n||!n.biscottiPermanent)return e;var o=c.permanent.parseCookieString(n.biscottiPermanent),a=o.updatedAt;return t.log.info("Store found type:",r,"updated at:",a),i("storeFound",{updatedAt:a,type:r,visitorId:o.visitorId}),e&&e.updatedAt>a?e:a<(new Date).getTime()-31536e6?e:{type:r,updatedAt:a,visitorId:o.visitorId,genericString:n.biscottiGeneric,permanentString:n.biscottiPermanent}}));n&&(t.log.info("Merging cookie state from store type:",n.type,"updated at:",n.updatedAt),c.permanent.hydrate(n.permanentString),i("storeMerge",{updatedAt:n.updatedAt,type:n.type,visitorId:n.visitorId,index:"permanent"})),n&&n.genericString&&(c.generic.hydrate(n.genericString),i("storeMerge",{updatedAt:n.updatedAt,type:n.type,visitorId:n.visitorId,index:"generic"}))}var r=e.useLocalStorage?g.getState():null;return e.useStamp?(t.log.info("Getting state from stamp"),f.getState()["catch"]((function(e){t.log.error("Error syncing state with stamp",e)})).then((function(e){return e=e||{},t.log.info("Stamp state retrieved"),n({localStorage:r,stamp:e})}))):m.resolve(n({localStorage:r,stamp:null}))})({useStamp:l,useLocalStorage:v}).then((function(){var e=c.generic.get("keyValue");c.generic.set("keyValue",e)})).then(n)):n()}function r(e,t){if(!e)throw new Error(t);return e}function o(e,t){var n=new RegExp("#.*"+t+"=([^&]*)"),i=e.match(n);return i&&i[1]}function a(e){var t={},n=d.debounce((function(){e.setState(t)}),x);return function(e){"permanent"===e.type&&(t.biscottiPermanent=e.cookieString,n()),"generic"===e.type&&(t.biscottiGeneric=e.cookieString,n())}}function s(e,t,n){var i=c()||v();n.enabled&&u(i,e.cookieDomain);var r=g.etcExperiment(i,"stamp_syncing"),o=!!n.enabled&&r>.5;return{isVariation:o,activate:function(){n.enabled&&t.emitUvEvent("qubit.ab",{experimentName:"stamp-syncing",variationName:o?"variation":"control",variationAllocation:.5,p:r,namespace:"smartserve"})}}}function c(){try{return window.localStorage.getItem("__qubitVisitorId")}catch(e){}}function u(e,t){return f.set("_qubitTracker",e,{expires:l(31536e6),domain:t,path:"/"}),e}function l(e){var t=(new Date).getTime();return new Date(t+e)}var d=n(0),p=n(84),f=n(6),m=n(17),v=n(58),g=n(31),h=n(81),b=n(24),y=n(186),w=n(187),x=5e3;e.exports=i}),(function(e,t,n){var i=n(5);e.exports=function(e){function t(e){return i((function(t,n){i.resolve(e).then(n,t)}))}return t(i((function(n,i){var r,o=r=e&&e.length;if(!o)return i(e);for(var a=0;a<r;a++)!(function(r,a){if(r&&"function"==typeof r.then)return t(r.then(i,(function(t){e[a]=t,--o||n(e)})));i(r)})(e[a],a)})))}}),(function(e,t,n){var i=n(5);e.exports=function(e){return i((function(t,n){var r=e&&e.length;if(r)for(var o=0;o<r;o++)i.resolve(e[o]).then(t,n)}))}}),(function(e,t,n){var i=n(5);e.exports=function(e){return i((function(t,n){n(e)}))}}),(function(e,t){function n(e){if(!e)throw new Error("Seed required");var t=o(r(e,3),[]),n=new i(t),c=function(){for(var e=n.g(l),t=d,i=0;e<p;)e=(e+i)*u,t*=u,i=n.g(1);for(;e>=f;)e/=2,t/=2,i>>>=1;return(e+i)/t};return c.int32=function(){return 0|n.g(4)},c.quick=function(){return n.g(4)/4294967296},c["double"]=c,o(a(n.S),s),c}function i(e){var t,n=e.length,i=this,r=0,o=i.i=i.j=0,a=i.S=[];for(n||(e=[n++]);r<u;)a[r]=r++;for(r=0;r<u;r++)a[r]=a[o=m&o+e[r%n]+(t=a[r])],a[o]=t;(i.g=function(e){for(var t,n=0,r=i.i,o=i.j,a=i.S;e--;)t=a[r=m&r+1],n=n*u+a[m&(a[r]=a[o=m&o+t])+(a[o]=t)];return i.i=r,i.j=o,n})(u)}function r(e,t){var n,i=[],o=typeof e;if(t&&"object"===o)for(n in e)try{i.push(r(e[n],t-1))}catch(e){}return i.length?i:"string"===o?e:e+"\0"}function o(e,t){for(var n,i=e+"",r=0;r<i.length;)t[m&r]=m&(n^=19*t[m&r])+i.charCodeAt(r++);return t}function a(e){return String.fromCharCode.apply(0,e)}var s=[],c=Math,u=256,l=6,d=c.pow(u,l),p=c.pow(2,52),f=2*p,m=u-1;e.exports=n}),(function(e,t,n){var i=n(0),r=n(8),o=n(12);e.exports=function(e){function t(t){return n().then((function(n){var a=i.assign(n,t);return o.get("https://api.qubit.com/stamp/t/"+e,{headers:{"Set-State":r.stringify({state:a})}})})).then((function(e){return r.parse(e)}))}function n(){return o.get("https://api.qubit.com/stamp/t/"+e).then((function(e){return e?r.parse(e).state||{}:{}}))}return{getState:n,setState:t}},e.exports.supported=o.headerSupport}),(function(e,t,n){var i=n(0),r=n(8);e.exports=function(){function e(e){var n=i.assign(t(),e),o={state:n};return window.localStorage.setItem("__qubitCookieState",r.stringify(o)),o}function t(){var e=window.localStorage.getItem("__qubitCookieState");return r.parse(e||'{ "state": {} }').state}return{getState:t,setState:e}},e.exports.supported=function(){try{window.localStorage.setItem("__qubitLocalStorageTest","0123");var e="0123"===window.localStorage.getItem("__qubitLocalStorageTest");return window.localStorage.removeItem("__qubitLocalStorageTest"),e}catch(e){return!1}}}),(function(e,t,n){function i(){return a.get("_qubitTracker")[0]&&a.get("_qubitTracker")[0].value}function r(e,t){return a.set("_qubitTracker",e,{expires:o(31536e6),domain:t,path:"/"}),e}function o(e){var t=(new Date).getTime();return new Date(t+e)}var a=n(6),s=n(8),c=n(58),u=n(189);e.exports=function(e,t){var n=t.biscotti.permanent,o=n.get("visitorId")||i();o||(t.log.info("Creating new visitor ID"),o=c(),n.set("visitorId",o),n.flush()),r(o,e.cookieDomain),t.log.info("Visitor detected as "+o);var a=u(o);if(a){t.uv.once(/^([^.]+\.)?[a-z]{2}View$/,(function(){t.uv.emit("qubit.debug",{type:"jolt.flip",value:s.stringify(a)})})).replay()}n.set("visitorId",o),e.visitorId=o}}),(function(e,t,n){function i(e){var t=null,n=s();if(n!==e){if(n){t={from:n,to:e,ts:r()};var i=o();i.push(t),a(i)}c(e)}return t}function r(){return(new Date).getTime()}function o(){try{var e=i.localStorage.getItem(l.flips);return e?u.parse(e):[]}catch(e){return[]}}function a(e){try{i.localStorage.setItem(l.flips,u.stringify(e))}catch(e){}}function s(){try{return i.localStorage.getItem(l.visitorId)}catch(e){return null}}function c(e){try{i.localStorage.setItem(l.visitorId,e)}catch(e){}}var u=n(8);i.localStorage=window.localStorage,e.exports=i;var l={visitorId:"__qubitVisitorId",flips:"__qubitFlips"}}),(function(e,t,n){var i=n(17),r=n(0);e.exports=function(e){if(e.waitForPageLoad)return new i(function(e){window.addEventListener("load",(function(){e()}));var t=r.get(window,"performance.timing"),n="complete"===document.readyState;(t&&t.loadEventStart||!t&&n)&&e()})}}),(function(e,t){e.exports=function(e,t,n){n.has("legacyUvListener")&&n.require("legacyUvListener").init(!1,"universal_variable")}}),(function(e,t){e.exports=function(e,t,n){if(n.has("uvMapper")){var i=n.require("uvMapper")(t.uv,{dataLocation:e.dataLocation,currency:e.currency,qpNamespace:e.qpNamespace,allowMapQpCustom:e.allowMapQpCustom});i&&i.start&&i.start(),t.uvMapper=i}}}),(function(module,exports,__webpack_require__){function liteSample(e){return"number"==typeof e.liteSample?e.liteSample:!!e.flags.BASIC&&.9}function getConfig(joltConfig,log){if("string"!=typeof joltConfig)return joltConfig;var module={exports:{}};try{eval(joltConfig)}catch(e){log.error("Unable to eval jolt config",e)}return module.exports}var _=__webpack_require__(0),generateRandom=__webpack_require__(31);module.exports=function(e,t,n){if(n.has("jolt")){var i=liteSample(e);i&&t.log.info("Running Jolt lite on a sample size of "+i);var r=i&&generateRandom.liteSample(e.visitorId)<i,o=n.has("paymentUrls")?n.require("paymentUrls"):[],a={visitorId:e.visitorId,domains:e.domains,trackingId:e.trackingId,domain:e.cookieDomain,dataLocation:e.dataLocation,biscotti:t.biscotti,lookup:t.lookup["for"]("jolt"),uv:t.uv,lite:r,bundleId:e.bundleId,intercept:_.get(t,"preScript.intercept")||_.get(t,"uvMapper.intercept"),disableTracking:e.isPreview};/MSIE [8,9,10]/.test(navigator.userAgent)&&(a.deflate=!1),e.joltConfig&&_.assign(a,getConfig(e.joltConfig,t.log)),a.selfReferralPatterns=o.concat(a.selfReferralPatterns||[]);var s=n.require("jolt")(a);t.jolt=s,t.preScript.emit("visitorReady",{getVisitorState:s.getVisitorState,getBrowserState:s.getBrowserState,visitorId:e.visitorId})}}}),(function(e,t,n){var i=n(31);e.exports=function(e,t){if("number"==typeof e.platformSample&&(t.log.info("Running smartserve on a sample size of "+e.platformSample),i.platformSample(e.visitorId)>e.platformSample))return t.log.warn("Visitor not within the platform sample"),{abort:!0}}}),(function(e,t,n){function i(e,t){function n(){o.each(s,(function(e){if(!e.sent){var n=window.performance.timing[e.name];n&&(e.sent=!0,t.emitUvEvent("qubit.statistic",{name:e.name,value:n-window.performance.timeOrigin}))}}))}n(),window.addEventListener("load",n),document.addEventListener("readystatechange",n)}function r(e,t){t.emitUvEvent("qubit.statistic",{name:["smartserve","production",e.trackingId,"executionTime"].join("."),value:window.__smartserveFinishTime-window.__smartserveStartTime}),t.emitUvEvent("qubit.statistic",{name:["smartserve","production",e.trackingId,"loadTime"].join("."),value:window.__smartserveStartTime-window.performance.timing.navigationStart})}var o=n(0),a=n(31);e.exports=function(e,t){if(!window.__qubit.previewActive&&window.performance&&window.performance.timing){if(a.statisticEventSample(e.visitorId)>.01)return[];window.setTimeout((function(){r(e,t),i(e,t)}))}};var s=[{name:"domLoading",sent:!1},{name:"domComplete",sent:!1},{name:"domInteractive",sent:!1}]}),(function(e,t,n){var i=n(197);e.exports=function(e,t){t.jolt&&(t.explorer=i(e,t))}}),(function(e,t,n){var i=n(0),r=n(5),o=n(86),a=n(198);e.exports=function(e,t){function n(n){var r=i.get(window,"__qubit.explorer.init");if(r)return r(n,{config:e,context:t})}return t.jolt.getBrowserState().then((function(t){return new r(function(i,r){if(a(e,t)){var s=e.endpoints.aperture;o(s+"/explorer/outer.js",(function(e){if(e)return r(e);i(n(s))}))}else i()})}))}}),(function(e,t,n){var i=n(199),r=n(200),o=n(201);e.exports=function(e,t){try{return r(e,t)&&i(e,t)&&o(e,t)}catch(e){return!1}}}),(function(e,t,n){var i=n(6),r=n(24),o=n(59).EXPLORER_FLAG,a=n(59).LEGACY_DEBUGGER_FLAG,s=n(59).SEGMENTS_PREVIEW_FLAG;e.exports=function(e){var t=!!i.val(o),n=!!r(document.location.href,o),c=!!r(document.location.href,a);return!(!!r(document.location.href,s)||!(t||n||c)||(i.set(o,1,{path:"/",domain:e.cookieDomain}),0))}}),(function(e,t,n){function i(){c.set("cookietest","1");var e="1"===c.val("cookietest");return c.clear("cookietest"),e}function r(){return"XMLHttpRequest"in window&&"withCredentials"in new window.XMLHttpRequest}function o(){var e="modernizr";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}function a(){return document.createElement("div").style.flexBasis!==undefined}function s(){return!/FBA[N,V]/.test(window.navigator.userAgent)}var c=n(6);e.exports=function(){return[i,r,o,a,s].reduce((function(e,t){return e&&t()}),!0)}}),(function(e,t,n){var i=n(0),r=n(202).lt;e.exports=function(e,t){var n=i.get(t,"ua.deviceType");if("mobile"!==n&&"tablet"!==n)return!0;var o=i.get(t,"ua.osName"),a=i.get(t,"ua.osVersion");if(!o||!a)return!1;switch(o=o.toLowerCase()){case"ios":return!r(a,"9");case"android":return!r(a,"4.4.4");default:return!1}}}),(function(e,t){function n(e){return e=e.replace(/[^\d.]/gi,"").split("."),{major:Number(e[0]||0),minor:Number(e[1]||0),patch:Number(e[2]||0)}}function i(e){return[e.major,e.minor,e.patch].join(".")}function r(e,t){return e=n(e),t=n(t),e.major!==t.major?e.major>t.major?1:-1:e.minor!==t.minor?e.minor>t.minor?1:-1:e.patch!==t.patch?e.patch>t.patch?1:-1:0}function o(e,t){return r(e,t)>0}function a(e,t){return r(e,t)<0}function s(e,t){return 0===r(t,e)}e.exports={eq:s,gt:o,lt:a,compare:r,parse:n,toString:i}}),(function(e,t,n){function i(e,t){return r({base:e.endpoints.deliverModules.replace(/\/?$/,"/")})}var r=n(204);e.exports=function(e,t,n){n.has("experienceEngine")&&(e.useMicroAMD&&(t.amd=i(e,n)),t.experienceEngine=n.require("experienceEngine")(e,t,n))}}),(function(e,t,n){var i=n(5),r=n(35),o=n(86),a=n(205),s=n(206);e.exports=function(e){function t(e,t,n){function i(e){if("function"!=typeof t)return t;var n={exports:{}},i=t.apply(null,s(e,(function(e){return"exports"===e?n.exports:"module"===e?n:e})));return void 0===i?n.exports:i}if("string"==typeof e){if(e in u)return u[e];throw new Error("Module not loaded: "+e)}return r(s(e||[],c)).then(i)["catch"](n)}function n(e,n,i,r){function o(n,i){return"string"==typeof n?t(a(e,n,!0)):t(s(n,p),i)}function c(t){return u[e]=t,delete l[e],t}function p(t){return"require"===t?o:a(e,t,!0)}return"string"!=typeof e?d.push(arguments):(i||(i=n,n=!1),n||(n=i&&i.length>1?["require","exports","module"]:[]),l[e]=o(n,i).then(c),l[e]["catch"](r))}function c(t){return"string"!=typeof t?t:"exports"===t||"module"===t?t:l[t]||t in u?l[t]||u[t]:i((function(i,r){setTimeout((function(){if(l[t]||t in u)return i(l[t]||u[t]);o(a(e.base,t),(function(e){if(e)return r(e);if(l[t]||t in u)return i(l[t]||u[t]);if(d.length){var o=d.pop();return i(n(t,o[0],o[1]))}return i(n(t))}))}),0)}))}e=e||{};var u={},l={},d=[];return{require:t,define:n}}}),(function(e,t){e.exports=function(e,t,n){return n||(t=t.replace(/(?:\.js)?(\?|#|$)/,".js$1")),/^(([^:\/?#]+:)?\/)?\//.test(t)?t:n&&"."!==t.charAt(0)?t:(e=e.replace(/\/[^\/]+$/,"/"),-1===e.indexOf("/")&&(e=""),(e+t).replace(/[^\/]*\/[^\/]*\.\.\//g,"").replace(/[^\/]*\.\//g,""))}}),(function(e,t){e.exports=function(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}}),(function(e,t,n){var i=n(24);e.exports=function(e){window.__qubit=window.__qubit||{},window.__qubit.deliver=window.__qubit.deliver||{},window.__qubit.smartserve=window.__qubit.smartserve||{},(i(document.location.href,"smartserve_debug")||i(document.location.href,"qb_debug"))&&(window._ss_debug=!0),window.__qubit.smartserve.version=e.version,window.__qubit.feedbackProfileId=e.feedbackProfileId||-1,window.__qubit.disableMutationObserver=e.disableMutationObserver}}),(function(e,t,n){var i=n(0);e.exports=function(e,t,n){function r(){return n.require("placementEngine")(i.map(e.placements||[],o),e,t)}function o(e){return{id:e.id,active:a(i.get(e,"activeImplementation.code")),draft:a(i.get(e,"draftImplementation.code"))}}function a(e){if(!e)return{};var t,i;return n.has(e.modules.js)&&(t=s(e.modules.js),n.has(e.modules.css)&&(i=function(){return n.require(e.modules.css)})),{js:t,css:i}}function s(e){try{return n.require(e)}catch(t){return function(){return n.require(e)}}}n.has("placementEngine")&&(t.placementEngine={start:r})}}),(function(e,t){e.exports=function(e,t,n){function i(){}function r(){return window.localStorage&&!!window.localStorage.getItem(c)}function o(){try{window.localStorage.setItem(c,!0),window.__qubit.logger.enable(),s()}catch(e){}}function a(){try{window.localStorage.removeItem(c),u.validate=i}catch(e){}}function s(){try{u.validate=n.require("validator")(t.jolt.options.prongEnv),t.jolt.onEnrichment(u.validate)}catch(n){var e="OKQP VALIDATOR: Start failed ["+n.message+"]",i=new Error(e);i.originalError=n,t.poe.error(i)}}if(e.isPreviewMode&&t.jolt&&n.has("validator")){var c="okqp-log",u={enable:o,disable:a,isEnabled:r,validate:i};r()&&(u.validate=s()),t.validator=u}}}),(function(e,t,n){e.exports=n(60)}),(function(e,t,n){var i=n(0),r=n(11),o=r("ssg-visitor-engine:startVisitorEngine");e.exports=function(e,t,n){function r(t,n){e.isPreviewMode||(o.trace("Buffering QP event to be emitted",{type:t,attributes:n}),l.push({type:t,attributes:n}),d())}function a(){o.debug("Flushing event buffer",{events:l}),i.each(l,(function(e){try{t.uv.emit(e.type,e.attributes)}catch(t){o.error("Failed to emit QP event",{type:e.type,attributes:e.attributes,error:t}),c.error(t)}})),l=[]}var s;if(!e.flags.DISABLE_SEGMENTS&&t.jolt&&n.has("visitorEngine")){var c=t.createPoe("visitorEngine"),u={flags:e.flags,domain:e.cookieDomain,index:e.profileIndex,jolt:t.jolt,endpoint:e.endpoints.visitorEngine,stash:e.endpoints.stash,ping:r,propertyId:e.propertyId,biscotti:t.biscotti,uv:t.uv,trackingId:e.trackingId,lookup:t.lookup["for"]("visitorEngine"),poe:c,explorer:t.explorer,env:e.environment},l=[],d=i.debounce(a,10);try{s=n.require("visitorEngine")(u),t.visitorEngine=s,t.preScript.emit("segmentsReady",{getMemberships:s["public"].getMembershipsAsync,isMemberOf:s["public"].isMemberOfAsync,onMembershipsChanged:s["public"].onMembershipsChanged})}catch(e){var p="Visitor engine: Start failed ["+e.message+"]",f=new Error(p);f.originalError=e,c.error(f)}}}}),(function(e,t){e.exports=function(e,t){t.jolt&&t.jolt.start()}}),(function(e,t,n){var i=n(214);e.exports=function(e,t,n){if(e.flags.PARKOUR){var r=t.createPoe("aura");i(t,r,e,n)}}}),(function(module,exports,__webpack_require__){function asyncSupport(){try{return Boolean(eval("(async () => await true)()").then)}catch(e){return!1}}var _=__webpack_require__(0),loadAura=__webpack_require__(215),waitFor=__webpack_require__(216);module.exports=function(e,t,n,i){if(window.__qubit=window.__qubit||{},window.__qubit.aura=window.__qubit.aura||{},window.__qubit.aura.registerTrigger=window.__qubit.aura.registerTrigger||function(){},!(e.jolt&&n&&n.parkour&&n.experiments&&asyncSupport()))return!1;window.__qubit.aura.registerTrigger=function(r,o){i.require("auraTrigger")(r,(function(){var a={aura:_.assign({},n.parkour,{customStyles:function(){return i.require("auraStyles")},customExecution:function(){return i.require("auraExecution")(r,o)},contextId:n.visitorId,trackingId:n.trackingId,vertical:n.vertical}),experience:{activate:o,options:r}};return window.__qubit.aura.context={poe:t,jolt:e.jolt,uv:e.uv,biscotti:e.biscotti},window.__qubit.aura.config=a,waitFor((function(){return document.body})).then((function(){loadAura({uv:e.uv})}))}))}}}),(function(e,t){e.exports=function(e){var t=(function(){var e=document.createElement("iframe");return e.id="QubitAura",e.style.border="none",e.style.width="0px",e.style.height="0px",e})();document.body.appendChild(t);var n=t.contentWindow||t.contentDocument.document||t.contentDocument,i=n.document;return i.open(),i.write("<div/>"),i.write('<script src="https://d2r7uc8e08s26x.cloudfront.net/aura.js" crossorigin="anonymous"><\/script>'),i.close(),n.window&&(n.window.onerror=function(t,n,i,r,o){o=o||{message:t},e.uv.emit("qubit.interaction",{type:"parkour.uncaughtError",value:{message:t}})}),t}}),(function(e,t,n){function i(e,t,n){if(e())return t();setTimeout((function(){i(e,t,n+20)}),n||0)}var r=n(5);e.exports=function(e,t){return new r(function(t){i(e,t)})}}),(function(e,t){e.exports=function(e,t){t.experienceEngine&&t.experienceEngine.start()}}),(function(e,t){e.exports=function(e,t){t.placementEngine&&t.placementEngine.start()}}),(function(e,t,n){e.exports=n(60)}),(function(e,t,n){var i=n(0),r=n(17);e.exports=function(e,t){function n(){return r.resolve(t.biscotti.permanent.get("visitorId"))}function o(n){return[n,/#/.test(n)?"&":"#","qb_context_id=",t.biscotti.permanent.get("visitorId"),"&qb_property_id=",e.propertyId].join("")}var a={getContextId:n,decorateUrlWithState:o};t.log.info("Executing onQubitReady callbacks"),window.onQubitReady=window.onQubitReady||[],i.each(window.onQubitReady,(function(e){e(a)}));var s=window.onQubitReady.push;window.onQubitReady.push=function(e){var t=s.apply(window.onQubitReady,arguments);return e(a),t}}}),(function(e,t,n){function i(){return a(window.location.href,"smartserve_load_portal")}function r(){return window.parent===window.top&&window.self!==window.top}function o(e){s=!0;var t=document.createElement("script");t.src=e,document.head.appendChild(t)}var a=n(24),s=!1;e.exports=function(e){if(!s&&r()&&i())return o(e.bluePortalUrl),{abort:!0}}}),(function(e,t){e.exports=function(e,t){t.biscotti.permanent.flush&&(t.biscotti.permanent.flush(),t.biscotti.session.flush())}}),(function(e,t){e.exports=function(e,t,n){n.has("placementCounters")&&n.require("placementCounters").start(e.trackingId,t.uv,{viewCounterEnabled:!!e.flags.ATOM_BADGES_SOCIAL_PROOF_VIEWS})}}),(function(e,t,n){var i=n(225);e.exports=function(e){if(e.isPreviewMode&&(window._ss_debug=!0,!e.isPreview)){return window.__qubit&&window.__qubit.previewActive||i(e),{abort:!0}}}}),(function(e,t,n){var i=n(226);e.exports=i.load}),(function(e,t,n){function i(e,t){var n=t&&t.match(new RegExp(e));return!!n&&n[1]}function r(e){return!/(development|staging)/.test(l.getEnv(e))}function o(e){var t=l.getEnv(window.location.href)||"production",n=l.getLocalPreviewId(window.location.href),i=l.getPreviewUrl(t,n,e);window.__qubit=window.__qubit||{},window.__qubit.previewActive=!0;l.loadScript(i,!0)}var a=n(227),s=n(228),c=n(24),u=n(232),l={};l={hasFlag:c,loadScript:s,getPreviewUrl:u,getEnv:a(i,null,"smartserve_env=(\\w+)"),getLocalPreviewId:a(i,null,"smartserve_local=(\\w+)"),getIsProduction:r,load:o},e.exports=l}),(function(e,t){function n(e,t){var n=i(arguments,2);return function(){var i=n.concat(r(arguments));return e.apply(t,i)}}function i(e,t){return Array.prototype.slice.call(e,2)}function r(e){return Array.prototype.slice.call(e)}e.exports=n}),(function(e,t,n){function i(e){c.write(["<scr","ipt src='",e,"'></scr","ipt>"].join(""))}function r(e){var t=c.getElementsByTagName("head")[0],n=c.createElement("script");n.src=e,t.appendChild(n)}function o(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(t[n].src===e)return!0}function a(e,t){t&&s()?(i(e),o(e)||r(e)):r(e)}var s=n(229),c=document;e.exports=a}),(function(e,t,n){var i=n(230),r=n(231);e.exports=function(){var e=i(r.production);return!!e&&(!e.async&&!e.defer)}}),(function(e,t,n){var i=n(0);e.exports=function(e){var t=document.getElementsByTagName("script");return i.find(t,(function(t){return e.test(t.src)}))}}),(function(e,t){e.exports={production:/smartserve-(\d+)\.js/,preview:/smartserve-(\d+)(-\w+)?(-preview)\.js/}}),(function(e,t){e.exports=function(e,t,n){var i=n.endpoints.preview;return"staging"!==e||i.staging||(e="development"),[i[e],"/smartserve-",n.propertyId,t?"-"+t:"","-preview.js"].join("")}}),(function(e,t){e.exports=function(e,t){if(!e.isPreviewMode&&!e.cookieDomain)return t.log.error("No cookie domain in the config matches the current domain"),{abort:!0}}}),(function(e,t,n){var i=/^([^.]+\.)?[a-z]{2}View$/,r=n(235);e.exports=function(e,t){var n;window.uv&&window.uv.emit&&(n=window.uv),window.__qubit.uv&&(n=window.__qubit.uv),n||(n=r()),window.uv||(window.uv=n),window.__qubit.uv||(window.__qubit.uv=n),t.uv=n,t.emitUvEvent=function(e,t){n.once(i,(function(){n.emit(e,t)})).replay()}}}),(function(e,t){function n(){function e(e){p.level=e}function t(e,t){p.info(e,"event emitted"),t=s(t||{}),t.meta=t.meta||{},t.meta.type=e,l.push(t),r(),f.listeners=u(f.listeners,(function(e){return!e.disposed}))}function n(e,t,n){function r(){return p.info("Replaying events"),i((function(){a(f.events,(function(i){s.disposed||c(e,i.meta.type)&&t.call(n,i)}))})),u}function o(){return p.info("Disposing event handler"),s.disposed=!0,u}p.info("Attaching event handler for",e);var s={type:e,callback:t,disposed:!1,context:n||window};f.listeners.push(s);var u={replay:r,dispose:o};return u}function i(e){p.info("Calling event handlers"),d++;try{e()}catch(e){p.error("UV API Error",e.stack)}d--,r()}function r(){if(0===l.length&&p.info("No more events to process"),l.length>0&&d>0&&p.info("Event will be processed later"),l.length>0&&0===d){p.info("Processing event");var e=l.shift();f.events.push(e),i((function(){a(f.listeners,(function(t){if(!t.disposed&&c(t.type,e.meta.type))try{t.callback.call(t.context,e)}catch(e){p.error("Error emitting UV event",e.stack)}}))}))}}function o(e,t,n){var i=f.on(e,(function(){t.apply(n||window,arguments),i.dispose()}));return i}function a(e,t){for(var n=e.length,i=0;i<n;i++)t(e[i],i)}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function c(e,t){return"string"==typeof e?e===t:e.test(t)}function u(e,t){for(var n=e.length,i=[],r=0;r<n;r++)t(e[r])&&i.push(e[r]);return i}var l=[],d=0,p={info:function(){p.level>e.INFO||console&&console.info&&console.info.apply(console,arguments)},error:function(){p.level>e.ERROR||console&&console.error&&console.error.apply(console,arguments)}};e.ALL=0,e.INFO=1,e.ERROR=2,e.OFF=3,e(e.ERROR);var f={on:n,emit:t,once:o,events:[],listeners:[],logLevel:e};return f}"object"==typeof e&&e.exports?e.exports=n:window&&(window.uv=n())}),(function(e,t,n){var i=n(6),r=n(17),o=n(0),a=n(16),s=n(24),c="__qubit.cli.pre";e.exports=function(e,t,n){function u(e,t){return new r(function(n){n(e(t))})}var l=t.log("pre");e.isPreview&&l.enable({"*":"info"});var d=a();return t.preScript={emit:d.emit},(function(){if(i.val("qb_cli_pre")){var e=o.get(window,c);return e||(e=r.defer(),o.set(window,c,e)),e.promise}var t=s(document.location.href,"qb_pre")||i.val("qb_pre"),a=t?"draftPreScript":"preScript";return r.resolve(n.has(a)&&n.require(a))})().then((function(n){if(n){if("function"!=typeof n)throw new Error("Incorrect type exported from pre script, expected function");var i={meta:o.pick(e,["trackingId","propertyId","isPreview","environment","currency","dataLocation"])};return i.meta.namespace=e.qpNamespace,i.meta.vertical=e.propertyVertical,i.uv=t.uv,i.on=d.on,i.log=l,u(n,i).then((function(e){var n=o.get(e,"eventInterceptor");"function"==typeof n&&(t.preScript.intercept=n);var i=o.get(e,"execute"),r=void 0!==i&&!i;return r&&l.warn("Smartserve execution aborted by pre script"),{abort:r}}))["catch"]((function(e){l.error("Error while executing pre script, smartserve execution will continue.",e);var n=String(e.stack||e.message||e).slice(0,1500);t.emitUvEvent("qubit.debug",{type:"smartserve.pre.error",value:n})}))}}))}}),(function(e,t,n){function i(e){var t={};return function(n){var i=n.type;if(!t[i]){t[i]=!0;var r={cookieName:n.cookieName,value:n.value};e.poe.message("Biscotti."+i,{extra:r}),e.emitUvEvent("qubit.debug",{type:"Biscotti."+i,value:JSON.stringify(r)})}}}var r=n(0),o=n(6),a=n(238);e.exports=function(e,t){window.__qubit.cookiePresence={_qubitTracker:null!==o.val("_qubitTracker"),qb_permanent:null!==o.val("qb_permanent"),qb_session:null!==o.val("qb_session")};var n=r.assign({domain:e.cookieDomain,onDebugEvent:i(t)},e.biscottiConfig);if(t.biscotti=a(n),window._ss_debug&&(window.__qubit.biscotti=window.__qubit.biscotti||t.biscotti),!t.biscotti.persists)return t.log.error("Cookies cannot persist"),{abort:!0}}}),(function(e,t,n){function i(e,t){return a.objectReduce(e,(function(e,n,i){return-1===a.indexOf(t,i)&&(e[i]=n),e}),{})}function r(e){var t=(new Date).getTime();return new Date(t+e).getTime()}function o(){return(new Date).getTime()}var a=n(0),s=n(6),c=n(16),u=n(239),l=n(32),d=n(241);e.exports=function(e){function t(e){return m.on("debug",e)}function p(e,t){function n(){clearTimeout(I),I=setTimeout(c,0)}function c(){E&&b(),S=!0}function d(){clearTimeout(I),s.clear(t.cookieName,{domain:e,path:"/"})}function p(e,n){var r={};if(a.isObject(e))r=i(e,t.exclude||[]);else{if(t.exclude&&t.exclude.indexOf(e)>-1)return;r[e]=n}y(r),E=!0,r.updatedAt=o(),S&&x(h(t.cookieName)),a.assign(A,r)}function f(e){if(!a.find(t.index,(function(t){return t.name===e}),{}))throw new Error(e+" not found in the cookie index");return v()[e]}function v(){return n(),S&&x(h(t.cookieName)),a.assign({},A)}function g(){x(C(""))}function h(n){for(var i,r=s.get(n),o=0;o<r.length;o++){var a;try{a=C(r[o].value)}catch(e){m.emit("debug",{type:"corruptCookieReset",cookieName:t.cookieName,value:r[o].value}),x(T(r[o].value)),a=A}if(a.domain===e){i=a;break}a.domain||(i=a)}return i}function b(){var n;if(A.domain)n=w();else{var i=A;A=a.assign({},A,{domain:e}),n=w(),A=i}try{C(n)}catch(e){throw m.emit("debug",{type:"badEncoding",cookieName:t.cookieName,value:A}),e}n.length>2e3&&m.emit("debug",{type:"longCookie",cookieName:t.cookieName,value:n.length}),s.set(t.cookieName,n,{expires:r(t.expires),domain:e,path:"/"}),E=!1,m.emit("write",{type:t.type,cookieString:n})}function y(e){a.objectEach(e,(function(e,n){var i=a.find(t.index,(function(e){return e.name===n}),{});if(!i)throw new Error(n+" not found in the cookie index");i.validateSet&&i.validateSet(e)}))}function w(){return v(),k(A)}function x(e,r){r=[].concat(r||[],t.exclude),e&&a.assign(A,i(e,r)),S=!1,n()}function _(e,t){e!==w()&&(x(C(e),t),E=!0)}function k(e){return a.map(t.index,(function(n){var i=e[n.name];if(n.setter&&(i=n.setter(i)),"string"==typeof(i=i===undefined?"":i)&&i.indexOf(l.topLevelSeperator)>-1){var r=t.cookieName+"."+n.name;throw m.emit("debug",{type:"valueContainsSeparator",cookieName:r,value:i}),new Error("Encountered top level separator in biscotti value: "+r)}return i})).join(l.topLevelSeperator)}function T(e){for(var n=e.split(l.topLevelSeperator);n.length>1;)try{n.pop();var i=C(n.join(l.topLevelSeperator));return m.emit("debug",{type:"recoveredCorruptCookie",cookieName:t.cookieName,value:i}),i}catch(e){continue}return C("")}var I,A={},S=!0,E=!1,C=u(t.index,t.cookieName,m);return A=C(""),{set:p,get:f,flush:c,reset:g,getAll:v,hydrate:_,serialize:w,parseCookieString:C,serializeCookieHash:k,destroy:d}}"string"==typeof e&&(e={domain:e,onDebugEvent:arguments[1]});var f=e.domain||document.domain,m=c();e.onDebugEvent&&t(e.onDebugEvent);var v=(function(e){return p(e.domain,a.assign({index:n(244)},l.session,e.session))})(e),g=(function(e){return p(e.domain,a.assign({index:n(245)},l.permanent,e.permanent))})(e),h=(function(e){return p(e.domain,a.assign({index:n(246)},l.generic,e.generic))})(e);return{onWrite:a.bind(m.on,m,"write"),onDebugEvent:t,session:v,generic:h,permanent:g,persists:(function(){var e;s.set("qb_persist_test","123",{expires:r(864e5),domain:f,path:"/"});var t=s.get("qb_persist_test")[0];return e="123"===(t&&t.value),s.clear("qb_persist_test",{domain:f,path:"/"}),e})(),flush:function(){g.flush(),v.flush(),h.flush()},crossDomainSync:d({session:v,permanent:g,onWrite:a.bind(m.on,m,"write")}),destroy:function(){g.destroy(),v.destroy(),h.destroy()}}}}),(function(e,t,n){var i=n(0),r=n(32),o=n(240);e.exports=function(e,t,n){return function(a){a=o(a,e,t,n);var s=a.split(r.topLevelSeperator);return i.reduce(e,(function(e,i,r){var o=""===s[r]?undefined:s[r];if(i.getter)try{o=i.getter(o)}catch(e){throw n.emit("debug",{type:"getterError",cookieName:t+"."+i.name,value:a}),e}return e[i.name]=o,e}),{})}}}),(function(e,t,n){function i(e,t,n,i){for(var r,o=0;o<t.length;o++)"ipAddress"!==t[o].name||(r=o);var s=e.split(a.topLevelSeperator);if(s.length<=t.length)return e;for(var u=8;u>3;u--){var l=s.slice(r,r+u).join(":");if(c.test(l))return i.emit("debug",{type:"ipv6Fix",cookieName:n,value:e}),e.replace(l,encodeURIComponent(l))}return e}function r(e,t,n,i){return e.replace(u,(function(t,r){return i.emit("debug",{type:"dateBugFix",cookieName:n,value:e}),"migrated|"+new Date(r).getTime()+":"}))}var o=n(0),a=n(32),s={qb_permanent:[r,i],qb_session:[]};e.exports=function(e,t,n,i){var r=s[n];return r?o.reduce(r,(function(e,r){return r(e,t,n,i)}),e):e};var c=/^((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))$/,u=new RegExp("migrated\\|("+(new Date).toString().replace(/[a-z]/g,"[a-z]").replace(/[A-Z]/g,"[A-Z]").replace(/\d/g,"\\d").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\+/g,"\\+")+"):")}),(function(e,t,n){function i(e,t){if(!e)throw new Error(t);return e}var r=n(0),o=n(87),a=n(242),s=n(17);e.exports=function(e){function t(t){t.exclude=t.exclude||{},t.exclude.permanent=t.exclude.permanent||[],t.exclude.session=t.exclude.session||[],i(t.iframes instanceof Array,"options.iframes required to sync"),t.iframes=r.filter(t.iframes,(function(e){i(e.domain,"each iframe requires a domain"),i(e.url,"each iframe requires a url");var t=window.location.hostname===e.domain.replace(/^\./,"");return t&&o.warn("iframe from same domain as biscotti "+e.domain+" excluded from sync"),!t})),i(t.iframes.length,"more than one options.iframes on a different domain are required to sync");var c=a(t.iframes,{timeout:2e3});return n.push(c),c.connect().then((function(n){var i=r.filter(n,(function(e){return e.connected}));return 0===i.length?o.info("no cross domain iframes connected"):(!e.session.get("iframesInSync")||t.thirdParty?(function(){return o.info("syncing to cross domain iframes"),s.all(r.map(i,(function(t){return t.getState().then((function(n){var i,r;try{i=e.session.parseCookieString(n.session),r=e.permanent.parseCookieString(n.permanent)}catch(e){o.error(e)}return{iframe:t,values:{session:i,permanent:r},cookieStrings:n}}))}))).then((function(n){var i;r.each(n,(function(e){e.values.session&&e.values.permanent&&(!i||e.values.permanent.updatedAt>i.values.permanent.updatedAt)&&(i=e)})),i&&i.values.permanent.updatedAt>e.permanent.get("updatedAt")&&(e.session.hydrate(i.cookieStrings.session,t.exclude.session),e.permanent.hydrate(i.cookieStrings.permanent,t.exclude.permanent)),e.session.set("iframesInSync",!0)}))})():s.resolve()).then((function(){o.info("cross domain iframes synced"),t.write&&e.onWrite((function(e){e.exclude=t.exclude[e.type],o.info("writing data to cross domain iframes"),r.each(i,(function(t){t.setState(e)}))}))}))}))}var n=[];return t.disconnect=function(){r.each(n,(function(e){e.disconnect()})),n=[]},t}}),(function(e,t,n){var i=n(0),r=n(17),o=n(16),a=n(243);e.exports=function(e,t){function n(e){a.info("postmessage from iframe: "+(e.origin||e.originalEvent.origin)+":"+e.data);var t;try{t=JSON.parse(e.data.match(/^biscotti-iframe:(.*)/)[1])}catch(e){}t&&("log"===t.type&&a("iframe")[t.level](t.body),"response"===t.type&&v.emit("response",t),"ready"===t.type&&v.emit("ready",{domain:t.domain}))}function s(){function o(e,n,i){return new r(function(r,o){var s=u();a.info("calling method in iframe "+e.config.url+" with id "+s),a.info("method name: "+n),a.info("method data: "+JSON.stringify(i)),e.el.contentWindow.postMessage("biscotti:"+JSON.stringify({id:s,method:n,options:i}),e.config.url);var c=v.on("response",(function(e){e.id===s&&(c.dispose(),r(e.value))}));setTimeout((function(){c.dispose(),o(new Error("iframe did not respond in time"))}),t.timeout)})}function s(e){return new r(function(n){function i(){r.dispose(),n(o)}var r=v.on("ready",(function(t){t.domain===e.domain&&(a.info("iframe ready: "+e.url),o.ready=!0,i())}));setTimeout(i,t.timeout);var o={config:e,connected:!1,ready:!1};o.el=document.createElement("iframe"),o.el.width="1px",o.el.height="1px",o.el.style.border="none",o.el.style.position="absolute",o.el.style.left="-100px",o.el.src=e.url+(/\?/.test(e.url)?"&":"?")+"cookieDomain="+e.domain,document.body.appendChild(o.el)})}if(0===e.length)return r.resolve([]);if(m)throw new Error("Can't connect twice");return l(window,"message",n),m=!0,t=t||{},t.timeout=t.timeout||2e3,p().then((function(){return r.all(i.map(e,(function(e){return s(e).then((function(e){return e.ready?o(e,"connected").then((function(t){return e.connected=t,e.getState=i.bind(o,null,e,"getState"),e.setState=i.bind(o,null,e,"setState"),a.info("iframe connected"),e}),(function(){return a.warn("iframe ready but not connected"),e})):e}))}))).then((function(e){return f=e,e}))}))}function c(){i.each(f,(function(e){e.el.parentElement.removeChild(e.el)})),d(window,"message",n),m=!1,f=[]}function u(){return Math.round(1e16*Math.random())}function l(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)}function d(e,t,n){e.detachEvent?(e.detachEvent("on"+t,e[t+n]),e[t+n]=null):e.removeEventListener(t,n,!1)}function p(){return document.body?r.resolve():new r(function(e){var t=setInterval((function(){document.body&&(e(),clearInterval(t))}),200)})}var f=[],m=!1,v=o();return{connect:s,disconnect:c}}}),(function(e,t,n){e.exports=n(87)("envoy")}),(function(e,t,n){function i(e){return e?Number(e):0}function r(e){return s.objectMap.asArray(e,(function(e,t){return[c.encode(t),c.encode(e.timesActivated)].join(u.seperators[1])})).join(u.seperators[0])}function o(e){return s.reduce(e.split(u.seperators[0]),(function(e,t){return t=t.split(u.seperators[1]),e[c.decode(t[0])]={timesActivated:c.decode(t[1])},e}),{})}function a(e,t){return function(n){return n===undefined?t:e(n)}}var s=n(0),c=n(26),u=n(32);e.exports=[{name:"sessionViewNumber",getter:i},{name:"visitorIsSynced",getter:function(e){return Boolean(Number(e))},setter:Number},{name:"eventNumber",getter:i},{name:"experienceState",getter:a(o,undefined),setter:a(r,undefined)},{name:"iframesInSync",getter:function(e){return Boolean(Number(e))},setter:Number},{name:"sessionTs",getter:a(c.decode,undefined),setter:a(c.encode,undefined)},{name:"sessionConversionNumber",getter:i},{name:"auraShowCount",getter:a(Number,0)},{name:"auraViewCount",getter:a(Number,0)},{name:"auraMyPicksNotificationSeen",getter:function(e){return Boolean(Number(e))},setter:Number},{name:"domain"}]}),(function(e,t,n){function i(e){return g.map(e.split(b.seperators[0]),(function(e){var t=g.map(e.split(b.seperators[1]),h.decode),n=t[1],i=p(n,{level:"minute"});return{experimentId:t[0],expiration:i}}))}function r(e){function t(e){return g.map([e.experimentId,d(e.expiration,{level:"minute"})],n).join(b.seperators[1])}function n(e){return h.encode(Number(e))}return g.map(e,t).join(b.seperators[0])}function o(e){return g.objectMap.asArray(e,(function(e,t){var n=[h.encode(t),a(e.probability),h.encode(e.timesActivated),h.encode(e.iterationId)];return e.pid&&n.push(h.encode(1e3*e.pid)),n.join(b.seperators[1])})).join(b.seperators[0])}function a(e){return"number"==typeof e?h.encode(1e3*e):""}function s(e){return g.reduce(e.split(b.seperators[0]),(function(e,t){t=t.split(b.seperators[1]);var n=h.decode(t[0]);return e[n]={probability:c(t[1]),timesActivated:h.decode(t[2]),iterationId:h.decode(t[3])},t[4]&&(e[n].pid=h.decode(t[4])/1e3),e}),{})}function c(e){return e.length?h.decode(e)/1e3:null}function u(e){return g.map(e,(function(e){return h.encode(e)})).join(b.seperators[0])}function l(e){return g.map(e.split(b.seperators[0]),(function(e){return h.decode(e)}))}function d(e,t){if("minute"===t.level)return (function(e){return Math.ceil(e/6e4)})(function(e){return e-y}(Number(e)))}function p(e,t){if("minute"===t.level)return (function(e){return e+y})(function(e){return 1e3*e*60}(e))}function f(e,t){return function(n){return n===undefined?t:e(n)}}function m(e){return 1e3*h.decode(e)}function v(e){return h.encode(Math.round(e/1e3))}var g=n(0),h=n(26),b=n(32),y=126144e7;e.exports=[{name:"visitorId"},{name:"viewNumber",getter:f(Number,0)},{name:"entranceViewNumber",getter:f(Number,0)},{name:"sessionNumber",getter:f(Number,0)},{name:"entranceNumber",getter:f(Number,0)},{name:"eventNumber",getter:f(Number,0)},{name:"deliverCloseTime",getter:f(i,[]),setter:f(r,undefined)},{name:"conversionNumber",getter:f(Number,0)},{name:"conversionCycleNumber",getter:f(Number,1)},{name:"lifetimeValue",getter:f(Number,0)},{name:"firstViewTs",getter:f(m,undefined),setter:f(v,undefined)},{name:"lastViewTs",getter:f(m,undefined),setter:f(v,undefined)},{name:"firstConversionTs",getter:f(m,undefined),setter:f(v,undefined)},{name:"lastConversionTs",getter:f(m,undefined),setter:f(v,undefined)},{name:"visitorHistory"},{name:"currency"},{name:"ipAddress",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"city",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"cityCode",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"country",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"countryCode",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"latitude",getter:f(Number,undefined)},{name:"longitude",getter:f(Number,undefined)},{name:"area",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"areaCode",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"region",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"regionCode",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"visitorState"},{name:"experienceState",getter:f(s,undefined),setter:f(o,undefined)},{name:"experienceSegmentations",getter:f(l,undefined),setter:f(u,undefined)},{name:"updatedAt",getter:f(h.decode,0),setter:f(h.encode,undefined)},{name:"entranceTs",getter:f(h.decode,undefined),setter:f(h.encode,undefined)},{name:"auraViewCount",getter:f(Number,0)},{name:"auraShowCount",getter:f(Number,0)},{name:"auraPinCount",getter:f(Number,0)},{name:"auraPreferredCategory",getter:f(decodeURIComponent,undefined),setter:f(encodeURIComponent,undefined)},{name:"auraCookieMigrated",getter:function(e){return Boolean(Number(e))},setter:Number},{name:"auraHasUsedMyPicks",getter:function(e){return Boolean(Number(e))},setter:Number},{name:"domain"},{name:"auraFeedShown",getter:function(e){return Boolean(Number(e))},setter:Number}]}),(function(e,t,n){function i(e,t){return function(n){return n===undefined?t:e(n)}}function r(e){return void 0===e?e:u.objectMap.asArray(e,(function(e,t){var n=e.value,i=s(e.expires);return[t,encodeURIComponent(n),i].join(d.seperators[1])})).join(d.seperators[0])}function o(e){if("object"!=typeof e)throw new Error("Expected object for keyValues in generic cookie index");return u.objectEach(e,(function(e,t){if("string"!=typeof e.value)throw new Error("Value for "+t+" must be a string");if(t.indexOf(d.seperators[0])>-1)throw new Error("Generic cookie index key for "+t+' cannot contain "'+d.seperators[0]+'"');if(t.indexOf(d.seperators[1])>-1)throw new Error("Generic cookie index key for "+t+' cannot contain "'+d.seperators[1]+'"');if(t.indexOf(d.topLevelSeperator)>-1)throw new Error("Generic cookie index key for "+t+' cannot contain "'+d.topLevelSeperator+'"');var n=e.expires;if(null!==n&&"number"!=typeof n)throw new Error("Generic cookie index key for "+t+" had invalid expires, should be a number or null");if("number"==typeof n&&isNaN(n))throw new Error("Generic cookie index key for "+t+" had invalid expires, value is NaN")}))}function a(e){var t=u.map(e.split(d.seperators[0]),(function(e){var t=e.split(d.seperators[1]);return{key:t[0],value:decodeURIComponent(t[1]),expires:c(t[2])}}));return u.reduce(t,(function(e,t){return e[t.key]={value:t.value,expires:t.expires},e}),{})}function s(e){return null===e?"%":l.encode(e)}function c(e){return"%"===e?null:l.decode(e)}var u=n(0),l=n(26),d=n(32);e.exports=[{name:"keyValue",getter:i(a,{}),setter:r,validateSet:o},{name:"updatedAt",getter:i(l.decode,0),setter:i(l.encode,undefined)},{name:"domain"}]}),(function(e,t,n){var i=n(88);e.exports=function(e,t){t.lookup=i({cache:!0,env:e.lookupEnv,biscotti:t.biscotti,trackingId:e.trackingId,useQubitAPI:!!e.flags.QUBIT_API})}}),(function(e,t){e.exports=function(e,t){if(!e)throw new Error(t||"Invariant failed");return e}}),(function(e,t){e.exports=["query ($trackingId: String!, $contextId: String!) {"," property(trackingId: $trackingId) {","   visitor(contextId: $contextId) {","     ipAddress","     ipLocation: location {","       city","       cityCode","       country","       countryCode","       latitude","       longitude","       area","       areaCode","       region","       regionCode","     }","     segment: segments {","       state","     }","     history {","       conversionCycleNumber: conversionCycle","       conversionNumber: conversions","       entranceNumber: entrances","       firstConversionTs: firstConversion","       firstViewTs: firstView","       lastConversionTs: lastConversion","       lastViewTs: lastView","       lifetimeValue","       sessionNumber: sessions","       viewNumber: views","     }","   }"," }","}"].join("\n")}),(function(e,t,n){e.exports=n(60)}),(function(e,t,n){var i=n(252),r=n(263);e.exports=function(e,t){return r.view=n(293),r.user=n(294),r.search=n(295),r.packageItem=n(296),r.packageSummary=n(297),r.packageItemCheckout=n(298),r.packageCheckoutSummary=n(299),r.packageItemTransaction=n(300),r.packageTransactionSummary=n(302),delete r.filterCriteria,i(r,e,t)}}),(function(e,t,n){function i(e){return o.objectReduce(e,(function(e,t,n){return s(t.eventType)&&(e[n]=t),e}),{})}function r(e){return o.objectReduce(e,(function(e,t,n){return s(t.eventType)||(e[n]=t),e}),{})}var o=n(0),a=n(253),s=n(89),c=n(255),u=n(39),l=n(256);e.exports=function(e,t,n){function s(){o.objectEach(e,p)}function d(){t.once(/^([^.]+\.)?[a-z]{2}View$/,(function(t){o.objectEach(r(e),f)})),o.objectEach(i(e),f)}function p(e){e.cleanup&&e.cleanup()}function f(e){a(e,t,n)}return n=n||{},t=t||window.uv,e=o.objectMap(e,(function(e){if(!e.cartographer)return e;try{return l(e)}catch(e){return u(e,"cartographer"),{activation:function(){}}}})),u.registerUv(t),n.debug&&u.enableDebug(),n.handleOwnPageviews?{start:c((function(){t.on(/^([^.]+\.)?[a-z]{2}View$/,(function(t){o.objectEach(r(e),p),o.objectEach(r(e),f)})),o.objectEach(i(e),f)})),stop:s}:{start:function(){s(),d()},stop:s}}}),(function(e,t,n){var i=n(89),r=n(39),o=n(254);e.exports=function(e,t,n){function a(){var a={};try{a=e.mapFn.apply(e,arguments)}catch(t){i(s)||r(t,[e.eventType,"mapFn"])}n.allowMapQpCustom||delete a.custom,t.emit(s,o(a))}var s=e.eventType,c=n.qpNamespace||n.namespace;if(c&&!/\./.test(s)&&(s=c+"."+s),e.activation)try{e.activation(a,n)}catch(t){i(s)||r(t,[e.eventType,"activation"])}else a()}}),(function(e,t,n){function i(e,t){return t.length-e.length}function r(e,t){return{name:t,length:o(e,t)}}function o(e,t){return t=t||"",JSON.stringify(e).length+t.length}var a=n(0),s=n(90).MAX_JSON_LENGTH;e.exports=function(e){var t=a.assign({},e);try{if(o(t.custom)>s){var n=a.objectMap.asArray(t.custom,r).sort(i);for(t.custom.__prunedCustomKeys=[];o(t.custom)>s&&n.length;){var c=n[0].name;delete t.custom[c],t.custom.__prunedCustomKeys.push(c),n.shift()}}}catch(e){}return t}}),(function(e,t){e.exports=function(e){var t=!1;return function(){t||(t=!0,e())}}}),(function(e,t,n){var i=n(0),r=n(9),o=n(257),a=n(259),s=n(262);e.exports=function(e){if(o(e).length)throw new Error("Error validating options");e=a(e);var t;return{eventType:e.eventType,activation:function(n,o){e.urlPattern&&!e.urlPattern.test(document.URL)||(t=r(e.pollFor,(function(){var t={"@":o,$:e.$()};e["#"]?i.each(e["#"](),(function(e){var r=i.assign({},t,{"#":e});n(r)})):n(t)})))},mapFn:function(t){return s(e.specification,t)},cleanup:function(){t&&t.dispose&&t.dispose()}}}}),(function(e,t,n){function i(e){return a({cast:!1}).test(e)}function r(e){return a({roots:["window","uv"]}).test(e)}var o=n(91),a=n(94),s=n(258);e.exports=function(e){function t(t){var a=e[t];if(!o(a,["dsl","function"]))return void n(t,a,"should be function or DSL string");o(a,["dsl"])&&(i(a)||n(t,a,"field cannot be casted"),r(a)||n(t,a,"field can only use window data"))}function n(e,t,n){a.push({path:e,value:t,error:n})}var a=[];if(!e)return n("options",e,"invalid options object"),a;"string"!=typeof e.eventType&&n("eventType",e.eventType,"eventType needs to be a string"),"undefined"!=typeof e.urlPattern&&(e.urlPattern instanceof RegExp||n("urlPattern",e.urlPattern,"urlPattern must be a regular expression")),t("pollFor"),t("$"),"undefined"!=typeof e["#"]&&t("#");var c=s(e.specification);return a.concat(c)}}),(function(e,t,n){function i(e,t){return e.split(".").concat([t]).join(".")}var r=n(0),o=n(95),a=n(91);e.exports=function(e){function t(e,a){r.objectEach(e,(function(e,r){var s=i(a,r);o(e)?t(e,s):n(e,s)}))}function n(e,t){if(!Array.isArray(e)&&!a(e))return void s(t,e,"needs to either be an array, or a valid specifier");Array.isArray(e)?e.length||s(t,e,"mapping cannot be an empty array"):e=[e],r.each(e,(function(e,n){if(!a(e)){s(i(t,n),e,"invalid specifier")}}))}function s(e,t,n){c.push({path:e,value:t,error:n})}var c=[];return t(e,"specification"),c}}),(function(e,t,n){var i=n(96);e.exports=function(e){var t={eventType:e.eventType,urlPattern:e.urlPattern,specification:e.specification,pollFor:function(){return i(e.pollFor)},$:function(){return i(e.$)}};return e["#"]&&(t["#"]=function(){var t=i(e["#"]);return Array.isArray(t)?t:[]}),t}}),(function(e,t){e.exports=function(e,t){switch(e){case"window":return window;case"uv":return window.universal_variable;case"$":case"#":case"@":return t[e]}}}),(function(e,t,n){var i=n(21),r=n(27);e.exports={money:function(e){return r(e)},currency:function(e){return i(e)},uppercase:function(e){return e&&e.toUpperCase()},string:function(e){return String(e)},int:function(e){return isNaN(e)?undefined:parseInt(e,10)},float:function(e){return isNaN(e)?undefined:parseFloat(e,10)}}}),(function(e,t,n){function i(e,t){for(var n=r.isArray(e)?e:[e],i=0;i<n.length;i++){var a=o(n[i],t);if(void 0!==a)return a}}var r=n(0),o=n(96),a=n(95),s=n(7);e.exports=function e(t,n){var o=r.objectMap(t,(function(t){return a(t)?e(t,n):i(t,n)}));return s(o)}}),(function(e,t,n){e.exports={legacyUvEvent:n(264),recsItemClicked:n(266),recsItemShown:n(267),recsFailed:n(268),view:n(269),filterCriteria:n(273),packageItem:n(277),packageItemCheckout:n(284),packageItemTransaction:n(286),packageSummary:n(289),packageTransactionSummary:n(290),voucher:n(291),user:n(292)}}),(function(e,t,n){var i,r=n(40);e.exports={eventType:"qubit.legacyUVEvent",activation:function(e){function t(t){"qubit-recommendations"!==t.category&&e(t)}i=r("event",t,{replay:!0,first:10})},cleanup:function(){i&&i()},mapFn:function(e){return{event:JSON.stringify(e),category:e.category,action:e.action}}}}),(function(e,t,n){var i=n(0);e.exports=function(e,t){t=t||{};var n=window.universal_variable;n&&n.events&&n.events.length&&n.events.push&&-1===n.events.push.toString().indexOf("[native code]")&&(t.first?i.each(n.events.slice(0,t.first),e):i.each(n.events,e))}}),(function(e,t,n){var i,r=n(40),o=n(7);e.exports={eventType:"qubit.recommendationItemClick",activation:function(e){function t(t){if("qubit-recommendations"===t.category&&"recommendations-clickthrough"===t.action){var n=t.itemShown;e(n.id,n.weight,t.strategy,t.segment,t.position)}}i=r("event",t,{replay:!0,first:10})},cleanup:function(){i&&i()},mapFn:function(e,t,n,i,r){return r=parseInt(r,10),isNaN(r)&&(r=null),o({id:e,weight:t,strategy:n,segment:i,position:r})}}}),(function(e,t,n){var i,r=n(0),o=n(40),a=n(7);e.exports={eventType:"qubit.recommendationItemShown",activation:function(e){function t(t){"qubit-recommendations"===t.category&&"recommendations-shown"===t.action&&r.each(t.itemsShown,(function(n){e(n.id,n.weight,t.strategy,t.segment)}))}i=o("event",t,{replay:!0,first:10})},cleanup:function(){i&&i()},mapFn:function(e,t,n,i){return a({id:e,weight:t,strategy:n,segment:i})}}}),(function(e,t,n){var i,r=n(40),o=n(7);e.exports={eventType:"qubit.recommendationItemFailed",activation:function(e){function t(t){"qubit-recommendations"===t.category&&"recommendations-no-api-results"===t.action&&e(t.strategy,t.segment)}i=r("event",t,{replay:!0,first:10})},cleanup:function(){i&&i()},mapFn:function(e,t){return o({strategy:e,segment:t})}}}),(function(e,t,n){var i=n(0),r=n(97),o=n(98),a=n(270),s=n(271),c=n(7),u=n(28),l=n(272);e.exports={eventType:"trView",activation:function(e){e(u(window,"universal_variable.page"))},mapFn:function(e){if(!e)return{};var t=window.universal_variable.user;return c({user:r(t),type:l(e.type||e.category),subtypes:s(e),environment:e.environment,custom:i.assign(o(t),a(e))})}}}),(function(e,t,n){function i(e){return r(e,["type","environment","breadcrumb","category","subcategory"])}var r=n(18);e.exports=i}),(function(e,t,n){var i=n(0);e.exports=function(e){var t=[];if(e)return i.isArray(e.breadcrumb)&&(t=e.breadcrumb),"string"==typeof e.breadcrumb&&(t=[e.breadcrumb]),t.length>0?t:(e.category&&t.push(e.category),e.subcategory&&t.push(e.subcategory),t)}}),(function(e,t,n){var i=n(90).MAX_STRING_LENGTH;e.exports=function(e){return(e||"").substr(0,i)}}),(function(e,t,n){var i,r=n(9),o=n(7),a=n(274),s=n(275),c=n(276);e.exports={eventType:"trFilterCriteria",activation:function(e){function t(){return window.universal_variable&&window.universal_variable.listing}function n(){e(window.universal_variable.listing)}i=r(t,n)},mapFn:function(e){return o({summary:s(e),name:e.query?"search":"category",operator:"equal",value:e.query&&a(e.query),custom:c(e)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i=n(0);e.exports=function(e){return"boolean"==typeof e?{boolean:e}:"number"==typeof e&&isFinite(e)?{long:e}:"string"==typeof e&&e.length?{string:e}:"object"==typeof e&&i.keys(e).length?{json:JSON.stringify(e)}:void 0}}),(function(e,t,n){var i=n(7),r=n(29);e.exports=function(e){if(!e)return{};var t={pagination:e.items&&e.items.length,resultCount:r(e.result_count),sortBy:e.sort_by,layout:e.layout},n=e.sort_by;return n&&/^(asc|desc)ending$/i.test(n)&&(t.sortDirection=/^ascending$/i.test(n)?"ascending":"descending"),i(t)}}),(function(e,t,n){function i(e){return r(e,["query","items","result_count","sort_by","layout"])}var r=n(18);e.exports=i}),(function(e,t,n){var i,r=n(0),o=n(9),a=n(7),s=n(28),c=n(33),u=n(62),l=n(63),d=n(64),p={maxItems:10,eventType:"trPackageItem",activation:function(e,t){function n(){var e=window.universal_variable;if(!e)return!1;var t=e.product,n=s(e,"listing.items.length")||s(e,"listing.line_items.length"),i=s(e,"basket.line_items.length");return t||n||i}function a(){function n(e,t,n,i){e.length||(e=[e]);var o=r.map(e,(function(e){return{packageItem:e,basket:n,eventType:i}}));return t.concat(o)}var i=window.universal_variable,o=[],a=i.product,c=s(i,"listing.items")||s(i,"listing.line_items");a&&(o=n(a,o,i.basket,"detail")),c&&(o=n(c,o,i.basket,"listing")),r.each(o.slice(0,p.maxItems),(function(n){e(n.packageItem,n.basket,n.eventType,t)}))}i=o(n,a)},mapFn:function(e,t,n,i){var o=t||e["package"]||{};return a({package:c(o,i),eventType:n,packageItem:u(e,i),custom:r.assign(l(o),d(o&&e||{}))})},cleanup:function(){i&&i.dispose&&i.dispose()}};e.exports=p}),(function(e,t,n){var i=n(29),r=n(41);e.exports=function(e,t){if("undefined"==typeof e.voucher_discount&&"undefined"==typeof e.promotion_discount)return undefined;var n=i(e.voucher_discount)||0,o=i(e.promotion_discount)||0;return r(e,n+o,t)}}),(function(e,t,n){var i=n(29),r=n(7),o=n(41);e.exports=function(e,t){if(t=t||{},e.subtotal===undefined)return{};var n,a,s=e.subtotal_include_tax;return s===undefined&&(s="US"!==t.dataLocation),s?(a=i(e.subtotal),e.tax!==undefined&&(n=a-i(e.tax))):(n=i(e.subtotal),e.tax!==undefined&&(a=n+i(e.tax))),r({subtotal:o(e,n,t),subtotalIncludingTax:o(e,a,t)})}}),(function(e,t,n){var i=n(29),r=n(281);e.exports=function(e){return 60*(i(r(e))||0)*6e4}}),(function(e,t){var n={YVR:-8,YYZ:-5,BRU:1,FRA:1,DUS:1,MUC:1,TXL:1,HEL:2,AMS:1,CPH:1,OSL:1,ARN:1,JNB:2,BCN:1,MAD:1,CDG:1,ORY:1,MXP:1,FCO:1,VIE:1,ZRH:1,AYT:2,IST:2,MEX:-6,AKL:12,JED:3,RUH:3,AUH:4,DXB:4,DOH:3,TPE:8,NRT:9,CTS:9,FUK:9,HND:9,CJU:9,GMP:9,MNL:8,BSB:-3,GIG:-3,GRU:-3,CGH:-3,BOG:-5,SJU:-4,SVO:4,BOM:5.5,HKG:8,DEL:5.5,ICN:9,CGK:7,KUL:8,SIN:8,BNE:10,MEL:10,SYD:10,PEK:8,CAN:8,SZX:8,KMG:8,XMN:8,HGH:8,SHA:8,CTU:8,PVG:8,BOS:-5,OAK:-8,OMA:-6,OGG:-10,MCI:-6,PHX:-7,SFO:-8,MEM:-6,LAX:-8,CLE:-5,CVG:-5,EWR:-5,DAL:-6,DCA:-5,FLL:-5,SLC:-7,IAH:-6,HOU:-6,PIT:-5,MIA:-5,SEA:-8,IND:-5,SAT:-6,RDU:-5,PVD:-5,BUR:-8,DTW:-5,TPA:-5,DFW:-6,AUS:-6,STL:-6,ATL:-5,BNA:-6,LGA:-5,JAX:-5,IAD:-5,MKE:-6,PDX:-8,PBI:-5,HNL:-10,SAN:-8,ONT:-8,MDW:-6,SJC:-8,DEN:-7,PHL:-5,CMH:-5,ANC:-9,RSW:-5,JFK:-5,SMF:-8,BUF:-5,BDL:-5,ORD:-6,BWI:-5,MSP:-6,MSY:-6,SNA:-8,CLT:-5,LAS:-8,MCO:-5,BKK:7,ATH:2,PMI:1,ABQ:-7,DME:4};e.exports=function(e){return e&&n[e.toUpperCase()]||e}}),(function(e,t,n){var i=n(29);e.exports=function(e){if(!isNaN(Date.parse(e))){var t=new RegExp(["^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]","\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]","\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([","zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$"].join("")),n=t.exec(e),r=60*i(n[23])+i(n[24]);return i((n[22]||"")+(r||0))}}}),(function(e,t,n){var i=n(0),r=n(7);e.exports=function(e){if(!i.isObject(e))return{};var t={ancillaryType:e.type};return r(t)}}),(function(e,t,n){var i,r=n(0),o=n(9),a=n(7),s=n(101),c=n(102),u=n(33),l=n(62),d=n(64),p=n(103),f=n(104),m=n(105),v=n(63);e.exports={eventType:"trPackageItemCheckout",activation:function(e,t){function n(){return window.universal_variable&&window.universal_variable.basket}function a(){r.each(window.universal_variable.basket.line_items,(function(n){e(n,t)}))}i=o(n,a)},mapFn:function(e,t){var n=e.product||{},i=r.filter(n.journeys,(function(e){return"outbound"===s(e)}))[0],o=r.filter(n.journeys,(function(e){return"inbound"===s(e)}))[0],g=n.journeys&&n.journeys.length&&n.journeys[0],h=n.accommodations&&n.accommodations.length&&n.accommodations[0],b=window.universal_variable.basket,y=window.universal_variable.transaction;return a({package:u(b,t),eventType:"detail",packageItem:l(e,t),paymentType:y&&y.payment_type,billingAddress:y&&c(y.billing),deliveryAddress:y&&c(y.delivery),custom:r.assign(d(e),p(n),f(i||o||g),m(h),v(b))})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t){var n={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};e.exports=function(e){return e&&n[e.toUpperCase()]||e}}),(function(e,t,n){var i,r=n(0),o=n(28),a=n(9),s=n(7),c=n(287),u=n(33),l=n(62),d=n(65),p=n(64),f=n(103),m=n(104),v=n(105),g=n(106);e.exports={eventType:"trPackageItemTransaction",activation:function(e,t){function n(){return o(window,"universal_variable.transaction.line_items.length")}function s(){r.each(window.universal_variable.transaction.line_items,(function(n){e(n,t)}))}i=a(n,s)},mapFn:function(e,t){var n=e.product||{},i=n.accommodations&&n.accommodations.length&&n.accommodations[0],o=window.universal_variable.transaction;return s({package:u(o,t),eventType:"detail",packageItem:l(e,t),transaction:d(o),custom:r.assign(p(e),f(n),m(c(n)),v(i),g(o))})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i=n(0),r=n(101);e.exports=function(e){var t=i.filter(e.journeys||[],(function(e){return"outbound"===r(e)}))[0],n=i.filter(e.journeys||[],(function(e){return"inbound"===r(e)}))[0],o=e.journeys&&e.journeys.length&&e.journeys[0];return t||n||o||{}}}),(function(e,t){e.exports=function(e){return"number"==typeof e?String(e):e}}),(function(e,t,n){var i,r=n(9),o=n(7),a=n(28),s=n(33),c=n(63);e.exports={eventType:"trPackageSummary",activation:function(e,t){function n(){var e=a(window,"universal_variable.transaction"),t=a(window,"universal_variable.basket");return!e&&t}function o(n){e(n,t)}i=r(n,o)},mapFn:function(e,t){return o({package:s(e,t),custom:c(e)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(7),o=n(9),a=n(28),s=n(33),c=n(65),u=n(106);e.exports={eventType:"trPackageTransactionSummary",activation:function(e,t){var n=this;i=o((function(){return n.isUvReady()}),(function(){e(window.universal_variable.transaction,t)}))},isUvReady:function(){return!!a(window,"universal_variable.transaction")&&(this.isTransactionIdReady()||this.isTotalReady())},isTransactionIdReady:function(){return void 0!==window.universal_variable.transaction.order_id},isTotalReady:function(){return void 0!==window.universal_variable.transaction.total},mapFn:function(e,t){return r({package:s(e,t),transaction:c(e),custom:u(e)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(0),o=n(9),a=n(7),s=n(65),c=n(33),u=n(99),l=n(100),d=n(28);e.exports={eventType:"trVoucher",activation:function(e,t){function n(){var e=window.universal_variable;if(!e)return!1;var t=d(e,"product.voucher"),n=d(e,"basket.vouchers.length"),i=d(e,"transaction.vouchers.length");return t||n||i}function a(){var n=window.universal_variable;d(n,"product.voucher")?e(window.universal_variable.product.voucher,t):d(n,"basket.vouchers")?r.each(window.universal_variable.basket.vouchers,(function(n){e(n,t)})):d(n,"transaction.vouchers")&&r.each(window.universal_variable.transaction.vouchers,(function(n){e(n,t)}))}i=o(n,a)},mapFn:function(e,t){var n=window.universal_variable.product;if(n)var i=n.journeys&&n.journeys.length&&n.journeys[0],r=n.accommodations&&n.accommodations.length&&n.accommodations[0];var o=window.universal_variable.transaction;return a({entry:e&&e.name,entrySuccess:Boolean(o),transaction:o&&s(o),package:n&&c(n,n.id,t),journey:n&&u(i),accommodation:n&&l(r)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(9),o=n(97),a=n(98),s=n(7);e.exports={eventType:"trUser",activation:function(e,t){i=r((function(){return window.universal_variable&&window.universal_variable.user}),(function(n){e(n,t)}))},mapFn:function(e,t){return s({user:o(e),custom:a(e)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(61),s=n(107);e.exports={eventType:"trView",activation:function(e){function t(){return window.utag_data}i=o(t,e)},mapFn:function(e){var t=e.page||{};return r({user:s(e),type:t.section,subtypes:[t.businessType],environment:e.ut&&e.ut.env,language:t.lang&&a(t.lang)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(107);e.exports={eventType:"trUser",activation:function(e){function t(){return window.utag_data}i=o(t,e)},mapFn:function(e){return r({user:a(e)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(66),s=n(67),c=n(0);e.exports={eventType:"trSearch",activation:function(e){function t(){return window.utag_data&&window.utag_data.search&&window.utag_data.search.type&&window.utag_data.search.type.length&&window.utag_data.search}i=o(t,e)},mapFn:function(e){var t=c.map(e.occupation.split(","),Number),n=e.date&&e.date.split("-");return r({searchType:e.type,results:{resultCount:Number(e.results)},numberOfAdults:t[1],numberOfChildren:t[2],totalNumber:t[1]+t[2],numberOfRooms:t[0],leadTime:Number(e.daysInAdvance),destination:{country:e.country,locality:e.city,code:e.idHotel},startTs:n&&n[0]&&n[0].length?a(s(n[0])).getTime():"",endTs:n&&n[1]&&n[1].length?a(s(n[1])).getTime():"",exactDuration:Number(e.nights)})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(0),o=n(19),a=n(9),s=n(108),c=n(42);e.exports={eventType:"trPackageItem",activation:function(e,t){function n(){var e=window.utag_data||{},t=e.products_price;return e.ecommerce_actionField_step&&"1"===e.ecommerce_actionField_step&&t&&e}function o(t){var n=c(t),i=s(t);r.each(i,(function(t){e({package:n,eventType:"details",packageItem:t,subtotal:t.price})}))}i=a(n,o)},mapFn:function(e){return o(e)},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(42);e.exports={eventType:"trPackageSummary",activation:function(e,t){function n(){var e=window.utag_data||{},t=e.products_price;return e.ecommerce_actionField_step&&"1"===e.ecommerce_actionField_step&&t&&e}i=o(n,e)},mapFn:function(e){var t=a(e);return r({package:t})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(0),o=n(19),a=n(9),s=n(108),c=n(42);e.exports={eventType:"trPackageItemCheckout",activation:function(e,t){function n(){var e=window.utag_data||{},t=e.products_price,n=e["funnel.Board"],i=e["funnel.Rate"],r=e.ecommerce_actionField_step&&"2"===e.ecommerce_actionField_step;return n&&i&&r&&t&&e}function o(t){var n=c(t),i=s(t);r.each(i,(function(t){e({package:n,eventType:"checkout",packageItem:t,subtotal:t.price})}))}i=a(n,o)},mapFn:function(e){return o(e)},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(42);e.exports={eventType:"trPackageCheckoutSummary",activation:function(e,t){function n(){var e=window.utag_data||{};return e.ecommerce_actionField_step&&"2"===e.ecommerce_actionField_step&&e}i=o(n,e)},mapFn:function(e){var t=a(e);return r({package:t})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(21),s=n(27),c=n(301),u=n(109),l=n(110);e.exports={eventType:"trPackageItemTransaction",activation:function(e,t){function n(){return window.utag_data&&window.utag_data.booking&&window.utag_data}i=o(n,e)},mapFn:function(e){var t=l(e),n=u(e),i=c(e),o=Number(e.revenue),d=Number(e.tax),p=a(e.currency)||"EUR";return r({package:n,eventType:"transaction",packageItem:i,subtotal:{value:s(o),currency:p},subtotalIncludingTax:{value:s(o+d),currency:p},transaction:t})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){var i=n(21),r=n(27);e.exports=function(e){var t=e.booking||{},n=Number(e.revenue),o=Number(e.tax);return{id:e.idHotel,price:{value:r(n+o),currency:i(e.currency)||"EUR"},packageItemType:"accommodation",accommodation:{id:e.idHotel,travelLocation:{country:e.busqPais,locality:e.busqCiudad,code:e.idHotel},boardBasis:t.board,roomType:t.roomType},rate:t.rate}}}),(function(e,t,n){var i,r=n(19),o=n(9),a=n(109),s=n(110);e.exports={eventType:"trPackageTransactionSummary",activation:function(e,t){function n(){return window.utag_data&&window.utag_data.booking&&window.utag_data}i=o(n,e)},mapFn:function(e){var t=s(e),n=a(e);return r({package:n,transaction:t})},cleanup:function(){i&&i.dispose&&i.dispose()}}}),(function(e,t,n){function i(e){function t(){if(v.info("Starting"),ie.inSync())return _();ie.sync((function(){W.emit("visitorSync")})),U.waitForLookup?W.on("visitorSync",_):_()}function _(){if(!Q){var e=ie.getState().ipAddress;F=e&&a(U.ipBlacklist,(function(t){return t instanceof RegExp?t.test(e):f(e,t)})),G=Boolean(c.val("qb_dnt")),v.info("Replaying emitted UV events"),z=U.uv.on(/.*/,k).replay(),v.info("Finished replaying emitted UV events"),te.flushQueueCache(),V&&(V.resolve(ie.getState()),V=null)}}function k(e){if(v.info(e.meta.type+" event emitted by UV"),U.intercept&&!T(e))try{U.intercept(e,I)}catch(e){v.warn("intercept failed",e.stack),E("qubit.debug",{type:"jolt.interceptFailed",value:u.stringify({message:e.message,stack:e.stack})})}else try{I(e)}catch(t){throw"qubit.debug"!==e.meta.type&&E("qubit.debug",{type:"jolt.eventHandlerFailed",value:u.stringify({message:t.message,stack:t.stack})}),t}}function T(e){return"qubit.debug"===e.meta.type&&"jolt.interceptFailed"===e.type}function I(e){if(!e||"object"!=typeof e||!e.meta||!e.meta.type)return void v.warn("next() must be called with the event object");var t=N();if(g.patterns.view.test(e.meta.type)){U.dumpCookies&&E("qubit.debug",{type:"jolt.cookieDump",value:u.stringify({cookieLength:document.cookie.length,_qubitTracker:c.get("_qubitTracker"),permanent:c.get("qb_permanent"),session:c.get("qb_session")})});var n=ie.newView(t);n.newEntrance&&L(t),n.newSession&&q(t,n.lastViewTs),te.flush()}var i=ie.getState();if(i.pageViewNumber<1)return v.warn("Event emitted before view, this event will be ignored");var r=b(e,i,t,U);return r.meta.trackingId=U.trackingId,r.meta.source="jolt@"+re.version,U.bundleId&&(r.meta.bundleId=U.bundleId),re.events.push(r),U.waitForLookup||"qubit.session"!==e.meta.type?W.emit("enrichment",r):A(r),ie.newEvent(),g.patterns.transaction.test(e.meta.type)&&(C(e),ie.newTransaction(e.transaction&&e.transaction.id,e.meta.ts)),t.isBot&&!R(e)?(J||(J=!0,S("qubit.debug",{type:"jolt.detectedAsBot",value:JSON.stringify({userAgent:t.ua.userAgent})})),v.warn("Browser detected as bot, event not sent to server")):F?v.warn("IP address is blacklisted, event not sent to server"):U.disableTracking?v.warn("Tracking disabled through options, event not sent to server"):G?v.warn("Tracking disabled through cookie flag (qb_dnt), event not sent to server"):U.lite&&!g.patterns.liteEvent.test(e.meta.type)?v.warn("Lite mode on, "+e.meta.type+" not sent"):!U.collectProductListing&&g.patterns.ecProduct.test(e.meta.type)&&"listing"===e.eventType?v.warn("ecProduct listing event collection is disabled, event not sent to server"):(v.info("Queueing "+e.meta.type+" event to be sent to the server"),void te.sendEvent(r))}function A(e){function t(){var t=ie.getState();e.ipAddress=t.ipAddress,e.ipLocation=s.pick(t,["city","cityCode","country","countryCode","latitude","longitude","area","areaCode","region","regionCode"]),W.emit("enrichment",e)}ie.inSync()?t():W.on("visitorSync",t)}function S(e,t){Math.random()<.1&&E(e,t)}function E(e,t){U.uv.once(g.patterns.view,(function(){U.uv.emit(e,t)})).replay()}function C(e){e.transaction&&e.transaction.id||E("qubit.debug",{type:"jolt.missingTransactionId",value:u.stringify({event:e})})}function R(e){return"qubit.debug"===e.meta.type&&"jolt.detectedAsBot"===e.type}function j(){v.info("destroy called"),z&&z.dispose(),te.destroy(),Q=!0}function M(){var e=N();return{browser:e,session:r(ie.getState(),e),visitor:ie.getState()}}function N(){return i.getBrowserState()}function O(){return d(N())}function P(){return ie.inSync()?U.waitForFirstView?H():d(ie.getState()):(V||(V=l()),U.waitForFirstView?V.promise.then(H):V.promise)}function L(e){v.info("Emitting entrance event to UV API");var t=e.referrerUrl;t&&(t=t.slice(0,g.maxUrlLength)),U.uv.emit("qubit.entrance",{referrer:{url:t}})}function q(e,t){v.info("Emitting session event to UV API");var n=r(ie.getState(),e);t&&(n.lastViewTs=t),U.uv.emit("qubit.session",n)}function D(){return re.events}function B(){return ee}function H(){return $||($=l(),U.uv.once(g.patterns.view,(function(){$.resolve()})).replay()),$.promise.then((function(){return ie.getState()}))}var U=s.assign({},g.defaults,e);o(U.visitorId,"visitorId is a required option"),o(U.domains,"domains is a required option"),o(U.trackingId,"trackingId is a required option"),o(U.uv,"uv is a required option"),o(U.biscotti,"biscotti is a required option");var F,z,G,V,$,Q=!1,W=p(),J=!1,K=U.selfReferralPatterns.concat(s.map(U.domains,(function(e){var t=e.replace(/^\./,"");return new RegExp("^https?://([a-zA-Z0-9.-]*\\.)?"+t.replace(/\./g,"\\.")+"([/|?|#|:]|$)")}))),Y=N(),X=w(Y.referrerUrl,{selfReferralPatterns:K});X.isDirect&&v.info("Direct referral detected"),X.isSelfReferral&&v.info("Self referral detected");var Z=s.pick(U,["env","deflate","batchSize","prongEnv","gongHost","maxQueueLength","eventsToKeep","trackingId","uv","dataLocation"]),ee=[];Z.eventExpiration=g.eventExpiration,Z.success=function(e){ee.push(e),W.emit("success",e)};var te=h(Z),ne=s.assign({browserState:Y,referrer:X,patterns:g.patterns},s.pick(U,["visitorId","domains","biscotti","lookup","lookupEnv","trackingId","uv","useQubitAPI"])),ie=y(ne),re={start:t,events:[],version:m,onEnrichment:x(W,"enrichment",{replayable:!0,getDispatchedEvents:D}),onceEnrichment:x(W,"enrichment",{once:!0,replayable:!0,getDispatchedEvents:D}),getState:M,getBrowserState:O,getVisitorState:P,onSuccess:x(W,"success",{replayable:!0,getDispatchedEvents:B}),onceSuccess:x(W,"success",{once:!0,replayable:!0,getDispatchedEvents:B}),options:U,destroy:j,flushQueueCache:te.flushQueueCache,inSync:ie.inSync,referrer:X,createGong:n(112)};return re}function r(e,t){var n=s.pick(e,["firstViewTs","firstConversionTs","lastConversionTs","ipAddress"]),i=s.pick(e,["city","cityCode","country","countryCode","latitude","longitude","area","areaCode","region","regionCode"]),r=t.ua,o={deviceType:r.deviceType,osName:r.osName,osVersion:r.osVersion,appName:r.browserName,appVersion:r.browserVersion,userAgent:r.userAgent};return r.deviceName&&(o.deviceName=r.deviceName),s.assign(n,o,{doNotTrack:t.doNotTrack,cookiePersists:e.cookiePersists,appType:"browser",ipLocation:i,screenWidth:t.screenWidth,screenHeight:t.screenHeight})}function o(e,t){if(!e)throw new Error(t);return e}function a(e,t){return!!s.find(e,t)}var s=n(0),c=n(6),u=n(8),l=n(25),d=n(20),p=n(16),f=n(304).cidr_match,m=n(305).version,v=n(43),g=n(68),h=n(306),b=n(316),y=n(318),w=n(321),x=n(322);i.getBrowserState=n(323),e.exports=i}),(function(e,t){!(function(){function t(e,t,n,i){for(n=t=0;i=e.split(".")[t++];n+=i>>8|t>4?NaN:i*(1<<-8*t))i=parseInt(+i&&i);return n}function n(e){return 1<<-1<=e&&e<4294967296&&[e>>>24,255&e>>>16,255&e>>>8,255&e].join(".")}function i(e,n){if(n.indexOf("/")<0)return e==n;var i=n.split("/");if(2!=i.length)return console.log("Failed to match CIDR-range on '/'"),!1;for(;i[0].split(".").length<4;)i[0]+=".0";var r=0;r=32-parseInt(i[1],10),r=Math.pow(2,r);var o=t(i[0]),a=o+r,s=t(e);return s<a&&s>=o}var r={};r.cidr_match=i,r.long2ip=n,r.ip2long=t,e.exports=r})()}),(function(e,t){e.exports={name:"@qubit/jolt",version:"7.66.1",description:"",main:"lib/createJolt.js",scripts:{test:"make test"},repository:{type:"git",url:"https://github.com/qubitdigital/jolt.git"},author:"",license:"ISC",bugs:{url:"https://github.com/qubitdigital/jolt/issues"},homepage:"https://github.com/qubitdigital/jolt",devDependencies:{"@qubit/biscotti":"^5.10.1","@qubit/uv-api":"^4.0.1","aws-sdk":"^2.92.0",colors:"^1.0.3",commander:"^2.11.0",cors:"^2.8.5",express:"^4.16.4","inject-loader":"^2.0.0",karma:"^1.7.0","karma-chrome-launcher":"^2.2.0","karma-expect":"^1.1.3","karma-mocha":"^1.3.0","karma-safari-private-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.31","karma-webpack":"^2.0.4",lodash:"^3.10.1",mocha:"^2.1.0","node-libs-browser":"^0.5.2",pako:"^1.0.10","raw-body":"^2.4.0",s3:"^4.4.0",say:"^0.6.0",semver:"^5.4.1",sinon:"1.17.3","socket.io":"^2.0.3","socket.io-client":"^2.0.3",standard:"^9.0.0",webpack:"^2.7.0"},dependencies:{"@qubit/funnelweb":"^1.0.0","@qubit/get-ga-client-id":"^1.0.0","@qubit/http-api-gong":"^1.1.0","@qubit/http-api-lookup":"^2.7.1",cidr_match:"0.0.7",cookieman:"^1.0.4",driftwood:"^1.1.0","event-kitten":"^1.0.2","json-bourne":"^1.0.1","queue-that":"^2.9.0","really-unique-id":"^1.2.1",slapdash:"^1.3.0","sync-p":"^1.1.1","ua-parser-js":"^0.7.20"},standard:{ignore:["dist/*"]}}}),(function(e,t,n){function i(e){var t=o.pick(e,["deflate","trackingId","dataLocation"]);t.env=e.prongEnv,t.host=e.gongHost;var n=c(t),i=e.success||function(){},l=s({backoffTime:!0===e.gong?2e3:3e4,process:function(e,t){u.info("Sending queued items batch to the server"),n.send(e,{dedupe:e.containsRepeatedItems},(function(n){t.apply(null,arguments),n?u.error("Server error "+n.message,n):(u.info("Queued items batch successfully received by the server"),i(e))}))},batchSize:e.batchSize,trim:function(t){if(t.length>e.maxQueueLength){var n=o.filter(t,(function(t){return o.find(e.eventsToKeep,(function(e){return e.test(t.meta.type)}))}));return n.length>e.maxQueueLength&&(n=n.slice(n.length-Math.round(e.maxQueueLength/2))),e.uv.emit("qubit.debug",{type:"jolt.eventQueueTrim",value:a.stringify({before:t.length,after:n.length})}),u.warn("Trimming queue from"+t.length+"to"+n.length+"items"),n}return o.filter(t,(function(t){return t.meta.ts>r()-60*e.eventExpiration*60*1e3}))}});return{sendEvent:l,destroy:l.destroy,flush:l.flush,flushQueueCache:l.flushQueueCache}}function r(){return(new Date).getTime()}var o=n(0),a=n(8),s=n(44),c=n(112),u=n(43)("qpApi");e.exports=i}),(function(e,t,n){var i=n(11);e.exports=i("queue-that")}),(function(e,t,n){function i(e){function t(e,t){window.__queueThat__[e]=String(t)}function n(e){return window.__queueThat__[e]}function i(e){delete window.__queueThat__[e]}window.__queueThat__=window.__queueThat__||{};var o=r(e);return o.save=t,o.load=n,o.remove=i,o.type="globalVariable",o}var r=n(111);e.exports=i}),(function(e,t,n){function i(e,t){function n(n,r,o){o||(o=r,r={}),r=u.assign({},t,r);var a=i+p+"/events",s=l.stringify(n);return!f&&r.deflate?(a+="/deflate",s=d(s,{level:1})):a+="/raw",a+="/"+r.trackingId,r.dedupe&&(a+="?dedupe=true"),e(a,s,o)}var i,p,f;return c(t,"defaultOptions are required"),c(t.trackingId,"a trackingId is required"),t.dataLocation=t.dataLocation||"eu",t.dedupe=Boolean(t.dedupe),t.env=t.env||"production",t.deflate=!1!==t.deflate,f=o()||r(),i=a(t),p=s(t),{send:n}}function r(){return"undefined"!=typeof navigator&&/Safari\/53|AppleWebKit\/53/.test(navigator.userAgent)&&-1===navigator.userAgent.indexOf("Chrome")}function o(){return"undefined"!=typeof navigator&&/MSIE [8,9,10]/.test(navigator.userAgent)}function a(e){if("undefined"!=typeof window&&window.XDomainRequest)return"//";if(e.protocol)return e.protocol;switch(e.env.toLowerCase()){case"production":case"staging":return"https://";case"development":return"http://"}return"//"}function s(e){if(e.host)return e.host;var t="us"===e.dataLocation.toLowerCase()?"gc":"eb";switch(e.env.toLowerCase()){case"production":return"gong-"+t+".qubit.com";case"staging":return"gong-"+t+"-nt.qubit.com";case"dev":case"development":return"localhost:5300"}}function c(e,t){if(!e)throw new Error(t);return e}var u=n(0),l=n(8),d=n(113).deflate;e.exports=i}),(function(e,t,n){"use strict";function i(e,t){return e.msg=O[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(R.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){j._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,R.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=M(e.adler,t,r,n):2===e.state.wrap&&(e.adler=N(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,u=e.window,l=e.w_mask,d=e.prev,p=e.strstart+ce,f=u[o+a-1],m=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,u[n+a]===m&&u[n+a-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(i=ce-(p-o),o=p-ce,i>a){if(e.match_start=t,a=i,i>=s)break;f=u[o+a-1],m=u[o+a]}}}while((t=d[t&l])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-ue)){R.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do{i=e.head[--t],e.head[t]=i>=a?i-a:0}while(--n);n=a,t=n;do{i=e.prev[--t],e.prev[t]=i>=a?i-a:0}while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=se)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+se-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===P)return be;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return be;if(e.strstart-e.block_start>=e.w_size-ue&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===D?(s(e,!0),0===e.strm.avail_out?we:xe):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),be)}function m(e,t){for(var n,i;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===P)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n)),e.match_length>=se)if(i=j._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=e.strstart<se-1?e.strstart:se-1,t===D?(s(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ye}function v(e,t){for(var n,i,r;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===P)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===$||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-se,i=j._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return be}else if(e.match_available){if(i=j._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=j._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===D?(s(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ye}function g(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ce){if(p(e),e.lookahead<=ce&&t===P)return be;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(r=e.strstart-1,(i=a[r])===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ce;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=ce-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(n=j._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===D?(s(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ye}function h(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===P)return be;break}if(e.match_length=0,n=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===D?(s(e,!0),0===e.strm.avail_out?we:xe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:ye}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=C[e.level].max_lazy,e.good_match=C[e.level].good_length,e.nice_match=C[e.level].nice_length,e.max_chain_length=C[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*oe),this.dyn_dtree=new R.Buf16(2*(2*ie+1)),this.bl_tree=new R.Buf16(2*(2*re+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(ae+1),this.heap=new R.Buf16(2*ne+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*ne+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Y,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?de:ge,e.adler=2===t.wrap?0:1,t.last_flush=P,j._tr_init(t),H):i(e,F)}function _(e){var t=x(e);return t===H&&y(e.state),t}function k(e,t){return e&&e.state?2!==e.state.wrap?F:(e.state.gzhead=t,H):F}function T(e,t,n,r,o,a){if(!e)return F;var s=1;if(t===V&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>Z||n!==X||r<8||r>15||t<0||t>9||a<0||a>J)return i(e,F);8===r&&(r=9);var c=new w;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+se-1)/se),c.window=new R.Buf8(2*c.w_size),c.head=new R.Buf16(c.hash_size),c.prev=new R.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new R.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,_(e)}function I(e,t){return T(e,t,X,ee,te,K)}function A(e,t){var n,s,l,d;if(!e||!e.state||t>B||t<0)return e?i(e,F):F;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===he&&t!==D)return i(e,0===e.avail_out?G:F);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===de)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=Q||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=N(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=Q||s.level<2?4:0),c(s,_e),s.status=ge);else{var p=X+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=Q||s.level<2?0:s.level<6?1:6===s.level?2:3,p|=f<<6,0!==s.strstart&&(p|=le),p+=31-p%31,s.status=ge,u(s,p),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(l=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.name){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=N(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=ge)):s.status=ge),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,H}else if(0===e.avail_in&&r(t)<=r(n)&&t!==D)return i(e,G);if(s.status===he&&0!==e.avail_in)return i(e,G);if(0!==e.avail_in||0!==s.lookahead||t!==P&&s.status!==he){var m=s.strategy===Q?h(s,t):s.strategy===W?g(s,t):C[s.level].func(s,t);if(m!==we&&m!==xe||(s.status=he),m===be||m===we)return 0===e.avail_out&&(s.last_flush=-1),H;if(m===ye&&(t===L?j._tr_align(s):t!==B&&(j._tr_stored_block(s,0,0,!1),t===q&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,H}return t!==D?H:s.wrap<=0?U:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?H:U)}function S(e){var t;return e&&e.state?(t=e.state.status)!==de&&t!==pe&&t!==fe&&t!==me&&t!==ve&&t!==ge&&t!==he?i(e,F):(e.state=null,t===ge?i(e,z):H):F}function E(e,t){var n,i,r,a,s,c,u,l,d=t.length;if(!e||!e.state)return F;if(n=e.state,2===(a=n.wrap)||1===a&&n.status!==de||n.lookahead)return F;for(1===a&&(e.adler=M(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new R.Buf8(n.w_size),R.arraySet(l,t,d-n.w_size,n.w_size,0),t=l,d=n.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=se;){i=n.strstart,r=n.lookahead-(se-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+se-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=se-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=se-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,n.wrap=a,H}var C,R=n(45),j=n(311),M=n(312),N=n(313),O=n(114),P=0,L=1,q=3,D=4,B=5,H=0,U=1,F=-2,z=-3,G=-5,V=-1,$=1,Q=2,W=3,J=4,K=0,Y=2,X=8,Z=9,ee=15,te=8,ne=286,ie=30,re=19,oe=2*ne+1,ae=15,se=3,ce=258,ue=ce+se+1,le=32,de=42,pe=69,fe=73,me=91,ve=103,ge=113,he=666,be=1,ye=2,we=3,xe=4,_e=3;C=[new b(0,0,0,0,f),new b(4,4,8,4,m),new b(4,5,16,8,m),new b(4,6,32,32,m),new b(4,4,16,16,v),new b(8,16,32,32,v),new b(8,16,128,128,v),new b(8,32,128,256,v),new b(32,128,258,1024,v),new b(32,258,258,4096,v)],t.deflateInit=I,t.deflateInit2=T,t.deflateReset=_,t.deflateResetKeep=x,t.deflateSetHeader=k,t.deflate=A,t.deflateEnd=S,t.deflateSetDictionary=E,t.deflateInfo="pako deflate (from Nodeca project)"}),(function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?oe[e]:oe[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>Q-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>Q-e.bi_valid,e.bi_valid+=n-Q):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){c(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,i,r,o,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=$;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<V;n++)i=e.heap[n],o=c[2*c[2*i+1]+1]+1,o>m&&(o=m,v++),c[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=f&&(a=p[i-f]),s=c[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(o=m;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}function f(e,t,n){var i,r,o=new Array($+1),a=0;for(i=1;i<=$;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=l(o[s]++,s))}}function m(){var e,t,n,i,o,a=new Array($+1);for(n=0,i=0;i<H-1;i++)for(se[i]=n,e=0;e<1<<Z[i];e++)ae[n++]=i;for(ae[n-1]=i,o=0,i=0;i<16;i++)for(ce[i]=o,e=0;e<1<<ee[i];e++)oe[o++]=i;for(o>>=7;i<z;i++)for(ce[i]=o<<7,e=0;e<1<<ee[i]-7;e++)oe[256+o++]=i;for(t=0;t<=$;t++)a[t]=0;for(e=0;e<=143;)ie[2*e+1]=8,e++,a[8]++;for(;e<=255;)ie[2*e+1]=9,e++,a[9]++;for(;e<=279;)ie[2*e+1]=7,e++,a[7]++;for(;e<=287;)ie[2*e+1]=8,e++,a[8]++;for(f(ie,F+1,a),e=0;e<z;e++)re[2*e+1]=5,re[2*e]=l(e,5);ue=new r(ie,Z,U+1,F,$),le=new r(re,ee,0,z,$),de=new r(new Array(0),te,0,G,W)}function v(e){var t;for(t=0;t<F;t++)e.dyn_ltree[2*t]=0;for(t=0;t<z;t++)e.dyn_dtree[2*t]=0;for(t=0;t<G;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function h(e,t,n,i){g(e),i&&(s(e,n),s(e,~n)),M.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function b(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&b(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!b(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function w(e,t,n){var i,r,o,s,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===i?u(e,r,t):(o=ae[r],u(e,o+U+1,t),s=Z[o],0!==s&&(r-=se[o],c(e,r,s)),i--,o=a(i),u(e,o,n),0!==(s=ee[o])&&(i-=ce[o],c(e,i,s)))}while(l<e.last_lit);u(e,J,t)}function x(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=V,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=u<2?++u:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)y(e,o,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,y(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),f(o,u,e.bl_count)}function _(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*K]++):s<=10?e.bl_tree[2*Y]++:e.bl_tree[2*X]++,s=0,o=r,0===a?(c=138,u=3):r===a?(c=6,u=3):(c=7,u=4))}function k(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,d=4;for(0===a&&(l=138,d=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<d)do{u(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(u(e,r,e.bl_tree),s--),u(e,K,e.bl_tree),c(e,s-3,2)):s<=10?(u(e,Y,e.bl_tree),c(e,s-3,3)):(u(e,X,e.bl_tree),c(e,s-11,7));s=0,o=r,0===a?(l=138,d=3):r===a?(l=6,d=3):(l=7,d=4)}}function T(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),x(e,e.bl_desc),t=G-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function I(e,t,n,i){var r;for(c(e,t-257,5),c(e,n-1,5),c(e,i-4,4),r=0;r<i;r++)c(e,e.bl_tree[2*ne[r]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}function A(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return O;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return P;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return P;return O}function S(e){pe||(m(),pe=!0),e.l_desc=new o(e.dyn_ltree,ue),e.d_desc=new o(e.dyn_dtree,le),e.bl_desc=new o(e.bl_tree,de),e.bi_buf=0,e.bi_valid=0,v(e)}function E(e,t,n,i){c(e,(q<<1)+(i?1:0),3),h(e,t,n,!0)}function C(e){c(e,D<<1,3),u(e,J,ie),d(e)}function R(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===L&&(e.strm.data_type=A(e)),x(e,e.l_desc),x(e,e.d_desc),a=T(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?E(e,t,n,i):e.strategy===N||o===r?(c(e,(D<<1)+(i?1:0),3),w(e,ie,re)):(c(e,(B<<1)+(i?1:0),3),I(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),w(e,e.dyn_ltree,e.dyn_dtree)),v(e),i&&g(e)}function j(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ae[n]+U+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var M=n(45),N=4,O=0,P=1,L=2,q=0,D=1,B=2,H=29,U=256,F=U+1+H,z=30,G=19,V=2*F+1,$=15,Q=16,W=7,J=256,K=16,Y=17,X=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(2*(F+2));i(ie);var re=new Array(2*z);i(re);var oe=new Array(512);i(oe);var ae=new Array(256);i(ae);var se=new Array(H);i(se);var ce=new Array(z);i(ce);var ue,le,de,pe=!1;t._tr_init=S,t._tr_stored_block=E,t._tr_flush_block=R,t._tr_tally=j,t._tr_align=C}),(function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{r=r+t[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}e.exports=i}),(function(e,t,n){"use strict";function i(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}var r=(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})();e.exports=i}),(function(e,t,n){"use strict";function i(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=n(45),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new r.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,o=0;a<c;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return i(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,a,c=t||e.length,u=new Array(2*c);for(r=0,n=0;n<c;)if((o=e[n++])<128)u[r++]=o;else if((a=s[o])>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<c;)o=o<<6|63&e[n++],a--;a>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}}),(function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i}),(function(e,t,n){var i,r,o=n(317),a=n(0),s=n(58),c=n(68);e.exports=function(e,t,n,u){function l(e){var r=n.referrerUrl.slice(0,c.maxUrlLength);r.length&&(e.meta.referrerUrl=r),a.assign(e.meta,{id:s(),ts:p,seq:t.eventNumber,url:n.url.slice(0,c.maxUrlLength),batchTs:i})}function d(e){e.context=e.context||{};var n=a.pick(t,["sample","viewNumber","sessionNumber","entranceNumber","sessionViewNumber","entranceViewNumber","conversionNumber","conversionCycleNumber","timezoneOffset","entranceTs","sessionTs","viewTs"]);a.assign(e.context,n,{id:t.visitorId,lifetimeValue:{value:t.lifetimeValue},gaId:o(u.gaTrackingId)})}var p=n.time;return i||(i=p===r?p+1:p),i=i||p,setTimeout((function(){i&&(r=i),i=null}),0),(function(e,t){return a.each(e,(function(e){e(t)})),t})([l,d],(function(e){return JSON.parse(JSON.stringify(e))})(e))}}),(function(e,t,n){var i=n(6),r=n(0);e.exports=function(e){try{var t=window.ga.getAll();if(e){var n=r.find(t,(function(t){return t.get("trackingId")===e}));if(n)return n.get("clientId")}return t[0].get("clientId")}catch(e){}var o=i.val("_ga");if(!o)return null;var a=o.match(/GA\d\.\d\.([^=]+)/);return a?a[1]:null}}),(function(e,t,n){function i(e){function t(){return w.inSync()}function n(){var t=a.pick(b.getAll(),["conversionNumber","conversionCycleNumber","lifetimeValue","firstViewTs","firstConversionTs","lastConversionTs","sessionNumber","entranceNumber","ipAddress","city","cityCode","country","countryCode","latitude","longitude","area","areaCode","region","regionCode","entranceTs","viewNumber","entranceViewNumber"]),n=a.pick(h.getAll(),["eventNumber","sessionViewNumber","sessionTs"]),i=a.assign({sample:y,viewTs:_.viewTs||0,visitorId:e.visitorId,pageViewNumber:_.pageViewNumber,cookiePersists:g(),timezoneOffset:(new Date).getTimezoneOffset()},t,n);return x.total!==undefined&&(i.viewNumber=x.total),x.session!==undefined&&(i.sessionViewNumber=x.session),x.entrance!==undefined&&(i.entranceViewNumber=x.entrance),i}function i(t){var n={newSession:0===h.get("sessionViewNumber")},i=b.get("sessionNumber");return(n.newSession||0===i)&&b.set("sessionNumber",i+1),_.viewTs=t.time,_.pageViewNumber++,b.set("viewNumber",b.get("viewNumber")+1),h.set("sessionViewNumber",h.get("sessionViewNumber")+1),b.set("entranceViewNumber",b.get("entranceViewNumber")+1),a.assign(x,m()),b.get("firstViewTs")||b.set("firstViewTs",t.time),n.newEntrance=c({isNewSession:n.newSession,isFirstPageView:1===_.pageViewNumber,isFirstView:0===_.viewNumber,isSelfReferral:e.referrer.isSelfReferral,isDirect:e.referrer.isDirect,hasUtm:e.browserState.hasUtm}),n.newEntrance&&(b.set("entranceTs",t.time),b.set("entranceNumber",b.get("entranceNumber")+1),b.set("entranceViewNumber",1),x.entrance=1,b.flush()),n.newSession&&(h.set("sessionTs",t.time),h.flush(),n.lastViewTs=b.get("lastViewTs")),b.set("lastViewTs",t.time),n}function d(){h.set("eventNumber",h.get("eventNumber")+1)}function p(e,t){u.info("Transaction emitted");var n=f();if(n[e])return void u.info("Transaction is a duplicate");Boolean(h.get("sessionConversionNumber"))||(u.info("Incrementing conversionCycleNumber"),b.set("conversionCycleNumber",b.get("conversionCycleNumber")+1)),u.info("Incrementing sessionConversionNumber and conversionNumber"),h.set("sessionConversionNumber",h.get("sessionConversionNumber")+1),b.set("conversionNumber",b.get("conversionNumber")+1),u.info("Setting lastConversionTs"),b.set("lastConversionTs",t),b.get("firstConversionTs")||(u.info("Setting firstConversionTs"),b.set("firstConversionTs",t)),n[e]=!0;try{window.localStorage.setItem("__qubitTransactionIds",JSON.stringify(n))}catch(e){}}function f(){var e;try{e=JSON.parse(window.localStorage.getItem("__qubitTransactionIds"))}catch(e){}return e||{}}function m(){return{total:b.get("viewNumber"),entrance:b.get("entranceViewNumber"),session:h.get("sessionViewNumber")}}function v(t){function n(e){var n=!!e.force,i=b.getAll(),s={conversionNumber:o(i.conversionNumber,e.conversionNumber,0),conversionCycleNumber:o(i.conversionCycleNumber,e.conversionCycleNumber,0),lifetimeValue:o(i.lifetimeValue,e.lifetimeValue,0),firstViewTs:i.firstViewTs||e.firstViewTs,lastViewTs:o(i.lastViewTs,e.lastViewTs),firstConversionTs:i.firstConversionTs||e.firstConversionTs,lastConversionTs:o(i.lastConversionTs,e.lastConversionTs),viewNumber:o(i.viewNumber,e.viewNumber,0),entranceViewNumber:o(i.entranceViewNumber,e.entranceViewNumber,0),sessionNumber:n?e.sessionNumber:o(i.sessionNumber,e.sessionNumber,0),entranceNumber:n?e.entranceNumber:o(i.entranceNumber,e.entranceNumber,0),ipAddress:e.ipAddress};e.ipLocation&&a.assign(s,a.pick(e.ipLocation,["city","cityCode","country","countryCode","latitude","longitude","area","areaCode","region","regionCode"])),b.set(r(s)),u.info("Visitor state synced",e),t()}function i(e){u.warn("Visitor state sync failed",e.message),t()}u.info("Syncing visitor state"),w.get(e.visitorId).then(n)["catch"](i)}function g(){return e.biscotti.persists===undefined?b.persists():e.biscotti.persists}var h=e.biscotti.session,b=e.biscotti.permanent,y=l(e.visitorId),w=e.lookup||s({env:e.lookupEnv,biscotti:e.biscotti,trackingId:e.trackingId,useQubitAPI:e.useQubitAPI}),x=m(),_={newView:i,newEvent:d,newTransaction:p,sync:v,inSync:t,getState:n,pageViewNumber:0,viewNumber:b.get("viewNumber"),localViewNumbers:x};return _}function r(e){var t={};return a.objectEach(e,(function(e,n){e!==undefined&&(t[n]=e)})),t}function o(e,t,n){return e&&t?Math.max(e,t):e||t||n}var a=n(0),s=n(88),c=n(319),u=n(43)("visitor"),l=n(320);e.exports=i}),(function(e,t){function n(e){return!!e.isFirstPageView&&(!(e.isSelfReferral&&!e.isFirstView)&&!(e.isDirect&&!e.isNewSession&&!e.hasUtm))}e.exports=n}),(function(e,t){function n(e){if(e.length>=s){var t=e.substring(a,s),n=o(t),r=n;if(!isNaN(r))return r}return String(i(e))}function i(e){var t=r(e);return t<0&&(t=0-t),t%c+1}function r(e){var t,n=0;if(0===e.length)return n;for(var i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n&=n;return n}function o(e){return e.split("").reverse().join("")}var a=8,s=13,c=1e5;e.exports=n}),(function(e,t,n){function i(e,t){return{url:e,isDirect:!e,isSelfReferral:Boolean(e)&&r(t.selfReferralPatterns,(function(t){return t.test(e)}))}}function r(e,t){return!!o.find(e,t)}var o=n(0);e.exports=i}),(function(e,t,n){function i(e,t,n){return n=n||{},function(i,s){function c(e,t){return function(i){var r=e(i);return n.once?((t||p).dispose(),r):r}}function u(e,t,i){return function(o){var a=r.isArray(o)?o:[o];if(n.once){var s=r.find(a,e);s&&(t(s),(i||p).dispose())}else a=r.filter(a,e),r.each(a,t)}}var l,d,p,f,m=typeof i;return"function"===m?(d=i,f=c):(d=s,l="string"===m?function(e){return e.meta&&e.meta.type===i}:function(e){return e.meta&&i.test(e.meta.type)},f=u.bind(null,l)),p=n.replayable&&n.getDispatchedEvents?(function(i){function s(e){v||(f.push(e),c())}function c(){var e;f.length>0&&m<=0&&!v&&(e=f.shift(),l((function(){h(e)})))}function u(){var e=n.getDispatchedEvents().slice();if(e.length){var t=p(e);l((function(){for(var e=0;e<t.length&&!1===v;e++)h(t[e])}))}}function l(e){m++;try{e()}catch(e){o.error("Handling Event Error",e.stack)}m--,c()}function d(){v=!0,g.dispose()}function p(e){var t,n,i,o;if(r.isArray(e[0])){var s=[0,0];for(i=e.length-1;i>=0;i--){var c=e[i],u=!1;for(o=c.length-1;o>=0;o--)if(n=c[o],a.patterns.view.test(n.meta.type)){s=[i,o],u=!0;break}if(u)break}t=e.slice(s[0]),t[0]=t[0].slice(s[1])}else{var l=0;for(i=e.length-1;i>=0;i--)if(n=e[i],a.patterns.view.test(n.meta.type)){l=i;break}t=e.slice(l)}return t}var f=[],m=0,v=!1,g=e.on(t,s),h=i({dispose:d});return{replay:u,dispose:d}})(f.bind(null,d)):e.on(t,f(d))}}var r=n(0),o=n(43)("joltBindEmitter"),a=n(68);e.exports=i}),(function(e,t,n){function i(){var e=i.getGlobals();return{url:e.url,host:e.host,hasUtm:/utm_(source|medium)=/.test(e.search),referrerUrl:e.referrerUrl,doNotTrack:r(e.doNotTrack,e.userAgent),ua:a(e.userAgent),isBot:s(e.userAgent),time:u(),screenWidth:e.screenWidth,screenHeight:e.screenHeight}}function r(e,t){return!/MSIE 10/.test(t)&&("string"==typeof e&&/^(yes|1|true)$/.test(e))}function o(e){var t=new m(e),n=t.getOS(),i=t.getBrowser(),r=t.getDevice(),o=[];return r.vendor&&o.push(r.vendor),r.model&&o.push(r.model),{deviceType:r.type||"computer",deviceName:o.join(" "),osName:n.name,osVersion:n.version,browserName:i.name,browserVersion:i.version,userAgent:e}}function a(e){if(i.uaCatL1)return i.uaCatL1;var t;try{t=p.parse(v.getItem("__qubitUACategorisation"))}catch(e){}if(!t||t.userAgent!==e){t=o(e);try{v.setItem("__qubitUACategorisation",p.stringify(t))}catch(e){}}return i.uaCatL1=t,t}function s(e){return f(e)||c(e)}function c(e){return l(["digext","sitecon","yottaa","webthumb","seznam","virtualwardrobe-bot","mozilla/4.0 compatible; msie 6.0; windows nt 5.1","Google Web Preview","SiteKiosk","Mozilla/5.0 (X11; Linux x86_64; rv:2.0b12pre) Gecko/ Firefox/4.0","BingPreview","PhantomJS","GomezAgent","google_partner_monitoring","BrowserMob","Stuart/1.0","trivago-AdvertiserQualityAgent/1.0"],(function(t){return e.indexOf(t)>-1}))}function u(){return(new Date).getTime()}function l(e,t){return!!d.find(e,t)}var d=n(0),p=n(8),f=n(324),m=n(326),v=window.localStorage;e.exports=i,i.getGlobals=function(){var e=window.devicePixelRatio||1;return{url:window.location.href,host:window.location.host,search:window.location.search,referrerUrl:document.referrer,doNotTrack:navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,userAgent:navigator.userAgent,screenWidth:window.screen.width*e,screenHeight:window.screen.height*e}}}),(function(e,t,n){var i=n(325);e.exports=function(t){return"object"==typeof t?e.exports(t.headers["User-Agent"]||t.headers["user-agent"]):(t+="",!!t.match(i))},e.exports.regex=i}),(function(e,t){e.exports=/anyapex|arachmo|B-l-i-t-z-B-O-T|boitho|Cerberian|Charlotte|cosmos|Covario|DataparkSearch|findlinks|holmes|htdig|ia_archiver|ichiro|l\.webis|^PycURL|^tineye|^VYU2|Larbin|LinkWalker|lwp-trivial|mabontland|Mnogosearch|updated\@updated\.com|Morning Paper|mvaclient|NetResearchServer|NewsGator|yahooseeker|NG-Search|NutchCVS|Nymesis|Orbiter|Qseero|Radian6_|ScoutJet|Teoma|Yahoo\! Slurp|yandex|(?:Peww|Pompos|PostPost|SBIder|Scrubby|SearchSight|semanticdiscovery|shopwiki|snappy|sqworm|StackRambler|truwoGPS|vagabondo|vortex|^voyager|webcollage|yeti|yoogliFetchAgent|zao|zyborg|WomlpeFactory|peew|mogimogi|Accoona-AI-Agent|Mediapartners-Google)\/\d|(?:ABACHO|Spider|Become|Beslist|Bim|Blitz|Diamond|Disco|Dot|Sheild\.com Web|Esperanza|Exa|FDSE ro|Furl|Gais|Galaxy|Genie|Giga|google|Girafa|Guruji|HappyFun|IRL|Jaxified |Jyxo|Koepa|Lapozz|lexxe|Linguee |MJ12|Mojeek|Moreover|msn|msr|mx|nice|noxstrum|\; o|omgili|OmniExplorer.?|OOZ|BitesHyper|poly|ps|RAMPy|Rufus|Seek|SEOChat..|Seznam|Shoula ro|site|suggy|survey|synoo|terrawiz|TheSu|\sro|Turnitin|TweetedTimes |Twenga|voila|yacy|Yasakli|You?dao|zeal|noxtrum|billybob|bt|bing|catch|emerald shield\.com web|)bot|(?:Baidu|\[ITS\]|Fyber|hl_ftien_|iask|igde|ld|Im|Nusearch |sogou |soso|speedy |_Web|z|^lm|igde)sp[iy]der|(?:Convera|Enter?prise |FAST-Web|g2|iC|issue|magpie-|NetSeer |sand|sensis web |Shim-)crawler|www\.almaden\.ibm\.com\/cs\/crawler|oegp v/gi}),(function(e,t,n){var i;!(function(r,o){"use strict";var a="model",s="name",c="type",u="vendor",l="version",d="mobile",p="tablet",f="smarttv",m={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},v={rgx:function(e,t){for(var n,i,r,o,a,s,c=0;c<t.length&&!a;){var u=t[c],l=t[c+1];for(n=i=0;n<u.length&&!a;)if(a=u[n++].exec(e))for(r=0;r<l.length;r++)s=a[++i],o=l[r],"object"==typeof o&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(m.has(t[n][i],e))return"?"===n?void 0:n}else if(m.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},h={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,l],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],l],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],l],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[s,l],[/(QQ)\/([\d\.]+)/i],[s,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,v.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,u,[c,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[u,"Apple"],[c,p]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[u,"Apple"],[c,f]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,a,[c,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[u,"Amazon"],[c,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,v.str,g.device.amazon.model],[u,"Amazon"],[c,d]],[/android.+aft([bms])\sbuild/i],[a,[u,"Amazon"],[c,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,u,[c,d]],[/\((ip[honed|\s\w*]+);/i],[a,[u,"Apple"],[c,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,a,[c,d]],[/\(bb10;\s(\w+)/i],[a,[u,"BlackBerry"],[c,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[u,"Asus"],[c,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[a,"Xperia Tablet"],[c,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[c,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[u,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[u,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[u,v.str,g.device.sprint.vendor],[a,v.str,g.device.sprint.model],[c,d]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[a,/_/g," "],[c,d]],[/(nexus\s9)/i],[a,[u,"HTC"],[c,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i],[a,[u,"Huawei"],[c,d]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[u,"Huawei"],[c,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,a,[c,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[u,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[c,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[u,"Motorola"],[c,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[u,"Motorola"],[c,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,m.trim],[a,m.trim],[c,f]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[c,f]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[c,f]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],a,[c,p]],[/smart-tv.+(samsung)/i],[u,[c,f],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[u,"Samsung"],a,[c,d]],[/sie-(\w*)/i],[a,[u,"Siemens"],[c,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[u,"Nokia"],a,[c,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[u,"Acer"],[c,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[u,"LG"],[c,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],a,[c,p]],[/(lg) netcast\.tv/i],[u,a,[c,f]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[u,"LG"],[c,d]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[u,a,[c,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[u,"Lenovo"],[c,p]],[/(lenovo)[_\s-]?([\w-]+)/i],[u,a,[c,d]],[/linux;.+((jolla));/i],[u,a,[c,d]],[/((pebble))app\/[\d\.]+\s/i],[u,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,a,[c,d]],[/crkey/i],[[a,"Chromecast"],[u,"Google"],[c,f]],[/android.+;\s(glass)\s\d/i],[a,[u,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[u,"Google"],[c,p]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[u,"Google"],[c,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]?[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]?[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[u,"Meizu"],[c,d]],[/(mz)-([\w-]{2,})/i],[[u,"Meizu"],a,[c,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[u,"OnePlus"],[c,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[u,"RCA"],[c,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[u,"Dell"],[c,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[u,"Verizon"],[c,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,"Barnes & Noble"],a,[c,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[u,"NuVision"],[c,p]],[/android.+;\s(k88)\sbuild/i],[a,[u,"ZTE"],[c,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[u,"Swiss"],[c,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[u,"Swiss"],[c,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[u,"Zeki"],[c,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[u,"Dragon Touch"],a,[c,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[u,"Insignia"],[c,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[u,"NextBook"],[c,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,"Voice"],a,[c,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[u,"LvTel"],a,[c,d]],[/android.+;\s(PH-1)\s/i],[a,[u,"Essential"],[c,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[u,"Envizen"],[c,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[u,a,[c,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[u,"MachSpeed"],[c,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,a,[c,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[u,"Rotor"],[c,p]],[/android.+(KS(.+))\s+build/i],[a,[u,"Amazon"],[c,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[u,a,[c,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,m.lowerize],u,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,f]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[u,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,v.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,v.str,g.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,l]]},b=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof b))return new b(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?m.extend(h,t):h;return this.getBrowser=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,n,i.browser),e.major=m.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return v.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return v.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};b.VERSION="0.7.22",b.BROWSER={NAME:s,MAJOR:"major",VERSION:l},b.CPU={ARCHITECTURE:"architecture"},b.DEVICE={MODEL:a,VENDOR:u,TYPE:c,CONSOLE:"console",MOBILE:d,SMARTTV:f,TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},b.ENGINE={NAME:s,VERSION:l},b.OS={NAME:s,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=b),t.UAParser=b):void 0!==(i=function(){return b}.call(t,n,t,e))&&(e.exports=i);var y=r&&(r.jQuery||r.Zepto);if(y&&!y.ua){var w=new b;y.ua=w.getResult(),y.ua.get=function(){return w.getUA()},y.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)y.ua[n]=t[n]}}})("object"==typeof window?window:this)}),(function(e,t){e.exports=[/^https?:\/\/(www\.)?giropay\.[.-a-z]+\.de/,/^https?:\/\/(www\.)?m?cashier(md)?\.95516\.com/,/^https?:\/\/(www\.)?easyabc\.95599\.cn/,/^https?:\/\/(www\.)?3d-secure-code\.de/,/^https?:\/\/(www\.)?acs\.3dsecure\.az/,/^https?:\/\/(www\.)?3dsecure-cardprocess\.de/,/^https?:\/\/(www\.)?3dsecure-vrp\.de/,/^https?:\/\/(www\.)?acs\d\.3dsecure\.no/,/^https?:\/\/(www\.)?acs\.ababank\.com/,/^https?:\/\/(www\.)?3ds\.abanca\.com/,/^https?:\/\/(www\.)?abnamro\.nl/,/^https?:\/\/(www\.)?pay\.activa-card\.com/,/^https?:\/\/(www\.)?(checkoutshopper-)?live\.adyen\.com/,/^https?:\/\/(www\.)?affirm\.com/,/^https?:\/\/(www\.)?portal\.afterpay\.com/,/^https?:\/\/(www\.)?acs\.airplus\.com/,/^https?:\/\/(www\.)?(mc|vs)consumer\.alahli\.com/,/^https?:\/\/(www\.)?acs\.alfabank\.ru/,/^https?:\/\/(www\.)?esecure\.alhilalbank\.ae/,/^https?:\/\/(www\.)?alignet-acs\.com/,/^https?:\/\/(www\.)?(system\.)?aliorbank\.pl/,/^https?:\/\/(www\.)?((forexprod|mclient|mobileclientgw|unitradeprod)\.)?alipay\.com/,/^https?:\/\/(www\.)?secure-gateway\.allopass\.com/,/^https?:\/\/(www\.)?production\.altpayfirstdata\.com/,/^https?:\/\/(www\.)?payments\.amazon\.co\.uk/,/^https?:\/\/(www\.)?payments-eu\.amazon\.com/,/^https?:\/\/(www\.)?((a?acs-)?safekey|online|www435)\.americanexpress\.com/,/^https?:\/\/(www\.)?aacs\.amexsafekey\.com/,/^https?:\/\/(www\.)?acs\.arca\.am/,/^https?:\/\/(www\.)?((attempts|secure\d|tsys)\.)?arcot\.com/,/^https?:\/\/(www\.)?diensten\.asnbank\.nl/,/^https?:\/\/(www\.)?trides-cld\.asseco-see\.hr/,/^https?:\/\/(www\.)?atds\.attijariwafa\.com/,/^https?:\/\/(www\.)?secure\.authorize\.net/,/^https?:\/\/(www\.)?secure\.axisbank\.com/,/^https?:\/\/(www\.)?threed\.baj\.com\.sa/,/^https?:\/\/(www\.)?ipay\.bangkokbank\.com/,/^https?:\/\/(www\.)?3dauthentication\.bankcomm\.com/,/^https?:\/\/(www\.)?bankmillennium\.pl/,/^https?:\/\/(www\.)?secure\.bankofamerica\.com/,/^https?:\/\/(www\.)?secureshopping\.bankofmelbourne\.com\.au/,/^https?:\/\/(www\.)?secureshopping\.banksa\.com\.au/,/^https?:\/\/(www\.)?acs(absa|acssbafrica|investec|sb)\.bankserv\.co\.za/,/^https?:\/\/(www\.)?secure\.barclaycard\.co\.uk/,/^https?:\/\/(www\.)?live\.barclaycardsmartpay\.com/,/^https?:\/\/(www\.)?verifiedbyvisa\.barclays\.(co\.uk|com)/,/^https?:\/\/(www\.)?epayment\.bbs\.no/,/^https?:\/\/(www\.)?acs\.bccard\.com/,/^https?:\/\/(www\.)?acs\.bdo\.com\.ph/,/^https?:\/\/(www\.)?secure-magenta1\.be2bill\.com/,/^https?:\/\/(www\.)?bezpecneplatby\.rb\.cz/,/^https?:\/\/(www\.)?acs\.bkm\.com\.tr/,/^https?:\/\/(www\.)?3ds\.bnpparibas\.com/,/^https?:\/\/(www\.)?cardsecurity\.bnz\.co\.nz/,/^https?:\/\/(www\.)?3debspay\.boc\.cn/,/^https?:\/\/(www\.)?iservice\.boccc\.com\.hk/,/^https?:\/\/(www\.)?vbv\.bonuscard\.ch/,/^https?:\/\/(www\.)?i3d\.borica\.bg/,/^https?:\/\/(www\.)?bosbank24\.pl/,/^https?:\/\/(www\.)?3ds\.bov\.com/,/^https?:\/\/(www\.)?acs1?\.bradescocartoes\.com\.br/,/^https?:\/\/(www\.)?acs\.bspb\.ru/,/^https?:\/\/(www\.)?ideal\.bunq\.com/,/^https?:\/\/(www\.)?acs\.cafis-paynet\.jp/,/^https?:\/\/(www\.)?ecom\.campubank\.com\.kh/,/^https?:\/\/(www\.)?acs\.canadiabank\.com/,/^https?:\/\/(www\.)?3ds(ec)?\.cardcenter\.ch/,/^https?:\/\/(www\.)?ipg\.cardcomplete\.com/,/^https?:\/\/(www\.)?[a-z]+\.cardinalcommerce\.com/,/^https?:\/\/(www\.)?acs(sg)?\.cardnet-tds\.com/,/^https?:\/\/(www\.)?authenticationweb\.cartoes-itau\.com\.br/,/^https?:\/\/(www\.)?ibsbjstar\.ccb\.com\.cn/,/^https?:\/\/(www\.)?(acs[mv]\.)?centrum24\.pl/,/^https?:\/\/(www\.)?payments\.chronopay\.com/,/^https?:\/\/(www\.)?acs[12]-3dsecure\.cic\.fr/,/^https?:\/\/(www\.)?acsprod\.cihbank\.ma/,/^https?:\/\/(www\.)?cimb(debit)?-securee-pay\.cimb\.com/,/^https?:\/\/(www\.)?accesscontrol\.citibank\.co\.kr/,/^https?:\/\/(www\.)?citibank\.co\.in/,/^https?:\/\/(www\.)?secureauthentication\.(apac\.)?citibank\.com/,/^https?:\/\/(www\.)?online\.citibank\.pl/,/^https?:\/\/(www\.)?citibankonline\.pl/,/^https?:\/\/(www\.)?ipay\.clictopay\.com/,/^https?:\/\/(www\.)?acs[12]-3dsecure\.cm-cic\.com/,/^https?:\/\/(www\.)?(mastercard\.|visa\.)?acs\.cmbchina\.com/,/^https?:\/\/(www\.)?3dsecure\.[-a-z]+(\.com)?\.[a-z]{2}/,/^https?:\/\/(www\.)?verifiedbyvisa2?\.comdirect\.de/,/^https?:\/\/(www\.)?geschuetzteinkaufen\.commerzbank\.de/,/^https?:\/\/(www\.)?computop-paygate\.com/,/^https?:\/\/(www\.)?ecst\.conexflow\.com/,/^https?:\/\/(www\.)?verifiedbyvisa\.consorsbank\.de/,/^https?:\/\/(www\.)?3ds\.consorsfinanz\.de/,/^https?:\/\/(www\.)?secure\.3ds\.cornercard\.ch/,/^https?:\/\/(www\.)?verifiedbyvisa\.cortalconsors\.de/,/^https?:\/\/(www\.)?acsclient\.credecard\.com/,/^https?:\/\/(www\.)?acs1\.crediteurope\.ro/,/^https?:\/\/(www\.)?acs[12]?-3dsecure\.creditmutuel\.fr/,/^https?:\/\/(www\.)?family\.ctbcbank\.com/,/^https?:\/\/(www\.)?acs\.cupdata\.com/,/^https?:\/\/(www\.)?pp2\.cxmlpg\.com/,/^https?:\/\/(www\.)?secureacceptance\.cybersource\.com/,/^https?:\/\/(www\.)?hps\.datacash\.com/,/^https?:\/\/(www\.)?3dsg\.dbs\.com/,/^https?:\/\/(www\.)?secure\.dkb\.de/,/^https?:\/\/(www\.)?ecomm\.dnb\.lv/,/^https?:\/\/(www\.)?acsweb(-pa)?\.dnp-cdms\.jp/,/^https?:\/\/(www\.)?ssl\.dotpay\.pl/,/^https?:\/\/(www\.)?acs(sv)?\.dskbank\.bg/,/^https?:\/\/(www\.)?3ds\.e-cartebleue\.com/,/^https?:\/\/(www\.)?vbv\.eahli\.com/,/^https?:\/\/(www\.)?eblik\.pl/,/^https?:\/\/(www\.)?acs\.creditcard\.ecitic\.com/,/^https?:\/\/(www\.)?acs[12]\.edb\.com/,/^https?:\/\/(www\.)?ecom\.eglobal\.com\.mx/,/^https?:\/\/(www\.)?corpbank\.electracard\.com/,/^https?:\/\/(www\.)?[a-z]+\.emergentpayments\.net/,/^https?:\/\/(www\.)?pagamentoseguro\.emis\.co\.ao/,/^https?:\/\/(www\.)?cardsecurity\.enstage\.com/,/^https?:\/\/(www\.)?acs7\.enstage-sas\.com/,/^https?:\/\/(www\.)?p[ap]\.ephapay\.net/,/^https?:\/\/(www\.)?acs1\.estcard\.ee/,/^https?:\/\/(www\.)?online\.eurobank\.pl/,/^https?:\/\/(www\.)?ims\.euronet3dsecure\.com/,/^https?:\/\/(www\.)?acs\.site1\.europsl\.eu/,/^https?:\/\/(www\.)?mdpay\.fibank\.bg/,/^https?:\/\/(www\.)?acs\.fio\.cz/,/^https?:\/\/(www\.)?mc-id-check\.firstdata\.de/,/^https?:\/\/(www\.)?acs\.firstdata\.lv/,/^https?:\/\/(www\.)?(test)?pg\.firstpay\.co\.kr/,/^https?:\/\/(www\.)?acs3d\.fisc\.com\.tw/,/^https?:\/\/(www\.)?3dsecureprd\.fnb\.co\.za/,/^https?:\/\/(www\.)?checkout\.gateline\.net/,/^https?:\/\/(www\.)?acs\.gazprombank\.ru/,/^https?:\/\/(www\.)?r\.girogate\.de/,/^https?:\/\/(www\.)?webservices\.global-e\.com/,/^https?:\/\/(www\.)?acs\.gpesecure\.com/,/^https?:\/\/(www\.)?mpi\.gpwebpay\.com/,/^https?:\/\/(www\.)?securecall\.gruppocariparma\.it/,/^https?:\/\/(www\.)?acs\.hanacard\.co\.kr/,/^https?:\/\/(www\.)?secure\.handelsbanken\.se/,/^https?:\/\/(www\.)?netsafe\.hdfcbank\.com/,/^https?:\/\/(www\.)?secure-gateway\.hipay-tpp\.com/,/^https?:\/\/(www\.)?(evgr-)?securepay\.hsbc\.com?\.[a-z]{2}/,/^https?:\/\/(www\.)?ansimclick\.hyundaicard\.com/,/^https?:\/\/(www\.)?orderpage\.ic3\.com/,/^https?:\/\/(www\.)?(hw)?acs(formaster)?\.icbc\.com\.cn/,/^https?:\/\/(www\.)?acs1\.icicibank\.com/,/^https?:\/\/(www\.)?api\.id\.me/,/^https?:\/\/(www\.)?(bankieren\.)?(ideal\.)?ing\.nl/,/^https?:\/\/(www\.)?secureyou3d\.ing\.be/,/^https?:\/\/(www\.)?visa-secure\.ing\.de/,/^https?:\/\/(www\.)?verified-by-visa\.ing-diba\.de/,/^https?:\/\/(www\.)?(e|login|online)\.ingbank\.pl/,/^https?:\/\/(www\.)?((dr|fc|ks)mobile|stdpay)\.inicis\.com/,/^https?:\/\/(www\.)?inteligo\.pl/,/^https?:\/\/(www\.)?ipko\.pl/,/^https?:\/\/(www\.)?(bps|dbpolska)\.3dsecure\.itcard\.pl/,/^https?:\/\/(www\.)?3ds\.jccsecure\.com/,/^https?:\/\/(www\.)?(h5|we)pay\.jd\.com/,/^https?:\/\/(www\.)?rt03\.kasikornbank\.com/,/^https?:\/\/(www\.)?acs\.kbcard\.com/,/^https?:\/\/(www\.)?pay\.kcp\.co\.kr/,/^https?:\/\/(www\.)?(cards-eu|checkout|pay|payment-(eu|na))\.klarna\.com/,/^https?:\/\/(www\.)?ideal\.knab\.nl/,/^https?:\/\/(www\.)?vbv\.ktb\.co\.th/,/^https?:\/\/(www\.)?(3d|paiement)\.secure\.lcl\.fr/,/^https?:\/\/(www\.)?leetchi\.com/,/^https?:\/\/(www\.)?payment\.limonetik\.com/,/^https?:\/\/(www\.)?clicksafe\.lloydstsb\.com/,/^https?:\/\/(www\.)?sps\.lottecard\.co\.kr/,/^https?:\/\/(www\.)?acs[12]\.luottokunta\.fi/,/^https?:\/\/(www\.)?lydia-app\.com/,/^https?:\/\/(www\.)?authentication-acs\.marqeta\.com/,/^https?:\/\/(www\.)?masterpass\.com/,/^https?:\/\/(www\.)?maybankard3dsecure\.maybank\.com\.my/,/^https?:\/\/(www\.)?(3dsecure|online)\.mbank\.pl/,/^https?:\/\/(www\.)?3dauth\.mbu\.hr/,/^https?:\/\/(www\.)?acs\.mepspay\.com/,/^https?:\/\/(www\.)?acs\.mercurypaymentservices\.it/,/^https?:\/\/(www\.)?secure\.metacharge\.com/,/^https?:\/\/(www\.)?securegw1\.micb\.md/,/^https?:\/\/(www\.)?3ds\.millikart\.az/,/^https?:\/\/(www\.)?acs[12]\.(3ds|valitor)\.modirum\.com/,/^https?:\/\/(www\.)?www\.mollie\.com/,/^https?:\/\/(www\.)?pay\.mollie\.nl/,/^https?:\/\/(www\.)?monetaonline\.it/,/^https?:\/\/(www\.)?3dsecure-prd2\.monext\.fr/,/^https?:\/\/(www\.)?verify\.monzo\.com/,/^https?:\/\/(www\.)?debit-3d\.bk\.mufg\.jp/,/^https?:\/\/(www\.)?acs\.multicarta\.ru/,/^https?:\/\/(www\.)?bsn3dssl\.mybsn\.com\.my/,/^https?:\/\/(www\.)?mycardsecure\.com/,/^https?:\/\/(www\.)?cardsecurity\.nab\.com\.au/,/^https?:\/\/(www\.)?gfs\.nb\.se/,/^https?:\/\/(www\.)?3ds-n[12]\.nbg\.gr/,/^https?:\/\/(www\.)?(emv3ds-)?acs\.nccc\.com\.tw/,/^https?:\/\/(www\.)?acs\.nedsecure\.co\.za/,/^https?:\/\/(www\.)?pay\.netbanx\.com/,/^https?:\/\/(www\.)?(ps4)?acs\.netcetera(-payment)?\.ch/,/^https?:\/\/(www\.)?api\.neteller\.com/,/^https?:\/\/(www\.)?3dssg\.ocbc\.com/,/^https?:\/\/(www\.)?secure\.ogone\.com/,/^https?:\/\/(www\.)?secure\.oney\.fr/,/^https?:\/\/(www\.)?acs2\.onlinesbi\.com/,/^https?:\/\/(www\.)?sigurna-kupovina\.otpbanka\.hr/,/^https?:\/\/(www\.)?form\.pagamastarde\.com/,/^https?:\/\/(www\.)?tpeweb\d?\.paybox\.com/,/^https?:\/\/(www\.)?checkout\.paybreak\.com/,/^https?:\/\/(www\.)?secure\.payengine\.de/,/^https?:\/\/(www\.)?3dspayment\.paylife\.at/,/^https?:\/\/(www\.)?(homologation-)?webpayment\.payline\.com/,/^https?:\/\/(www\.)?(mobile\.|sandbox\.|securepayments\.)?paypal\.com/,/^https?:\/\/(www\.)?(customer\.cc\.at\.)?paysafecard\.com/,/^https?:\/\/(www\.)?secure\.payu\.in/,/^https?:\/\/(www\.)?txn\.apac\.paywithpoli\.com/,/^https?:\/\/(www\.)?secure\.payzen\.eu/,/^https?:\/\/(www\.)?ecom\.pbebank\.com/,/^https?:\/\/(www\.)?(platnosci\.)?pekao24\.pl/,/^https?:\/\/(www\.)?threedsecurepa\.petafuel\.net/,/^https?:\/\/(www\.)?netpay\.pingan\.com\.cn/,/^https?:\/\/(www\.)?playpennies\.com/,/^https?:\/\/(www\.)?3d-secure\.pluscard\.de/,/^https?:\/\/(www\.)?3d-secure\.postbank\.de/,/^https?:\/\/(www\.)?3dsec\.postfinance\.ch/,/^https?:\/\/(www\.)?ppipe\.net/,/^https?:\/\/(www\.)?acs\.privatbank\.ua/,/^https?:\/\/(www\.)?secure\.przelewy24\.pl/,/^https?:\/\/(www\.)?3dsclient\.qib\.com\.qa/,/^https?:\/\/(www\.)?(betalen\.)?rabobank\.nl/,/^https?:\/\/(www\.)?rba\.hr/,/^https?:\/\/(www\.)?acs\.rcbcy\.com/,/^https?:\/\/(www\.)?hpp\.realexpayments\.com/,/^https?:\/\/(www\.)?(sasw?|sis)\.redsys\.es/,/^https?:\/\/(www\.)?3ds\.rpc-raiffeisen\.com/,/^https?:\/\/(www\.)?acs\.raiffeisen\.ru/,/^https?:\/\/(www\.)?diensten\.regiobank\.nl/,/^https?:\/\/(www\.)?secure\.safebill\.ch/,/^https?:\/\/(www\.)?secure\.safecharge\.com/,/^https?:\/\/(www\.)?saferpay\.com/,/^https?:\/\/(www\.)?(checkout|live)\.sagepay\.com/,/^https?:\/\/(www\.)?vbv\.samsungcard\.co\.kr/,/^https?:\/\/(www\.)?acs\d\.sbrf\.ru/,/^https?:\/\/(www\.)?vbv\.scb\.co\.th/,/^https?:\/\/(www\.)?vpv\.scddesjardins\.com/,/^https?:\/\/(www\.)?(3d|ibanka)\.seb\.lv/,/^https?:\/\/(www\.)?dirbet\.seb\.se/,/^https?:\/\/(www\.)?secpay\.com/,/^https?:\/\/(www\.)?(e(test)?ws1|pa2?)\.secure-payment-processing\.com/,/^https?:\/\/(www\.)?mastercardsecurecode\.secureacs\.com/,/^https?:\/\/(www\.)?secure\dgw\.ro/,/^https?:\/\/(www\.)?cap(\.attempts)?\.securecode\.com/,/^https?:\/\/(www\.)?securesuite\.(co\.uk|net)/,/^https?:\/\/(www\.)?(payments\.)?securetrading\.net/,/^https?:\/\/(www\.)?sas\.sermepa\.es/,/^https?:\/\/(www\.)?channel\.shinhan\.com\.vn/,/^https?:\/\/(www\.)?vbv\.shinhancard\.com/,/^https?:\/\/(www\.)?acs\.sia\.eu/,/^https?:\/\/(www\.)?acs\.sibs\.pt/,/^https?:\/\/(www\.)?acs\d\.six-payment-services\.com/,/^https?:\/\/(www\.)?(pay\.)?skrill\.com/,/^https?:\/\/(www\.)?(diensten|ideal)\.snsbank\.nl/,/^https?:\/\/(www\.)?sofort\.com/,/^https?:\/\/(www\.)?acs\d\.sparebank1\.no/,/^https?:\/\/(www\.)?sicher-bezahlen\.sparkasse\.at/,/^https?:\/\/(www\.)?(mastercardsecurecode|verifiedbyvisa)\.sparkassen-kreditkarten\.de/,/^https?:\/\/(www\.)?acs\.spdb\.com\.cn/,/^https?:\/\/(www\.)?cardsecurity\.standardchartered\.com/,/^https?:\/\/(www\.)?secureshopping\.stgeorge\.com\.au/,/^https?:\/\/(www\.)?(acs[12]|internetbank)\.swedbank\.se/,/^https?:\/\/(www\.)?acs\.swisscard\.ch/,/^https?:\/\/(www\.)?system\.t-mobilebankowe\.pl/,/^https?:\/\/(www\.)?acs[12]-3dsecure\.targobank\.de/,/^https?:\/\/(www\.)?acs\.techcombank\.com\.vn/,/^https?:\/\/(www\.)?secure\.telluspay\.com/,/^https?:\/\/(www\.)?tenpay\.com/,/^https?:\/\/(www\.)?thepaymentsplace\.com\.au/,/^https?:\/\/(www\.)?secure\.tinkoff\.ru/,/^https?:\/\/(www\.)?secure\.eu\.tnspayments\.com/,/^https?:\/\/(www\.)?(idcheck|verifiedbyvisa)\.acs\.touchtechpayments\.com/,/^https?:\/\/(www\.)?acs\.tpb\.vn/,/^https?:\/\/(www\.)?ideal\.triodos\.nl/,/^https?:\/\/(www\.)?trustly\.com/,/^https?:\/\/(www\.)?acs1\.unicredit\.ru/,/^https?:\/\/(www\.)?fpay\.uniteller\.ru/,/^https?:\/\/(www\.)?uobm?3ds\.uobgroup\.com/,/^https?:\/\/(www\.)?pagseguro\.uol\.com\.br/,/^https?:\/\/(www\.)?acs\.upc\.ua/,/^https?:\/\/(www\.)?secureshopping\.usaa360\.com/,/^https?:\/\/(www\.)?(ideal\.)?vanlanschot\.com/,/^https?:\/\/(www\.)?(aacsw\.3ds\.)?verifiedbyvisa\.com/,/^https?:\/\/(www\.)?(checkout|vcas\d)\.visa\.com/,/^https?:\/\/(www\.)?vcas02\w\.visa3dsecure\.com/,/^https?:\/\/(www\.)?acs1\.viseca\.ch/,/^https?:\/\/(www\.)?secureshopping\.westpac\.com\.au/,/^https?:\/\/(www\.)?(3dsecure-\d|checkout)\.wirecard\.com/,/^https?:\/\/(www\.)?[-a-z0-9]+\.wlp-acs\.com/,/^https?:\/\/(www\.)?acs\.wooricard\.com/,/^https?:\/\/(www\.)?(hpp|payments|secure)\.worldpay\.com/,/^https?:\/\/(www\.)?xecure3d\.com/,/^https?:\/\/(www\.)?(m|(sandbox-)?secure)\.xsolla\.com/,/^https?:\/\/(www\.)?paymentcard\.yamoney\.ru/,/^https?:\/\/(www\.)?money\.yandex\.ru/,/^https?:\/\/(www\.)?zaba\.hr/]}),(function(e,t,n){var i=n(0),r=n(5),o=n(329),a=n(330),s=n(10),c=n(331),u=n(14),l=n(69),d=n(333),p=n(334),f=n(365),m=n(36).local,v=n(36).session,g=n(374),h=n(375),b=n(376),y=n(378),w=n(380),x=n(382),_=n(387),k=n(46),T=n(388),I=n(389),A=n(13).IGNORE_ERROR_FLAG,S=n(390),E=n(392),C=n(393),R=n(394),j=n(395),M=n(396),N=n(397),O=n(398),P=n(399),L=u("createVisitorEngine"),q=k.createAsyncVisitorEngine,D=k.middleware.createStateObservable;e.exports=function(e){function t(e){var t=e[0],i=e[1];switch(ie.use(N(Q,G,t)),ae){case"preview":return n(t);default:return ie.start(t,i)}}function n(e){function t(t){L.debug("Fetched preview in "+n()+"ms",t);var r=i.assign({},oe,t),o=f(r,ie,X,K);return re.push(o),L.debug("Registering debug observer"),ie.use(E(o,0)),ie.processEvent(d(W),0),ue.setIndex(t.index),ie.start(e,t.index)}L.debug("Fetching preview");var n=l();return o(X,oe).then(t)["catch"](k)}function u(){L.debug("Visitor engine initialized in "+z()+"ms")}function k(e){L.error("Failed to start visitor engine",{error:e}),$.error(e,{extra:{mode:ae,visitorId:Z,propertyId:X,phase:"initialization"}})}function B(e){var t=e.error;if(t&&t[A])throw delete t[A],t;L.error("Error occured in visitor engine",e),$.error(t,{extra:{mode:ae,phase:"event",visitorId:Z,propertyId:X}})}function H(e,t){return t=t||ie.getStateSync(),-1!==i.indexOf(t.memberships,e)}function U(){i.each(re,(function(e){e&&e.dispose&&e.dispose()}))}function F(e){var t;return t=-1===e.indexOf(".")?function(e,t){return e[t]}:i.get,function(n){return function(i){return n(t(i,e))}}}e=e||{};try{var z=l(),G=e.flags||{},V=e.env,$=s(e.poe,"`poe` is required"),Q=s(e.ping,"`ping` is required"),W=s(e.jolt,"`jolt` is required"),J=s(e.lookup,"`lookup` is required"),K=s(e.biscotti,"`biscotti` is required"),Y=s(e.trackingId,"`trackingId` is required"),X=s(e.propertyId,"`propertyId` is required"),Z=c(K),ee=a({visitorId:Z,trackingId:Y}),te=I(),ne=T(Z,Q),ie=q({middleware:e.middleware}),re=[ie.dispose],oe=b(),ae=(function(e){return e&&e.preview?"preview":"default"})(oe),se=D(),ce=O(),ue=P({bundledIndex:e.index,propertyId:X,env:V,storage:v}),le=w({poe:$,env:V,statistic:ne,visitorId:Z,propertyId:X,trackingId:Y}),de=_({poe:$,compress:te,visitorId:Z,trackingId:Y,remoteStorage:ee}),pe=p({ping:Q,lookup:J,compress:te,biscotti:K,statistic:ne,visitorId:Z,trackingId:Y,storage:m,remoteStorage:ee}),fe=S({indexManager:ue,engine:ie,inSync:W.inSync,isMemberOf:H});if(L.debug("Starting visitor engine in "+ae+" mode"),ie.onError(B),(function(e){L.debug("Registering QP event handler");var t=W.on?W.on("*",e):W.onEnrichment(e);re.push(t)})(ie.processEvent),ie.use(R(ne),0),ie.use(M(Q)),ie.use(j(fe)),ie.use(C(x(i.assign({},e,{getIndex:ue.getIndex})))),ie.use(se),se.onStateChanged(F("state")(de)),se.onStateChanged(F("state")(pe.setState)),se.onTimeoutsChanged(F("changeset")(le)),G.SEGMENT_DATASETS){var me=y({poe:$,env:V,engine:ie,statistic:ne,visitorId:Z,trackingId:Y});se.onEventProcessed(F("state.queryInput")(me))}return r.all([pe.getState(),ue.getIndex()]).then(t).then(u)["catch"](k),ie.dispose=U,ie.storage=pe,ie["public"]=g(ie,fe,se,ce),h(e.explorer,ie,ce),ie}catch(e){k(e)}}}),(function(e,t,n){function i(e){try{m.debug("Fetching preview from sessionStorage");var t=f.getItem(c.SEGMENT_PREVIEW_STORAGE_KEY);if(t)return a.parse(t)}catch(e){m.warn("Failed loading preview from sessionStorage",{message:e&&e.message,stack:e&&e.stack})}}function r(e,t,n){function i(e){try{return a.parse(e)}catch(e){return n(e)}}var r=o(e,t.id);m.debug("Fetching preview from stash",{url:r,debuggerConfig:t}),s.get(r,(function(e,t){if(e)return n(e);var r=i(t);if(r){var o=r.status.code;if(200!==o)return n(new Error("Stash returned status code "+o));var a=i(r.data);a&&(m.debug("Received preview from stash",{preview:a}),n(null,a))}}))}function o(e,t){return c.STASH_URL+"/stash/v1.1/kv/get/"+e+"/public/"+t}var a=n(8),s=n(12),c=n(13),u=n(20),l=n(10),d=n(25),p=n(14),f=n(36).session,m=p("getPreview");e.exports=function(e,t){l(e>0,"`propertyId` required"),l(t,"`debuggerConfig` required");var n=i(t);if(n)return m.debug("Found prevew in sessionStorage",{preview:n}),u(n);var o=d();return r(e,t,(function(e,t){if(e&&m.warn("Failed to find preview in stash",{message:e.message,stack:e.stack}),t)return f.setItem(c.SEGMENT_PREVIEW_STORAGE_KEY,a.stringify(t)),o.resolve(t);var n="No preview was found in sessionStorage or stash";m.warn(n),o.reject(new Error(n))})),o.promise}}),(function(e,t,n){function i(e){return new o(function(t,n){e((function(e,i){if(e)l.warn("Request failed",{message:e.message}),n(e);else if(r.indexOf(f,i)>=0){var o="Failed to sync to state to stash: "+i;l.warn(o),n(new Error(o))}else t(i)}))})}var r=n(0),o=n(5),a=n(12),s=n(13),c=n(10),u=n(14),l=u("createRemoteStorage"),d=s.STASH_URL,p=s.STASH_NAMESPACE,f=[s.RESPONSE_TIMEOUT,s.RESPONSE_ERROR];e.exports=function(e){function t(){return i((function(e){a.get(u,e)}))}function n(e){return i((function(t){a.post(l,e,t)}))}function r(e){return d+"/stash/v1.1/kv/"+e+"/"+p+s+"/public/segments-"+o}var o=c(e.visitorId,"`visitorId` required"),s=c(e.trackingId,"`trackingId` required"),u=r("get"),l=r("set");return{get:t,set:n}}}),(function(e,t,n){var i=n(10);e.exports=function(e){return i(e,"`biscotti` required"),e.permanent.get("visitorId")}}),(function(e,t){e.exports=function(){if("undefined"!=typeof window&&"undefined"!=typeof window.performance)try{return window.performance.now()}catch(e){}return(new Date).getTime()}}),(function(e,t,n){var i=n(0);e.exports=function(e){var t=e.getState(),n=t.visitor,r=t.session,o=i.assign({},r,{cookiePersists:n.cookiePersists});!(function(e){e.context=e.context||{};var t=i.pick(n,["sample","viewNumber","sessionNumber","entranceNumber","sessionViewNumber","entranceViewNumber","conversionNumber","conversionCycleNumber"]);t.sample=String(t.sample),i.assign(e.context,t,{id:n.visitorId,lifetimeValue:{value:n.lifetimeValue}})})(o);var a=(new Date).getTime();return o.meta={ts:a,type:"qubit.session",id:a.toString()},o}}),(function(e,t,n){function i(e){return"object"==typeof e}var r=n(0),o=n(13),a=n(20),s=n(10),c=n(14),u=n(69),l=n(46).compression,d=c("createStorage"),p=o.COOKIE_KEY,f=o.STORAGE_KEY,m=o.COOKIE_MIGRATION_KEY,v=o.STORAGE_DEBOUNCE_PERIOD,g="segments~";e.exports=function(e){function t(){return A}function n(e){s(i(e),"`state` is required"),d.debug("Updating state in memory",{criteria:e.history.criteria}),T=e,A=a(e),D(e)}function o(e){var t=e&&e.segment&&e.segment.state;return"string"!=typeof t?(d.warn("Lookup response did not have segment state. Falling back to local state.",{lookupResponse:e}),c()):(d.debug("Received state from lookup. Writing to localStorage",{state:t}),w(t),T=y(t),M("syncTime",I()),k(),T)}function c(){var e,t,n=x();if(n.state){e=n.state;var i=w(e);S("qubit.debug",{type:"ssgVisitorEngine.debugMigrationEvent",value:JSON.stringify({ts:i,visitorId:N,trackingId:O})})}else{var r=_();e=r.state||"",t=r.ts===undefined||n.ts!==r.ts}return T=y(e),t?P.get().then(h)["catch"]((function(e){return d.warn("Request failed",{message:e.message}),k(),a(T)})):(k(),a(T))}function h(e){var t={state:""};try{var n=JSON.parse(e);t=JSON.parse(n.data)}catch(e){d.warn("Error parsing response data",{message:e.message})}var i=t.state;return w(i),T=y(i),k(),a(T)}function b(e){var t=R(e);d.debug("Writing compressed state to localStorage",{compressedState:t,compressedStateLength:t.length}),w(t),M("compressedStateSize",t.length)}function y(e){return 0===e.indexOf(g)&&(e=e.substring(g.length),w(e)),{history:l.decompress(e)}}function w(e){var t,n=(new Date).getTime();try{t=JSON.stringify({state:e,ts:n})}catch(e){return void d.warn("Error stringifying visitorState",{message:e&&e.message})}return C.setItem(f,t),L.set(p,m+"|"+n),n}function x(){var e=L.get(p)||"";if(0===e.indexOf(m)){var t=e.slice(m.length+1);return t=t&&t.length?parseInt(t,10):0,{ts:t}}return{state:e}}function _(){var e;try{var t=C.getItem(f);e=t&&t.length&&JSON.parse(t),e&&e.ts&&(e.ts=parseInt(e.ts,10))}catch(e){d.warn("Error parsing visitorState",{message:e&&e.message})}return e||{}}function k(){d.info("Storage initialized in "+q()+"ms")}var T,I,A,S=s(e.ping,"`ping` is required"),E=s(e.lookup,"`lookup` required"),C=s(e.storage,"`storage` required"),R=s(e.compress,"`compress` required"),j=s(e.biscotti,"`biscotti` required"),M=s(e.statistic,"`statistic` required"),N=s(e.visitorId,"`visitorId` required"),O=s(e.trackingId,"`trackingId` required"),P=s(e.remoteStorage,"`remoteStorage` required"),L=j.permanent,q=u();E.inSync()?(d.info("In sync with server"),A=c()):(d.info("NOT in sync with server. Fetching state from lookup"),I=u(),A=E.get(N).then(o)["catch"](c));var D=r.debounce(b,v);return{getState:t,setState:n}}}),(function(e,t,n){function i(e){if(!e)return"";var t=y(),n=r(e.criteria);if(e.userId){n=m.encode("undefined"==typeof e.userId?"":e.userId.toString())+T.USER_ID+n}return n.length&&(n=A+n),w.debug("State was compressed in "+t()+"ms",{compressedState:n,decompressedState:e}),n}function r(e){function t(e){var t=p.keys(e).sort();return p.map(t,(function(t){return e[t]}))}function n(e,t){var n;if(null===e)e=g.compressHammertime(t),n=e;else{var i=g.compressHammertime(t);n=i-e,e=i}return p.each(s[t],(function(e){p.each(e.tokens,(function(t,i){if("time"===t.valueType){var r=e.ts===t.value,o=r?n:g.compressHammertime(t.value);e.tokens[i]={value:o,type:t.type,valueType:"number"}}})),n=0})),e}function i(e){return p.map(e||[],(function(e){var t=p.map(e.tokens,(function(e){if("string"==typeof e)return e;var t="";if(e.valueType)switch(e.valueType){case"number":t=f.encode(parseInt(e.value,10));break;case"array":t=e.value.join(k);break;case"boolean":t=e.value?1:0;break;default:h(!1,"Invalid token type: "+e.valueType)}return e.type+t}));return e.id+t.join(_)}))}function r(e){return e&&e.tokens&&e.tokens.length}function o(e){return e.ts}function a(e,t){var n,i=[];return p.objectEach(M,(function(t,r){if(r in e){var o=t(e);if(!o)return;p.isArray(o)||(o=[o]),p.each(o,(function(e){i.push(e),"time"===e.valueType&&(!n||e.value<n)&&(n=e.value)}))}})),n&&i.sort((function(e,t){return e.value-t.value})),{id:t,ts:n,tokens:i}}if(!e||!p.keys(e).length)return"";var s=v.chain(e).thru(p.objectMap.asArray,a).filter(r).thru(v.groupBy,o).value();v.chain(s).thru(v.omit,"undefined").keys().map(Number).thru(v.sort).reduce(n,null).value();var c=v.flatten(v.union(i(s.undefined),(function(e){return v.chain(e).thru(v.omit,"undefined").thru(t).map(i).value()})(s)));return c.length?c.join(x):""}function o(e){var t=y(),n={userId:undefined,criteria:{}};if(!e||!e.length)return n;e=e.replace(/\|/g,x).replace(/</g,T.EVENT_TIMEOUT);var i=parseInt(e[0],10);if(h(i<=A,"State version ("+i+") is higher than current ("+A+")"),e=e.substring(1),1===i&&R.test(e)&&(n.userId=e.match(R)[2],e=e.replace(R,(function(e,t){return t}))),i>=2){var r=e.lastIndexOf(T.USER_ID);-1!==r&&(n.userId=e.substring(0,r),e=e.substring(r+1))}if(n.userId&&i>=3){var o=n.userId;3===i&&(o=n.userId.slice(0,-1));var s=m.decode(o);n.userId=""===s?undefined:s}return"string"==typeof e&&""!==e&&(n.criteria=a(e)),w.debug("State was decompressed in "+t()+"ms",{compressedState:e,decompressedState:n}),n}function a(e){function t(e){return!!e}function n(e){var t=C.exec(e);if(!t)return void w.warn("Compressed predicate must start with predicateId",{compressedPredicate:e});var n=t[1],o={},a=e.substring(n.length).split(_);return p.each(a,(function(e){var t=e[0],a=e.substring(1);switch(t){case T.COUNT:o.count=f.decode(a);break;case T.COUNTS:o.counts=l(a);break;case T.TIME:var s=r(n,a);s!==j&&(o.time=o.time||{},o.time.value=s);break;case T.TIME_ACTUAL:o.time=o.time||{},o.time.actual=r(n,a);break;case T.TIMEOUT_EXPIRED:o.timeoutExpired="1"===a;break;case T.SEGMENT_JOINED:o.segmentJoined="1"===a;break;case T.HAS_QUERIED_FOR_USER_ID:o.hasQueriedForUserId="1"===a;break;default:o.timeout=i(n,t,a)}})),[n,o]}function i(e,t,n){switch(t){case T.TIME_TIMEOUT:return{type:"time",value:r(e,n)};case T.NEVER_TIMEOUT:return{type:"never",value:1};case T.VIEW_TIMEOUT:case T.EVENT_TIMEOUT:case T.SESSION_TIMEOUT:case T.ENTRANCE_TIMEOUT:return{type:E[t],value:f.decode(n)};default:throw new Error("Unknown timeout type "+t)}}var r=s();return v.chain(e.split(x)).map(n).filter(t).thru(v.zip).value()}function s(){var e,t={};return function(n,i){var r=f.decode(i);return n in t?g.decompressHammertime(r):(t[n]=null,void 0===e?e=r:e+=r,g.decompressHammertime(e))}}function c(e){if(!e.length)return[];for(var t=p.map(e,u).sort(),n=[t[0]],i=1;i<t.length;i++)n.push(t[i]-t[i-1]);return p.map(n,f.encode)}function u(e){return h(d(e),"`counts` may only contain timeout expirys"),"time"===e.type?g.compressHammertime(e.value):e.value}function l(e){var t=[],n=E[e[0]],i=e.substring(1).split(k),r=p.map(i,f.decode);return p.reduce(r,(function(e,i){e?e+=i:e=i;var r=e;return"time"===n&&(r=g.decompressHammertime(r)),t.push({type:n,value:r}),e})),t}function d(e){return"undefined"!=typeof e.type&&"undefined"!=typeof e.value}var p=n(0),f=n(26),m=n(336),v=n(22),g=n(47),h=n(15),b=n(30),y=n(115),w=b("compression"),x="&",_="]",k=">",T={EVENT_TIMEOUT:"'",NEVER_TIMEOUT:"!",ENTRANCE_TIMEOUT:"#",TIME_TIMEOUT:"$",VIEW_TIMEOUT:"@",SESSION_TIMEOUT:"_",COUNT:"*",COUNTS:"^",TIME:"?",TIME_ACTUAL:"~",USER_ID:".",TIMEOUT_EXPIRED:"`",SEGMENT_JOINED:")",HAS_QUERIED_FOR_USER_ID:"("},I={time:T.TIME_TIMEOUT,view:T.VIEW_TIMEOUT,event:T.EVENT_TIMEOUT,never:T.NEVER_TIMEOUT,session:T.SESSION_TIMEOUT,entrance:T.ENTRANCE_TIMEOUT},A="5",S=p.keys(v.invert(T)).join(""),E=v.invert(I),C=new RegExp("(.*?)(["+S+"])"),R=new RegExp("(^|"+x+")([^"+x+"]+)\\."),j=1e12;e.exports={compress:i,decompress:o,tokenTypes:T,currentVersion:A};var M={time:function(e){var t=[],n=e.time.value;isNaN(n)||t.push({type:T.TIME,valueType:"time",value:parseInt(n,10)});var i=e.time.actual;return isNaN(i)||t.push({type:T.TIME_ACTUAL,valueType:"time",value:parseInt(i,10)}),t},counts:function(e,t){if(e.counts.length){var n=c(e.counts),i=e.counts[0].type,r=I[i];return h(r,"Unknown timeout "+i),{type:T.COUNTS+r,valueType:"array",value:n}}},count:function(e){return{type:T.COUNT,valueType:"number",value:parseInt(e.count,10)}},timeoutExpired:function(e){return{type:T.TIMEOUT_EXPIRED,valueType:"boolean",value:e.timeoutExpired}},segmentJoined:function(e){return{type:T.SEGMENT_JOINED,valueType:"boolean",value:e.segmentJoined}},timeout:function(e,t){var n=e.timeout;if(n)switch(n.type){case"never":return{type:T.NEVER_TIMEOUT};case"time":return{type:T.TIME_TIMEOUT,valueType:"time",value:parseInt(n.value,10)};case"view":case"event":case"session":case"entrance":return{type:I[n.type],valueType:"number",value:parseInt(n.value,10)};default:h(!1,"Unknown timeout type "+n.type)}},hasQueriedForUserId:function(e,t){return{type:T.HAS_QUERIED_FOR_USER_ID,valueType:"boolean",value:e.hasQueriedForUserId}}}}),(function(e,t,n){function i(e){return function(t){try{return r[e](t)}catch(n){throw new Error("Could not base64 "+e+" value `"+t+"`: "+n.message)}}}var r=n(337);e.exports={encode:i("encode"),decode:i("decode")}}),(function(e,t,n){(function(e){var i;!(function(r){var o="object"==typeof t&&t,a=("object"==typeof e&&e&&e.exports,"object"==typeof global&&global);var s=function(e){this.message=e};s.prototype=new Error,s.prototype.name="InvalidCharacterError";var c=function(e){throw new s(e)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,d=function(e){e=String(e).replace(l,"");var t=e.length;t%4==0&&(e=e.replace(/==?$/,""),t=e.length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",a=-1;++a<t;)i=u.indexOf(e.charAt(a)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},p=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,r,o=e.length%3,a="",s=-1,l=e.length-o;++s<l;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,i=e.charCodeAt(++s),r=t+n+i,a+=u.charAt(r>>18&63)+u.charAt(r>>12&63)+u.charAt(r>>6&63)+u.charAt(63&r);return 2==o?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),r=t+n,a+=u.charAt(r>>10)+u.charAt(r>>4&63)+u.charAt(r<<2&63)+"="):1==o&&(r=e.charCodeAt(s),a+=u.charAt(r>>2)+u.charAt(r<<4&63)+"=="),a},f={encode:p,decode:d,version:"0.1.0"};(i=function(){return f}.call(t,n,t,e))!==undefined&&(e.exports=i)})()}).call(t,n(338)(e))}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}),(function(e,t){e.exports=function(){if("undefined"!=typeof window&&"undefined"!=typeof window.performance)try{return window.performance.now()}catch(e){}return(new Date).getTime()}}),(function(e,t,n){function i(){return{userId:undefined,criteria:{}}}function r(){return(new Date).getTime()}var o=n(341),a=n(48),s=n(0),c=n(22),u=n(342),l=n(343),d=n(15),p=n(344),f=n(345),m=n(346),v=n(347);e.exports=function(e){function t(e){return d(u(e),"`predicateId` required"),K.criteria[e]}function n(){return s.keys(K.profiles)}function g(e,t){return-1!==s.indexOf(e,t)}function h(e){return g($,e)}function b(){function e(e){g(i,e)||i.push(e)}var t=n(),i=Q.memberships||[];return z&&s.each(t,(function(t){if(h(t)){var n=B.profiles.predicateRoots[t];(Q.history.criteria[n]||{}).segmentJoined&&e(t)}else e(t)})),{predicateState:U,timeouts:m(K,Q,H),memberships:v(t,i)}}function y(e,t){d(u(e),"`predicateId` required"),d(p(t),"`predicateResult` must be a boolean"),L=!0,K.criteria[e]=t;var n=W[e];n&&(t?K.profiles[n]=!0:delete K.profiles[n],h(n)&&(function(t){var n=K.history.criteria[e]||{segmentJoined:!1};if(n.segmentJoined!==t){var i=s.assign({},n,{segmentJoined:t});T(e,i)}})(!!t))}function w(e){return d(u(e),"`predicateId` required"),Q.history.criteria[e]}function x(e){return d(u(e),"`predicateId` required"),K.history.criteria[e]}function _(){return K.history}function k(e,t){-1===s.indexOf(q,e)&&q.push(e),R(e,!0),D=D.concat(t),L=!0}function T(e,t){d(u(e),"`predicateId` required");var n;t?(d(l(t),"`predicateState` must be an object"),n=w(e),I(t,n)&&(U[e]={before:n,after:t},L=!0,F=!0),K.history.criteria[e]=t):(n=w(e),n&&(U[e]={before:n,after:undefined},L=!0,F=!0),delete K.history.criteria[e])}function I(e,t){return!(!e||t)||e!==t&&!f(e,t)}function A(){if(q.length&&H){var e=H.meta||{},t=H.context||{},n={context:{id:t.id,timezoneOffset:t.timezoneOffset},meta:{ts:e.ts,type:e.type}};return s.each(D,(function(e){o(n,e,a(H,e))})),{queries:q,event:n}}}function S(){return J}function E(e){J=e===undefined||null===e?undefined:e.toString(),C()&&(L=!0,F=!0,s.objectEach(K.history.criteria,(function(e,t){R(t,!1)})))}function C(){return J!==M(Q)}function R(e,t){var n=K.history.criteria[e]||{hasQueriedForUserId:!1},i=n.hasQueriedForUserId,r=t&&!i,o=i&&!t;if(r||o){T(e,s.assign({},n,{hasQueriedForUserId:t}))}}function j(e){return a(K.history.criteria[e],"hasQueriedForUserId")||!1}function M(e){if(e&&e.history)return e.history.userId}function N(){if(!L&&P)return P;var e=b(),t=n(),i=!!e.timeouts.length,r=!!e.memberships.joined.length||!!e.memberships.left.length,o=s.assign({history:{},changeset:e,hasChanged:O(),memberships:t,queryInput:A(),hasTimeoutsChanged:i,hasMembershipsChanged:r},K,e.memberships);return o.history.userId=J,G&&(o=G(o)),P=o,L=!1,o}function O(){if(F)return!0;var e=s.keys(Q.history.criteria||{});return!!e.length&&c.some(e,(function(e){return!K.history.criteria[e]}))}var P,L=!0,q=[],D=[],B=e.index,H=e.event,U={},F=!1,z=!!e.initialising,G=e.transformJSON,V=e.createId||r,$=B.profiles.defaults||[],Q=(function(t){return t?(t.history||(t.history={}),t.history.criteria||(t.history.criteria={}),t):{profiles:{},history:e.history||i()}})(e.previousState),W=e.rootPredicates||c.invert(B.profiles.predicateRoots),J=M(Q),K={id:V(),event:H,profiles:{},criteria:{},history:i()};return{index:B,event:H,toJSON:N,getUserId:S,setUserId:E,hasChanged:O,getChangeset:b,getMemberships:n,hasUserIdChanged:C,getHasQueriedForUserId:j,addQueryToExecute:k,setPredicateState:T,getPredicateState:x,getPredicateResult:t,setPredicateResult:y,getAllPredicateStates:_,getPreviousPredicateState:w}}}),(function(e,t,n){var i=n(0);e.exports=function(e,t,n){return i.reduce(t.split("."),(function(e,t,i,r){if(void 0!==e&&null!==e)return i===r.length-1?(e[t]=n,n):(e[t]||(e[t]={}),e[t])}),e)}}),(function(e,t){e.exports=function(e){return"string"==typeof e}}),(function(e,t){e.exports=function(e){return"object"==typeof e}}),(function(e,t){e.exports=function(e){return"boolean"==typeof e}}),(function(e,t){e.exports=function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}),(function(e,t,n){function i(e){return e&&e.value}var r=n(0);e.exports=function(e,t,n){var o=[],a=n&&n.meta&&n.meta.ts,s=e.history.criteria,c=(function(){return t&&t.history&&t.criteria?t.history.criteria:{}})();return r.objectEach(s,(function(e,t){function s(e){var n=c[t];if(n)return n[e]}function u(e,n,i){o.push({type:"time",value:n,changeType:e,predicateId:t,previousValue:i})}var l=e.time,d=e.counts,p=e.timeout;p&&(function(e,t){"time"===e.type&&(t?"time"===t.type&&t.value!==e.value&&n&&n.meta&&(t.value<=a?u("added",e.value):u("updated",e.value,t.value)):u("added",e.value))})(p,s("timeout")),l&&(function(e,t){t&&t.value?e.value!==t.value&&e.value>a&&u("updated",e.value,t.value):e.value>a&&u("added",e.value)})(l,s("time")),d&&(function(e,t){if(0!==e.length&&"time"===e[0].type){var n=t?r.map(t,i):[];r.each(e,(function(e){var t=i(e);-1===r.indexOf(n,t)&&u("added",t)}))}})(d,s("counts"))})),o}}),(function(e,t,n){var i=n(22).difference;e.exports=function(e,t){return{joined:i(e,t),left:i(t,e)}}}),(function(e,t,n){function i(e){return e}var r=n(15);e.exports=function(e){return e||(e=[]),function(t,n){if(!e.length)return t;if(1===e.length)return e[0](t,n,i);for(var o=[],a=1;a<e.length;a++)o.push(function(t){return function(n,a){var s=e[t-1].id;r(n,s+" did not pass `state` to next(state, event)");var c=o[t]||i;return e[t](n,a,c)}}(a));return e[0](t,n,o[0])}}}),(function(e,t,n){function i(e){return/^qubit\./.test(e)}function r(e){return e=o.assign({},e),e.profiles=o.assign({},e.profiles),e}var o=n(0),a=n(49);e.exports=function(e){function t(t){return e.profiles.executionPlans[t]||[]}e=r(e);var n=e.property&&e.property.qp_namespace;if(e.profiles.hasNamespaced||!n)return e;var s=o.unique(o.map(o.keys(e.profiles.executionPlans),(function(e){return a(e)})));return e.profiles.executionPlans=o.reduce(s,(function(e,r){if(i(r))return e[r]=t(r),e;var a=n+"."+r,s=o.unique(t(a).concat(t(r)));return e[r]=s,e[a]=s,e}),{}),e.profiles.hasNamespaced=!0,e}}),(function(e,t,n){var i=n(351);e.exports=function(){return function(e){return function(t,n,r){return r(i(t,n,e.index),n)}}}}),(function(e,t,n){var i=n(352),r=n(15),o=n(117);e.exports=function(e,t,n){return r(e,"`state` required"),r(n,"`index` required"),t?(o(t),i(e,t,n)):e}}),(function(e,t,n){var i=n(0),r=n(22),o=n(71),a=n(30),s=n(70),c=n(118),u=n(121),l=n(354),d=a("updateState");e.exports=function(e,t,n){function a(e){return r.some(e.children,(function(e){return e in p}))}var p={},f=l(t,n);return f.length?d.debug(s(t)+" has "+f.length+" predicates in its execution plan",{executionPlan:f,event:t}):d.debug("No segments reference "+s(t)),i.each(f,(function(r){var s=n.predicates[r],l=c(e,t,s),d=o.getExpiry(t,s),f=e.getPredicateState(r);if(!l&&d||e.setPredicateResult(r,l),l&&d){u(s)&&e.setPredicateResult(r,!1),("timeout"!==s.op||a(s))&&(p[r]=null,f=i.assign({},f,{timeout:d}));var m=f&&f.timeoutExpired,v=o.hasTimeoutEnded(t,s,d);m&&!v&&(f=i.assign({},f),delete f.timeoutExpired),e.setPredicateState(r,f)}})),e}}),(function(e,t){function n(){return new Date(NaN)}var i=/^((\d{2,4})-(\d{1,2})-(\d{1,2}))( (\d{1,2}):(\d{1,2})(:(\d{1,2}))?)?$/,r=[2,3,4,6,7,9];e.exports=function(e){if("string"!=typeof e)return n();var t=i.exec(e);if(!t)return n();for(var o=[],a=0;a<r.length;a++){var s=parseInt(t[r[a]],10);if(isNaN(s))break;o.push(s)}if(o.length<3)return n();o[1]=o[1]-1;var c=Date.UTC.apply(null,o);return new Date(c)}}),(function(e,t){e.exports=function(e,t){return t.profiles.executionPlans[e.meta.type]||[]}}),(function(e,t,n){var i=n(356);e.exports=function(){return function(e){return function(t,n,r){return t=i(t,n,e.index),r(t,n)}}}}),(function(e,t,n){function i(e){return!o.isEmpty(e.children)}var r=n(0),o=n(22),a=n(71),s=n(30),c=n(70),u=n(121),l=n(120),d=n(357).QUERY_RESULT_TYPE,p=n(358),f=n(72),m=n(49),v=["lt","lte","eq"],g=s("initializeState");e.exports=function(e,t,n){var o=c(t);return r.objectEach(e.index.predicates,(function(n){function s(t){e.setPredicateState(n.id,t)}function c(t){e.setPredicateResult(n.id,t)}var p=e.getPreviousPredicateState(n.id);if(o===d){var h=t.results||{},b=h[n.id];b!==undefined&&(g.debug("Query result received.",{queryResult:b,queryId:n.id}),p=b?{timeout:{type:"never",value:b?1:0}}:null,e.setPredicateResult(n.id,!!b),e.setPredicateState(n.id,p))}if(p){var y=p.timeout;if(y){var w=f(n);w&&"event"===w.type&&m(w.event)===m(o)&&(y={type:"event",value:y.value-1},p={timeout:y});var x=a.hasTimeoutEnded(t,n,y);if(u(n)){var _=!!p.timeoutExpired,k=x||_;x&&(p=r.assign({},p,{timeoutExpired:!0})),c(k),s(p)}else c(!x),x||s(p)}else s(p);if(p.time&&n.props.time){var T=n.props.time.op,I=p.time.value,A=t?t.meta.ts:p.time.actual,S=l(n,A,I);c(!!I&&S);s(I<A&&-1!==r.indexOf(v,T)?null:{time:{value:I,actual:A}})}if(p.counts&&t){s({counts:r.filter(p.counts,(function(e){return!a.hasTimeoutEnded(t,n,e)}))})}}else i(n)||c(!1)})),p(e,n),e}}),(function(e,t){e.exports={QUERY_RESULT_TYPE:"segment.queryResult"}}),(function(e,t,n){function i(e,t){function n(t){var n=f(e,null,t);e.setPredicateResult(t.id,n)}var i,a,l=u(t.predicates);if(l.length)for(;!i||i.length;)a=d.filter(l,r(c("id",s(e)))),i=o(a,e),d.each(i,n)}function r(e){return function(){return!e.apply(null,arguments)}}function o(e,t){return d.filter(e,a(t))}function a(e){return function(t){return p.every(t.children,s(e))}}function s(e){return function(t){return void 0!==e.getPredicateResult(t)}}function c(e,t){return function(n){return t(n[e])}}function u(e){return p.chain(e).values().filter(l).value()}function l(e){return!p.isEmpty(e.children)}var d=n(0),p=n(22),f=n(118);e.exports=i}),(function(e,t,n){var i=n(48),r=n(73).isUserEvent;e.exports=function(){return function(){return function(e,t,n){return t&&r(t)&&e.setUserId(i(t,"user.id")),n(e,t)}}}}),(function(e,t,n){var i=n(0),r=n(15),o=n(25),a=n(361),s=n(30),c=n(362),u=n(115),l=n(16),d=n(122),p=n(116),f=s("createAsyncVisitorEngine"),m="ON_ERROR",v="__order",g="ON_STARTED";e.exports=function(e){function t(t,n){try{if(f.debug("Async visitor engine started in "+A()+"ms",{initialState:t,index:n}),P.index=n,I=O(i.assign({},e,{index:n,initialState:t,middleware:N.sort(T)})),S.length){var r=u();i.each(S.sort(T),(function(e){s(e.event)})),f.debug("Event buffer processed in "+r()+"ms",{eventBuffer:S})}else f.debug("No buffered events");R.resolve(I),E=!0,C.emit(g,I)}catch(e){y({error:e})}}function n(e,t){if(!e)return void f.warn("Null event passed to visitor engine");if(I)s(e);else{f.debug("Buffering event until engine has started",e);var n={event:e};c(t)?n[v]=S.length+1:n[v]=t,S.push(n)}}function s(e){try{I.processEvent(e)}catch(t){y({error:t,event:e})}}function h(e,t){r(a(e),"`middleware` must be a function"),r(!E,"`Cannot add middleware after the engine has started"),c(t)?e[v]=N.length+1:e[v]=t,N.push(e)}function b(){return E}function y(e){C.emit(m,e)}function w(){return r(b(),"Cannot get state until engine has started"),I.getState()}function x(){return r(b(),"Cannot get state until engine has started"),I.getMemberships()}function _(e){return function(){var t=arguments;return R.promise.then((function(n){return n[e].apply(n,t)}))}}function k(e,t){return e[v]=t+1,e}function T(e,t){return e[v]-t[v]}e=e||{};var I,A=u(),S=[],E=!1,C=l(),R=o(),j=d(C,m),M=d(C,g),N=i.map(e.middleware||[],k),O=e.createVisitorEngine||p,P={use:h,start:t,onError:j,onStarted:M,hasStarted:b,processEvent:n,getStateSync:w,getMembershipsSync:x,getState:_("getState"),getMemberships:_("getMemberships")};return P}}),(function(e,t){e.exports=function(e){return"function"==typeof e}}),(function(e,t){e.exports=function(e){return void 0===e}}),(function(e,t){function n(e){return JSON.stringify(e,null,2)}e.exports=function(){return function(){return function(e,t,i){return console.log("Before\n======\n"+n(e),"\n\n"),e=i(e,t),console.log("After\n=====\n"+n(e),"\n\n"),e}}}}),(function(e,t,n){function i(e){return function(){return function(t,n,i){t=i(t,n);var o=t.toJSON();if(e.emit(u,{state:o}),o.hasChanged){var a=o.changeset.predicateState;p.debug("State has changed",{state:o,changeset:a,criteria:o.history.criteria}),e.emit(c,{state:o,changeset:a})}if(o.hasMembershipsChanged){var s=o.memberships,f=o.changeset.memberships;p.debug("Memberships have changed",{changeset:f}),e.emit(d,r.assign({state:o,segments:s,changeset:f},f))}if(o.hasTimeoutsChanged){var m=o.changeset.timeouts;p.debug("Timeouts have changed",m),e.emit(l,{state:o,changeset:m})}return t}}}var r=n(0),o=n(30),a=n(16),s=n(122),c="STATE_CHANGED",u="EVENT_PROCESSED",l="TIMEOUTS_CHANGED",d="MEMBERSHIPS_CHANGED",p=o("createStateObservable");e.exports=function(){var e=a(),t=i(e);return t.onStateChanged=s(e,c),t.onEventProcessed=s(e,u),t.onTimeoutsChanged=s(e,l),t.onMembershipsChanged=s(e,d),t}}),(function(e,t,n){var i=n(6),r=n(13),o=n(366),a=n(123),s=n(10),c=n(16),u=n(36).session,l=n(367),d=n(124);e.exports=function(e,t,n,p){function f(e,t){b.on(e,t)}function m(){i.clearAll(r.DEBUGGER_COOKIE_KEY),y.dispose(),a().hash="",u.removeItem(r.SEGMENT_PREVIEW_STORAGE_KEY),b.emit("DISPOSED")}function v(e){return x.push(e),b.emit("EVENT",e),e}function g(e){b.emit("STATE_CHANGED",e)}s("object"==typeof e,"`config` required"),s(n>0,"`propertyId` required"),s(p,"`biscotti` required");var h=(function(){var e=document.createElement("iframe");return e.style.display="none",d((function(){document.body.appendChild(e),setTimeout((function(){var t=e.contentWindow.document.createElement("script");t.src=w+"/static/javascripts/segments-preview.js",e.contentWindow.document.body.appendChild(t)}),1)})),e})(),b=c(),y=l(),w=(function(e){return window.atob(function(e){switch(e){case"development":return"aHR0cDovL2xvY2FsaG9zdDo5MTAw";case"staging":case"production":return"aHR0cHM6Ly9kZXZ0b29scy1kZWJ1Z2dlci5xdWJpdC5jb20=";default:s(!1,"Invalid env: '"+e+"'")}}((e||"").toLowerCase()))})(e.env),x=[],_={propertyId:n,on:f,iframe:h,engine:t,dispose:m,biscotti:p,config:e,receiveState:g,receiveEvent:v,overrides:y,origin:w,events:x};return o("__qubitDebugger",_),_}}),(function(e,t){e.exports=function(e,t){"undefined"!=typeof window?window[e]=t:"undefined"!=typeof global&&(global[e]=t)}}),(function(e,t,n){var i=n(0),r=n(6),o=n(13),a=n(10),s=o.SEGMENT_PREVIEW_OVERRIDES_KEY;e.exports=function(){function e(e){var t=e.split("/");return t.length>1?{type:t[0],path:t[1]}:{path:t[0]}}function t(t){return i.objectReduce(f,(function(t,n,i){var r=e(i),o=t&&t.meta&&t.meta.type;if(o&&r.type&&o!==r.type)return t;for(var a=r.path.split("."),s=t,c=0;c<a.length-1;c++){var u=a[c];s[u]=s[u]||{},s=s[u]}return s[a[a.length-1]]=n,t}),t)}function n(e,t){a(e,"`key` required"),f[e]=t,l()}function o(e){a(e,"`key` required"),delete f[e],l()}function c(){return f}function u(){r.clearAll(s)}function l(){var e=i.objectMap.asArray(f,(function(e,t){return t+"="+d(e)})),t=e.join(",");r.set(s,t)}function d(e){return"number"==typeof e?"n"+e:"s"+encodeURIComponent(e)}function p(e){var t=e.slice(0,1),n=e.slice(1);return"n"===t?Number(n):decodeURIComponent(n)}var f=(function(){var e=r.get(s),t=e&&e[0],n=t&&t.value;return n?i.objectReduce(n.split(","),(function(e,t){var n=t.split("="),i=n[0],r=n[1];return e[i]=p(r),e}),{}):{}})();return{transformEvent:t,add:n,remove:o,getAll:c,dispose:u}}}),(function(e,t){function n(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||i}function i(e){window.setTimeout(e,0)}e.exports=function(e){return n()(e)}}),(function(e,t,n){function i(e){return-1!==o(r(),e%a)}function r(){return[1,2,3,5,8,13,21,34,55]}var o=n(0).indexOf,a=60;e.exports=i,e.exports.getValidFrames=r}),(function(e,t,n){function i(){return(r.get(window,"navigator.userAgent")||"").indexOf("Trident/7.0")>-1}var r=n(0);e.exports=function(e){function t(){s&&(c=!1)}function n(){o(),c=!0}function r(){l||c||(u.observe(document.documentElement,{childList:!0,subtree:!0}),l=!0)}function o(){l&&!c&&(u.disconnect(),l=!1)}var a=window.MutationObserver||window.WebKitMutationObserver,s=Boolean(a&&!i()),c=!s,u=s&&new a(e),l=!1;return{enable:t,disable:n,start:r,stop:o}}}),(function(e,t,n){var i=n(0).get;e.exports=function(e,t){if("function"==typeof e)return e()||void 0;if("string"==typeof e&&0===e.indexOf("window."))return i(window,e);if(t){var n=document.querySelectorAll(e);return n.length?n:void 0}return document.querySelector(e)||void 0}}),(function(e,t,n){function i(e){return Array.isArray(e)?!!o.find(e,r):r(e)}function r(e){var t=typeof e;return"string"!==t&&"function"!==t}var o=n(0);e.exports=function(e,t){if(i(e))throw new Error("Poller: Expected first argument to be a selector string or array containing selectors, window variables or functions.");if(void 0!==t){if("function"==typeof t||!o.isObject(t))throw new Error("Poller: Expected second argument to be an options object. Poller has a new API, see https://docs.qubit.com/content/developers/experiences-poller")}}}),(function(e,t,n){var i=n(11);e.exports=function(e,t){var n=Array.isArray(e);return{targets:n?e:[e],evaluated:[],isSingleton:!n,resolve:t.resolve,reject:t.reject,logger:t.logger||i("poller"),timeout:t.timeout,stopOnError:t.stopOnError,queryAll:t.queryAll}}}),(function(e,t,n){function i(e){return function(){var t=arguments;setTimeout((function(){e.apply(e,t)}),0)}}var r=n(0);e.exports=function(e,t,n,o){function a(){var t=e.getMembershipsSync();return o.memberships(t)}function s(){return e.getMemberships().then((function(e){return o.memberships(e)}))}function c(e){var n=t.isMemberOf(e);return o.membership(e,n)}function u(e){return t.isMemberOfAsync(e).then((function(t){return o.membership(e,t)}))}function l(e){return n.onMembershipsChanged(i((function(t){var n=o.changeset(t.changeset);e(r.assign({},t,{changeset:n,segments:o.memberships(t.segments)},n))})))}return{getMemberships:a,getMembershipsAsync:s,isMemberOf:c,isMemberOfAsync:u,onMembershipsChanged:l}}}),(function(e,t,n){var i=n(125);e.exports=function(e,t,n){var r=i(),o=r.emit,a=[];return r.emit=function(){a.push(arguments)},r.start=function(){r.emit=o;for(var e=0;e<a.length;e++)o.apply(null,a[e]);a=[]},e&&e.then((function(e){e&&e.registerSegmentEmitter(r)})),r.emit("segmentMembershipOverrides",n.get()),t["public"].getMembershipsAsync().then((function(e){r.emit("segmentMembershipsChanged",{joined:e,left:[]}),t["public"].onMembershipsChanged((function(e){r.emit("segmentMembershipsChanged",e.changeset)}))})),r}}),(function(e,t,n){function i(e){var t=/((\w+)(?::))?([^&]*)/.exec(e);return{id:t[3],env:t[2]}}function r(e){return e.preview=!!e.id,e.env||(e.env=l),e}var o=n(14),a=n(13),s=n(377),c=n(123),u=n(36).session,l="production",d=a.SEGMENT_PREVIEW_STORAGE_KEY,p=a.DEBUGGER_STORAGE_KEY,f=a.SEGMENT_PREVIEW_URL_KEY,m=a.DEBUGGER_URL_KEY,v=new RegExp(f+"=(.*)"),g=new RegExp(m+"=?(development|staging|production)?"),h=new RegExp("^"+m),b=o("getDebuggerConfig");e.exports=function(){function e(){n.name=m+JSON.stringify(l)}function t(){u.removeItem(d)}var n=s(),o=n.name,a=h.test(o),l=(function(){try{var e=c(),n=v.exec((e.hash||"").toLowerCase()),s=g.exec((e.search||"").toLowerCase());if(n)return t(),r(i(n[1]));if(s)return t(),r({env:s[1]});var l=u.getItem(p);if(l)try{return JSON.parse(l)}catch(e){return void u.removeItem(p)}if(a)try{return JSON.parse(o.replace(m,""))}catch(e){return}}catch(e){b.error("Failed to get debugger config",e)}})();if(l)return u.setItem(p,JSON.stringify(l)),n.addEventListener?n.addEventListener("unload",e):n.attachEvent&&n.attachEvent("onunload",e),l;a&&(n.name="")}}),(function(e,t){e.exports=function(){try{return window}catch(e){return{}}}}),(function(e,t,n){function i(e){switch(e.toLowerCase()){case"development":return l.QUERIES_DEVELOPMENT_URL;case"staging":return l.QUERIES_STAGING_URL;default:return l.QUERIES_URL}}function r(){return"undefined"!=typeof navigator&&/Safari\/53|AppleWebKit\/53/.test(navigator.userAgent)&&-1===navigator.userAgent.indexOf("Chrome")}function o(){return"undefined"!=typeof navigator&&/MSIE [8,9,10]/.test(navigator.userAgent)}var a=n(0),s=n(8),c=n(44),u=n(12),l=n(13),d=n(10),p=n(14),f=n(113).deflate,m=n(74),v=p("createQueryExecutor"),g=l.MAX_QUERIES,h=l.QUERIES_QUEUE_LABEL,b=l.STATS_QUERY_REQUESTS,y=l.STATS_QUERY_REQUESTS_FAILED,w=l.SYNC_BACKOFF_TIME,x=l.SYNC_POLL_INTERVAL;e.exports=function(e){function t(e){return!(e instanceof Array)||e.length<=g?e:(k.error("Max query limit reached",{tags:{type:"query",trackingId:A},extra:{visitorId:I}}),e.slice(-g))}function n(e,t){if(a.isArray(e)&&e.length){v.debug("Executing queries",{queries:e});var n=s.stringify(e);R||(n=f(n,{level:1}),v.debug("Deflated queries",{deflatedQueries:n})),u.post(j,n,p(t))}}function p(e){function t(t){v.error("Failed to execute queries",t),C.inc(),e(new Error(t))}return function(n,i){if(n)return v.warn("Request failed",{message:n.message}),C.inc(),e(n);try{var r=s.parse(i);if(r&&r.status){var o=r.status.code;return 200===o?(E.inc(),a.each(r.results,(function(e){T.processEvent({results:e,meta:{ts:(new Date).getTime(),type:l.QUERY_RESULT_TYPE}})})),e()):t("Invalid response from server: "+o)}return t("No response from server")}catch(e){return t("Malformed response from server")}}}var _=d(e.env,"`env` is required"),k=d(e.poe,"`poe` is required"),T=d(e.engine,"`engine` is required"),I=d(e.visitorId,"`visitorId` is required"),A=d(e.trackingId,"`trackingId` is required"),S=d(e.statistic,"`statistic` is required"),E=m(b,S),C=m(y,S),R=o()||r(),j=i(_)+"/"+A+"/";R?(v.debug("Browser does not support deflate. Sending queries raw"),j+="raw"):j+="deflate";var M=c({trim:t,process:n,label:h,backoffTime:w,queuePollInterval:x});return v.debug("Created query executor",{url:j}),function(e){e&&(v.debug("Enqueuing query.",{queryInput:e}),M(e))}}}),(function(e,t){e.exports=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments)),t}}}),(function(e,t,n){function i(e){function t(e,t){if(!e||!e.length)return t();var i=e[0];try{l(i,"url required"),f.debug("Syncing timeout",{url:i,route:E,visitorId:I,propertyId:A,trackingId:S}),C.inc(),s.post(i,j,n(t))}catch(e){f.error("Failed to sync timeouts",{message:e&&e.message,stack:e&&e.stack}),t(),k.error(e,{tags:{type:"timeout",trackingId:S},extra:{visitorId:I}})}}function n(e){function t(t){f.error("Failed to sync timeout",t),R.inc(),e()}return function(n,i){if(n)return f.warn("Timeout request failed",{message:n.message}),R.inc(),e();try{var r=o.parse(i);if(r&&r.status){var a=r.status.code;return 200===a?e():t("Invalid response from server: "+a)}return t("No response from the server")}catch(n){return t("Malformed response from the server")}}}function i(e){return r.unique(e)}function d(e){switch(e.changeType){case"added":return[x("set",e.value)];case"updated":return[x("del",e.previousValue),x("set",e.value)];default:l(!1,"Unsupported timeout change type: "+e.changeType)}}function x(e,t){var n=u(t);return[N,e,m+S,"public","timeouts-"+I,n].join("/")}var _=l(e.env,"`env` is required"),k=l(e.poe,"`poe` is required"),T=l(e.statistic,"`statistic` is required"),I=l(e.visitorId,"`visitorId` is required"),A=l(e.propertyId,"`propertyId` is required"),S=l(e.trackingId,"`trackingId` is required"),E=l(w[_],"Unsupported environment: "+_),C=p(b,T),R=p(y,T),j=o.stringify({route:E,data:o.stringify({visitorId:I,propertyId:A,trackingId:S})}),M="production"===_?c.STASH_URL:c.STASH_STAGING_URL,N=M+"/stash/v1.1/deferkv",O=a({batchSize:1,trim:i,queueGroupTime:1,label:h,process:t,backoffTime:v,queuePollInterval:g});return f.debug("Created timeout syncer"),function(e){try{r.each(e,(function(e){var t=d(e);f.debug("Enqueuing timeout",{timeout:e,urls:t}),r.each(t,O)}))}catch(e){f.warn("Unable to enqueue timeout",{message:e&&e.message})}}}var r=n(0),o=n(8),a=n(44),s=n(12),c=n(13),u=n(381),l=n(10),d=n(14),p=n(74),f=d("createTimeoutSyncer"),m=c.STASH_NAMESPACE,v=c.SYNC_BACKOFF_TIME,g=c.SYNC_POLL_INTERVAL,h=c.TIMEOUTS_QUEUE_LABEL,b=c.STATS_DEFERRED_REQUESTS,y=c.STATS_DEFERRED_REQUESTS_FAILED,w={development:"segment-timeouts-development",test:"segment-timeouts-test",staging:"segment-timeouts-staging",production:"segment-timeouts-production"};e.exports=i}),(function(e,t,n){var i=n(10);e.exports=function(e){return i(e>0,"`ts` must be a "),(e/1e3).toFixed(0)}}),(function(e,t,n){e.exports=n(383)}),(function(e,t,n){var i=n(0),r=n(384),o=n(385),a=n(75),s=n(126);e.exports=function(e,t){function n(e){try{var t=e.meta.type;a.VIEW_EVENT.test(t)||a.USER_EVENT.test(t)?c(e):a.LOGIN_EVENT.test(t)?u(e):t===a.SESSION_EVENT&&l()}catch(e){p(e,"Unable to handle event",["handle-event"])}}function c(e){g=i.get(e,"user.id")||null,v&&l()}function u(e){g=i.get(e,"user.id")||null,l()}function l(){if(v=!0,!g)return void s.debug("Received trigger event but userId is not set");v=!1,s.debug("Received trigger event, getting datasets from stash"),h.then((function(t){t.length&&o(e,t,g,(function(e,t){if(e)return void s.error("Unable to fetch datasets from stash",e);if(!(t instanceof Array&&0!==i.keys(t).length))return void s.debug("No values for user in any of the datasets");s.debug("Received datasets from stash",t);try{i.objectEach(t,d)}catch(e){p(e,"Unable to emit datasets",["emit-datasets"])}}))}))}function d(e){s.debug("Emitting dataset event",e),f.emit(a.DATASET_EVENT,e)}function p(t,n,i){if(n){var r=new Error(n+": "+t.message);r.stack=t.stack,t=r}s.error(t);var o={extra:t.extra};i&&(i.unshift("data-import-events"),o.fingerprint=i),e.poe.error(t,o)}e=e||{};var f=e.uv,m=e.getIndex,v=!1,g=null,h=m().then((function(e){var t=r(e);return s.debug("Parsed dataset ids from index",{datasetIds:t}),t}));return{dispatch:n}}}),(function(e,t,n){function i(e,t){var n=t.key,i=t.value;if(n&&n.field){var a=n.event===o.DATASET_EVENT,s=n.field.path===o.DATASET_ID_PATH;a&&s&&-1===r.indexOf(e,i)&&r.each(i,(function(t){-1===r.indexOf(e,t)&&e.push(t)}))}return e}var r=n(0),o=n(75);e.exports=function(e){return r.objectReduce(e.predicates,i,[])}}),(function(e,t,n){function i(e,t,n,i){function u(e,t){if(e)return e.message+=" - ("+(o()-h)+"ms) - ("+n+")",i(e);try{var r=s.parse(t)||{};i(null,p(r.data||{}))}catch(e){i(e)}}function d(e){return e+":"+n}function p(e){var t=c.keys(e);return c.map(t,(function(t){return{datasetId:t.split(":")[0],value:e[t]}}))}var f=e.stashType||"protected",v=r(e.stash,e.trackingId,f),g={keys:c.map(t,d)},h=o();l.debug("Making POST request to stash",{url:v,data:g});try{a.post(v,s.stringify(g),m,u)}catch(e){return i(e)}}function r(e,t,n){return e+"/stash/v1.1/kv/getbatch/"+t+"/"+n}function o(){return(new Date).getTime()}var a=n(12),s=n(8),c=n(0),u=n(386),l=n(126)("getDatasets"),d=n(75),p=d.STASH_BATCH_SIZE,f=d.STASH_TIMEOUT,m={timeout:f};e.exports=function(e,t,n,r){u(!!e.trackingId,"trackingId required"),u(!!e.stash,"stash required"),u(!!n,"visitorId required");for(var o=0;o<t.length;o+=p){i(e,t.slice(o,o+p),n,r)}}}),(function(e,t){e.exports=function(e,t){if(!e)throw new Error(t||"invariant failed");return e}}),(function(e,t,n){var i=n(0),r=n(13),o=n(44),a=n(10),s=n(14),c=n(46).compression.currentVersion,u=r.SYNC_BACKOFF_TIME,l=r.SYNC_POLL_INTERVAL,d=r.SEGMENTS_QUEUE_LABEL,p=["id","memberships","history"],f=s("createSegmentsSyncer");e.exports=function(e){function t(e){return e instanceof Array&&e.length>0?e.slice(-1):e}function n(e,t){var n;if(!e||0===e.length)return t();try{n=e[e.length-1]}catch(e){f.warn("Unable to get last mutation from list of states",{message:e&&e.message}),t()}n||t();try{var i=JSON.stringify({data:JSON.stringify({version:c,state:s(n),segments:n.memberships})});f.debug("Syncing segments",{visitorId:m,trackingId:v,payload:i,payloadSize:i.length}),g.set(i).then((function(){t()}))["catch"](t)}catch(e){f.error("Failed to make sync states request",{name:"segments syncer",message:e&&e.message,stack:e&&e.stack}),t(),r.error(e,{tags:{type:"segment-state",trackingId:v},extra:{visitorId:m}})}}var r=a(e.poe,"`poe` is required"),s=a(e.compress,"`compress` is required"),m=a(e.visitorId,"`visitorId` is required"),v=a(e.trackingId,"`trackingId` is required"),g=a(e.remoteStorage,"`remoteStorage` is required"),h=o({trim:t,process:n,label:d,backoffTime:u,queuePollInterval:l});return f.debug("Created segments syncer",{visitorId:m,trackingId:v}),function(e){try{h(i.pick(e,p))}catch(e){f.warn("Unable to enqeue segments",{message:e&&e.message})}}}}),(function(e,t,n){var i=n(31),r=n(13),o=n(14),a=o("createStatisticPinger");e.exports=function(e,t){return function(n,o){if(!(i.statisticEventSample(e)>0)){var s="segments."+n;a.info("Emitting statistic: "+s+" = "+o),t(r.STATS_EVENT_NAME,{name:s,value:o})}}}}),(function(e,t,n){var i=n(10),r=n(46).compression;e.exports=function(){var e={};return function(t){i(t&&t.id,"`state` is required");var n=e[t.id];return n||(n=r.compress(t.history),e[t.id]=n),n}}}),(function(e,t,n){function i(e){return!!r.find(c,(function(t){return t instanceof RegExp?t.test(e):e===t}))}var r=n(0),o=n(10),a=n(25),s=n(391),c=["qubit.session",/^([^.]+\.)?[a-z]{2}View$/];e.exports=function(e){function t(){r.each(w,(function(e){e.deferred.resolve(m(e.segmentId))})),w=null}function n(e,t){b[e]=!0;var n=r.keys(g[e]||{});r.each(n,(function(n){var i=h[n];if(delete g[e][n],delete i[e],0===r.keys(i).length){for(var o=m(n,t);y[n].length;)y[n].pop().resolve(o);delete y[n]}}))}function c(e){o(e,"`segmentId` required");var t=a();return p()?u(t,e):v.getIndex().then((function(n){var o=s(n,e)||[],a=r.filter(o,i),c=r.filter(a,l);0===c.length?u(t,e):d(t,e,c)})),t.promise}function u(e,t){f.hasStarted()?e.resolve(m(t)):w.push({segmentId:t,deferred:e})}function l(e){return!b[e]}function d(e,t,n){y[t]=y[t]||[],y[t].push(e),r.each(n,(function(e){var n=g[e];n||(n=g[e]={}),n[t]=!0})),h[t]=r.reduce(n,(function(e,t){return e[t]=!0,e}),{})}var p=e.inSync,f=e.engine,m=e.isMemberOf,v=e.indexManager;o(f,"`engine` required"),o("function"==typeof p,"`inSync` function required"),o("function"==typeof m,"`isMemberOf` function required"),o(v,"`indexManager` required"),f.hasStarted()||f.onStarted(t);var g={},h={},b={},y={},w=[];return{isMemberOf:m,isMemberOfAsync:c,receivedEventType:n}}}),(function(e,t,n){var i=n(0),r=n(10);e.exports=function(e,t){function n(e){var t=a[e],r=t&&t.key&&t.key.event,o=t&&t.children;r&&(s[r]=!0),o&&i.each(o,n)}r(e,"`index` required"),r(t,"`segmentId` required");var o=e.profiles.predicateRoots,a=e.predicates,s={};return n(o[t]),i.keys(s)}}),(function(e,t,n){var i=n(14),r=i("Debug observer");e.exports=function(e){return function(t){return function(t,n,i){return n&&e.config.preview&&(n=e.overrides.transformEvent(n)),t=i(t,n),n&&n.meta&&(r.debug("Dispatching event & state to debugger"),e.receiveEvent(n)),e.receiveState(t.toJSON()),t}}}}),(function(e,t){e.exports=function(e){return function(){return function(t,n,i){return t=i(t,n),n&&n.meta&&e.dispatch(n),t}}}}),(function(e,t,n){var i=n(13),r=n(69),o=n(74),a=i.STATS_TOTAL_EXECUTION_NAME;e.exports=function(e){return function(){var t=o(a,e);return function(e,n,i){var o=r();return e=i(e,n),t.recordValue(o()),e}}}}),(function(e,t){e.exports=function(e){return function(){return function(t,n,i){return t=i(t,n),n&&n.meta&&e.receivedEventType(n.meta.type,t.toJSON()),t}}}}),(function(e,t,n){var i=n(0),r=n(10),o=n(14),a=o("Membership change event emitter");e.exports=function(e){function t(t,n){i.each(t[n],(function(t){var i={segmentId:t,changeType:n,retrospective:!1};a.info(n+" "+t+". Emitting qubit.segmentMembershipChanged event"),e("qubit.segmentMembershipChanged",i)}))}return r("function"==typeof e,"`ping` required"),function(){return function(e,n,i){e=i(e,n);var r=e.toJSON();if(r.hasMembershipsChanged){var o=r.changeset.memberships;t(o,"joined"),t(o,"left")}return e}}}}),(function(e,t,n){var i=n(0),r=n(10),o=n(14),a=o("leaveDebugger");e.exports=function(e,t,n){function o(r,o,s){if(t["DEBUG_SEGMENT_LEAVES_"+r]){var c={segmentId:r,initialState:n,event:{ts:i.get(s,"meta.ts"),type:i.get(s,"meta.type"),result:i.get(s,"results")},changeset:o.getChangeset()};a.info("Debugging segment leave event",c),e("qubit.debug",{type:"ssgVisitorEngine.debugLeaveEvent",value:JSON.stringify(c)})}}return r("function"==typeof e,"`ping` required"),function(){return function(e,t,n){e=n(e,t);var r=e.toJSON();return r.hasMembershipsChanged&&i.each(r.changeset.memberships.left,(function(n){o(n,e,t)})),e}}}}),(function(e,t,n){function i(){var e=o.val(a)||"",t=r.filter(e.split(","),Boolean),n={};return r.each(t,(function(e){e=e.split(":");var t=e[0],i=Boolean(parseInt(e[1],10));n[t]=i})),n}var r=n(0),o=n(6),a=n(13).MEMBERSHIP_OVERRIDES_KEY;e.exports=function(){var e=i();return{membership:function(t,n){return e.hasOwnProperty(t)?e[t]:n},memberships:function(t){var n=[];return r.objectEach(e,(function(e,t){e&&n.push(t)})),r.each(t,(function(t){e.hasOwnProperty(t)||n.push(t)})),n},changeset:function(t){var n={joined:[],left:[]};return r.each(t.joined,(function(t){e.hasOwnProperty(t)||n.joined.push(t)})),r.each(t.left,(function(t){e.hasOwnProperty(t)||n.left.push(t)})),n},get:function(){return e}}}}),(function(e,t,n){function i(e){switch(e=e||"",e.toLowerCase()){case"development":return a.INDEXES_DEVELOPMENT_URL;case"staging":return a.INDEXES_STAGING_URL;default:return a.INDEXES_URL}}var r=n(0),o=n(17),a=n(13),s=n(124),c=n(10),u=n(14),l=a.INDEX_STORAGE_KEY,d=u("indexManager");e.exports=function(e){function t(e){v=o.resolve(e)}function n(){if(v)return v;var e=f.getItem(m);if(e)try{var n=JSON.parse(e);return d.info("Retrieved index from session storage"),t(n),v}catch(e){d.error("Unable to parse index from session storage",e)}return d.info("Retrieving index from CDN"),v=a().then((function(e){return f.setItem(m,JSON.stringify(e)),e}))}function a(){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.defer=!0,e.src=i(p).replace("{propertyId}",u),new o(function(t){r.set(window,"__qubit.registerSegmentIndex",(function(e,n){t(n)})),s((function(){document.body.appendChild(e)}))})}var u=e.propertyId,p=e.env,f=e.storage;c(u>0,"`propertyId` required"),c(f,"`storage` required");var m=l+"-"+u,v=null;return e.bundledIndex&&t(e.bundledIndex),{getIndex:n,setIndex:t}}}),(function(e,t){e.exports=(function(){function e(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}if(window.uv_listener&&window.uv_listener.__started)return window.uv_listener;var t,n,i={},r="universal_variable";return i._isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i._targetChanged=function(e,t,n){var r,o,a;return null===n?"null"!==t:n===undefined?t!==n:(r=JSON.parse(t),o=i._getNested(r,e),a=i._getNested(n,e),!i._jsonIsEqual(o,a))},i._processCallbacks=function(){var e;if(i.early_callbacks&&i.early_callbacks.length>0){for(e=0;e<i.early_callbacks.length;e+=1)i.push(i.early_callbacks[e]);i.early_callbacks=null}},i._keyStringToArr=function(t){return t=e(t),""===t?[]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),t.split("."))},i._getNested=function(e,t){for(var n,r=i._keyStringToArr(t);r.length>0;){if(n=r.shift(),!e.hasOwnProperty(n))return;e=e[n]}return e},i._jsonIsEqual=function(e,t){return"string"!=typeof e&&(e=JSON.stringify(e,i._stripEvents)),"string"!=typeof t&&(t=JSON.stringify(t,i._stripEvents)),e===t},i._stripEvents=function(e,t){return"events"!==e?t:undefined},i._on=function(e,t){var n,r;n=e.split(":"),e=n[0],r=n[1],i.callbacks[e]=i.callbacks[e]||[],r?i.callbacks[e].push({keyString:r,func:t}):i.callbacks[e].push({func:t})},i._trigger=function(e,n){var r,o;if(i.callbacks[e])for(r=0;r<i.callbacks[e].length;r+=1)"function"==typeof i.callbacks[e][r].func&&(o=i.callbacks[e][r].keyString,o?"change"===e&&i._targetChanged(o,i.currentUV,t)&&i.callbacks[e][r].func(n):i.callbacks[e][r].func(n))},i._eventsPush=function(e){var n,r;if(t.events[t.events.length]=e,e.time=e.time||(new Date).getTime(),i.callbacks.event)for(n=0,r=i.callbacks.event.length,n;n<r;n+=1)i.callbacks.event[n].func(e);e.has_fired=!0},i._getUnfiredEvents=function(){var e=0;for(e=0;e<t.events.length;e+=1)t.events[e].has_fired||(i.unfired_events.push(t.events.splice(e,1)[0]),e-=1)},i._fireEvents=function(){for(;i.unfired_events.length>0;)t.events.push(i.unfired_events.shift())},i._resetEventsPush=function(){t.events=t.events||[],-1!==t.events.push.toString().indexOf("[native code]")&&(t.events.push=i._eventsPush,i._getUnfiredEvents(),i._fireEvents())},i._checkForChanges=function(){i.callbacks.change&&i.callbacks.change.length>0&&(i._jsonIsEqual(i.currentUV,t)||(i._trigger("change",t),i.currentUV=JSON.stringify(t,i._stripEvents)))},i._setUVLocation=function(e){r=e,i._initUV()},i._initUV=function(){window[r]=window[r]||{events:[]},t=window[r],t.events||(t.events=[])},i._poll=function(){i._initUV(),i._resetEventsPush(),i._checkForChanges()},i.push=function(e){i._isArray(e)&&("on"===e[0]?i._on(e[1],e[2]):"trigger"===e[0]&&e[1]&&i._trigger(e[1]))},i.init=function(e,t){i.__started||(i.__started=!0,i.callbacks={},i.unfired_events=[],i.early_callbacks=null,i.currentUV=null,t&&(r=t),i._initUV(),!window.uv_listener||i._isArray(window.uv_listener)?(i.early_callbacks=window.uv_listener||null,window.uv_listener=i,e||(clearInterval(n),i.start())):t&&window.uv_listener._setUVLocation(r))},i.start=function(){i.currentUV=JSON.stringify(t,i._stripEvents),n=setInterval(i._poll,500),i._poll(),i._processCallbacks()},i.init(),i})()}),(function(e,t,n){var i=n(402),r=n(404),o=n(419),a=n(459),s=n(460),c=n(461),u=n(462),l=n(463);e.exports=function(e,t,n,d){e.isPreview=e.isPreview||e.isPreviewMode;var p=u(t);e.segmentationBug&&c(t);var f=l(t),m=o(e,t,n,p,f);a(m,t)&&s(e.cookieDomain);var v=r(m);return i(v,m,t,d)}}),(function(e,t,n){function i(e,t){var n=!1;return function(){if(!n)return n=!0,e.apply(e,arguments);console.log(t)}}function r(e){window._qb_ss=[{deprecated:"This object is deprecated, refer to Qubit docs for more info.",domain:e.domain,trackingId:e.trackingId}]}var o=n(127);e.exports=function(e,t,n,a){return r(t),{cookie:o.api(t,n.biscotti,n.uv,!0),start:i(e.startEngine,"Calling `start` multiple times is no longer supported. Experience Engine will now restart on QP view events."),stop:a?e.stopEngine:function(){console.log("`experienceEngine.stop()` has been deprecated.")},getExperienceMeta:e.getExperienceMeta,getExperiencesMeta:e.getExperiencesMeta}}}),(function(e,t,n){function i(e,t){c[t]||(e.emit("qubit.debug",{type:"ExperienceEngine.OldCookieAccess",value:JSON.stringify({cookie:t})}),c[t]=!0)}function r(e){return o.reduce(o.values(e),(function(e,t){return o.each(t.variations,(function(n){e[n.variationMasterId]=t.experimentId})),e}),{})}var o=n(0),a=n(50),s={_qb_se:n(128),qb_ss_status:n(129),ss_opts:n(130)},c={};e.exports=function(e,t,n){if(!t)throw new Error("Biscotti was not passed to cookie backwards compatiblity layer");var c=r(e),u={_qb_se:function(){return i(n,"_qb_se"),o.objectReduce(a.getExperienceState(t,n),(function(e,t,n){var i=c[n]||{};return e[n]={e:i,t:+Date.now()},e}),{})},qb_ss_status:function(){return i(n,"qb_ss_status"),{b:o.objectMap(a.getExperienceState(t,n),(function(e,t){var n=c[t]||{};return[e.probability,n,n,0]}))}},ss_opts:function(){i(n,"ss_opts");var e=a.getSessionExperienceState(t,n);return o.objectMap(a.getExperienceState(t,n),(function(t,n){return{times_activated:t.timesActivated,times_activated_session:e[n].timesActivated}}))}};return{get:function(e){var t=u[e];if(!t)throw new Error('Cannot emulate reading old cookie, "'+e+'". Use one of: '+o.keys(u).join(", ")+".");return t()},variationHasFired:function(e){return!!a.getExperienceState(t,n)[e]},encoders:s}}}),(function(e,t,n){function i(e){return{id:e.experimentId,name:e.name,variations:o.reduce(o.filter(e.variations,(function(e){return!e.variationIsControl})),(function(e,t){return e[t.variationId]={id:t.variationId,masterId:t.variationMasterId,name:t.variationName},e}),{})}}function r(e){return o.reduce(o.values(e),(function(e,t){return o.each(t.variations,(function(n){e[n.variationMasterId]=t.experimentId})),e}),{})}var o=n(0),a=n(8),s=n(5),c=n(31),u=n(405),l=n(406),d=n(38),p=n(51).VIEW_REGEX,f=n(407),m=n(415),v=n(417),g=n(50),h={GOAL:"0",SUCCESS:"1",ERROR:"9"};e.exports=function(e){window._qtd=window._qtd||[];var t={defaultConfig:{domain:"",waitForView:!1,useQpViews:!1,conversions:[],biscotti:null,uv:null,gaNamespace:null},experimentHooks:{},started:!1,activationCycle:0,goalChecker:null,qfnConversionChecker:null,getExperimentFromVariationMasterId:function(e){return t.experimentIdsByVariationMasterId||(t.experimentIdsByVariationMasterId=r(t.opts.experiments||{})),t.opts.experiments[t.experimentIdsByVariationMasterId[e]]},startEngine:function(){t.cleanupDeletedExperiments(),t.firstViewSeen=t.opts.uv.events.some((function(e){return p.test(e.meta.type)})),t.start(),t.viewListener=t.opts.uv.on(p,(function(){if(t.firstViewSeen)return t.start();t.goalChecker.checkPageViewGoals(),t.firstViewSeen=!0}))},stopEngine:function(){t.viewListener&&t.viewListener.dispose()},start:function(){t.goalChecker||(t.goalChecker=f(t.opts)),t.qfnConversionChecker||(t.qfnConversionChecker=m(t.opts)),l(),t.activationCycle++;var e,n=t.previewOptions.experiences,i=t.previewOptions.exclude;e=n?o.reduce(n,(function(e,n){var i=t.getExperimentFromVariationMasterId(n);return i?e.push({experiment:i,variationMasterId:n}):d({experimentId:undefined},{variationMasterId:Number(n)},!0).error("No experience has been found with variationMasterId "+n),e}),[]):o.objectMap.asArray(t.opts.experiments,(function(e){return{experiment:e}})),i&&(e=o.filter(e,(function(e){return!o.find(i,(function(t){return e.experiment.experimentId===t}))}))),o.each(e,(function(e){var n=e.experiment,i=e.variationMasterId;t.started&&t.shouldRunAcrossViews(n)||(t.stopExperiment(n),t.fireExperiment(n,t.previewOptions,{forceVariation:i}))})),t.firstViewSeen&&t.goalChecker.checkPageViewGoals(),t.started=!0},shouldRunAcrossViews:function(e){var n=["experimentHooks",e.experimentId,"activation","runAcrossViews"].join("."),i=o.get(t,n)||[];return!!i.length&&Boolean(i[i.length-1])},cleanupDeletedExperiments:function(){var e=t.opts.biscotti,n=g.getExperienceState(e,t.opts.uv),i=g.getSessionExperienceState(e,t.opts.uv);o.objectEach(n,(function(e,r){t.getExperimentFromVariationMasterId(r)||(delete n[r],delete i[r])})),g.setExperienceState(n,e),g.setSessionExperienceState(i,e)},addHooks:function(e,n,i){var r=e.experimentId;o.objectEach(i||{},(function(e,i){var a=["experimentHooks",r,n,i].join(".");o.get(t,a)||o.set(t,a,[]),t.experimentHooks[r][n][i].push(e)}))},runHooks:function(e,n,i,r){function a(o){return new s(function(e){return"function"==typeof o?e(o()):e()})["catch"]((function(o){t.sendExperienceError(["hook",i,r].join(":"),e,n,o)}))}var c=["experimentHooks",e.experimentId,i,r].join("."),u=o.get(t,c)||[];return o.set(t.experimentHooks,c,[]),s.all(o.map(u,a))},activate:function(e,n,i,r,o,a){function s(n){return function(i){return!!i&&(t.isSameCycle(l)||t.shouldRunAcrossViews(e)?n.apply(n,arguments):void c.info("Changed pageview, stopping activation."))}}var c=d(e,n,i.experiences),l=t.activationCycle;return t.opts.explorer.emit("activationStarted",{experienceId:e.experimentId,masterId:n.variationMasterId}),e.state=u(),t.opts.scheduling(e,n,i).then(s((function(){return t.opts.activation(e,n,i,t.addHooks)}))).then(s((function(n){return t.addHooks(e,"activation",n),n.execute})),(function(i){if(i.userCodeError)return t.sendExperienceError("activation",e,n,i),!1;throw i})).then(s((function(s){return c.info("Running onActivation hook"),t.runHooks(e,n,"activation","onActivation"),c.info("Activating"),t.opts.explorer.emit("activationResolved",{experienceId:e.experimentId,masterId:n.variationMasterId,shouldActivate:s}),t.executeVariation(e,n,i,r,o,a)})))["catch"]((function(n){t.sendQPDebugErrorEvent("experience-engine",e.experimentId,n),c.error(n)}))},isSameCycle:function(e){return!e||t.activationCycle===e},executeVariation:function(e,n,i,r,o,a){return t.saveVariation(e,n,r,o,a),t.opts.explorer.emit("executing",{experienceId:e.experimentId,masterId:n.variationMasterId}),t.opts.execution(e,n,i,t.addHooks).then((function(i){t.addHooks(e,"execution",i),t.pingVariationState(n,r,o,h.SUCCESS)}))["catch"]((function(i){if(t.pingVariationState(n,r,o,h.ERROR),!i.userCodeError)throw i;t.sendExperienceError("execution",e,n,i)}))},generatePID:function(){return Math.round(1e3*Math.random())/1e3},generateProbability:function(e,n){var i=c.etcExperiment(t.opts.visitorId,e);return 1===i&&(i=0),Math.floor(i*n)},fireExperiment:function(e,n,i){var r=!(!i||!i.forceVariation);if(r||!e.pausedAt){var a,s,c,u=g.getExperienceState(t.opts.biscotti,t.opts.uv),l=null;if(r){var d=u[i.forceVariation];s=o.get(d,"pid")||t.generatePID(),c=!1,a=e.variationIndex[i.forceVariation]}else{var p=o.find(e.variations,(function(e){return u[e.variationMasterId]}));if(p&&(d=u[p.variationMasterId],l=d.probability),s=o.get(d,"pid")||t.generatePID(),"number"==typeof l)a=t.findVariationFromProbability(l,e.variations);else{var f=t.generateProbability(e.experimentId,e.factorial);a=t.findVariationFromFactorialProbability(f,e.variations)}p&&a&&Number(a.variationMasterId)!==Number(p.variationMasterId)&&(c=p.variationMasterId)}return t.activate(e,a,n,l,s,c)}},stopExperiment:function(e){var n=e.experimentId;t.runHooks(e,{},"activation","remove"),t.runHooks(e,{},"execution","remove"),t.experimentHooks[n]&&t.opts.explorer.emit("stopped",{experienceId:e.experimentId}),delete t.experimentHooks[n]},findVariationFromFactorialProbability:function(e,t){var n=0;return o.find(t,(function(t){return n+=t.factorialTrafficAllocationRatio,e<=n}))},findVariationFromProbability:function(e,t){var n,i=0;return o.each(t,(function(t){i+=t.trafficAllocationRatio,1===e?n=t:!n&&e<i&&(n=t)})),n},saveVariation:function(e,n,i,r,o){var a=g.getExperienceState(t.opts.biscotti,t.opts.uv),s=g.getSessionExperienceState(t.opts.biscotti,t.opts.uv);o&&(delete a[o],delete s[o]),a[n.variationMasterId]?a[n.variationMasterId].pid||(a[n.variationMasterId].pid=r):a[n.variationMasterId]={probability:i,timesActivated:0,iterationId:e.iterationId,pid:r},a[n.variationMasterId].iterationId=e.iterationId,s[n.variationMasterId]||(s[n.variationMasterId]={timesActivated:0}),g.setExperienceState(a,t.opts.biscotti),g.setSessionExperienceState(s,t.opts.biscotti)},pingVariationState:function(e,n,i,r){if(!t.opts.blockEvents){var o=t.getExperimentFromVariationMasterId(e.variationMasterId);"number"!=typeof n&&(n=t.generateProbability(o.experimentId,o.factorial),n/=o.factorial,n=Math.floor(1e3*n)/1e3);var a={experienceId:o.experimentId,variationId:e.variationId,variationMasterId:e.variationMasterId,isControl:e.variationIsControl,probability:n,pid:i},s={e:o.experimentId,tc:o.experimentId,ckg:0,c:e.variationId,cm:e.variationMasterId,p:n,s:r,cnt:e.variationIsControl?1:0};o&&o.iterationId&&(a.iterationId=o.iterationId,s.i=o.iterationId),null!==e.trafficAllocationRatio&&(a.trafficAllocation=e.trafficAllocationRatio,s.pc=e.trafficAllocationRatio),t.opts.uv.emit("qubit.experience",a),o.hasGaIntegration&&v(o,e,t.opts.gaNamespace),window.qb_etc_data=window.qb_etc_data||[],window.qb_etc_data.push(s)}},sendQPDebugErrorEvent:function(e,n,i){t.opts.uv.emit("qubit.debug",{type:"ExperienceEngine.Error",value:a.stringify({location:e,experienceId:n,message:(o.get(i,"message")||"").substring(0,256),stack:(o.get(i,"stack")||"").substring(0,512)})})},sendExperienceError:function(e,n,i,r){"EPOLLER:TIMEOUT"!==r.code&&t.opts.uv.emit("qubit.errorExperience",{type:e,experienceId:n.experimentId,iterationId:n.iterationId,variationId:i.variationId,variationMasterId:i.variationMasterId,message:(o.get(r,"message")||"").substring(0,256),stack:(o.get(r,"stack")||"").substring(0,2048)})},getExperienceMeta:function(e){var n=t.opts.experiments[e];return n?i(n):null},getExperiencesMeta:function(){return o.values(t.opts.experiments).map((function(e){return i(e)}))}};return t.opts=o.assign({},t.defaultConfig,e),t.previewOptions=e.previewOptions||{},t}}),(function(e,t){e.exports=function(){function e(e){return n[e]}function t(e,t){n[e]=t}var n={};return{get:e,set:t}}}),(function(e,t){e.exports=function(){window.__qubit=window.__qubit||{},window.__qubit.smartserve=window.__qubit.smartserve||{},window.__qubit.smartserve.exclusivityLock=!1}}),(function(e,t,n){var i=n(0),r=n(408),o=n(131),a=n(409),s=n(410),c=n(411),u=n(412),l=n(413),d=n(414);e.exports=function(e){if(e.experiments){var t={};i.objectEach(e.experiments||{},(function(e){i.each(e.goals||[],(function(n){t[n.key]=t[n.key]||[],t[n.key].push({experimentId:e.experimentId,goalId:n.id,condition:n})}))}));var n=o({uv:e.uv,biscotti:e.biscotti,experiments:e.experiments});a(e,t["metrics.conversions_per_visitor"],n),s(e,t["pageviews.customvalues.uv.events.action"],n),u(e,t["segment.joinleave.joined"],t["segment.joinleave.left"],n),l(e,t["pageviews.customvalues.qp.event"],n),d(e,t["pageviews.customvalues.qp.field"],n);var p=[{key:"pageviews.customvalues.uv.page.category",getValue:r.getType},{key:"pageviews.customvalues.uv.page.subcategory",getValue:r.getSubtypes},{key:"pageviews.url",getValue:function(){return window.location.href}}],f=i.map(p,(function(i){return c(e,t[i.key],i.getValue,n)}));return{checkPageViewGoals:function(){i.each(f,(function(e){e.check()}))}}}}}),(function(e,t,n){function i(e){if(e.events&&e.events.length)for(var t=e.events.length-1;t>=0;t--)if(o.test(e.events[t].meta.type))return e.events[t]}var r=n(0),o=n(51).VIEW_REGEX;e.exports.getType=function(e){if(e){var t=i(e);if(t&&t.type)return t.type}var n=r.get(window,"universal_variable.page");if(n)return n.type||n.category},e.exports.getSubtypes=function(e){if(e){var t=i(e);if(t&&t.subtypes)return t.subtypes}var n=r.get(window,"universal_variable.page");if(n){var o=n.breadcrumb,a=o instanceof Array?o:"string"==typeof o?[o]:[];return 0===a.length&&(n.category&&a.push(n.category),n.subcategory&&a.push(n.subcategory)),a}}}),(function(e,t,n){function i(e,t){if(t&&t.amount_path)return o.get(e,t.amount_path)}function r(e,t){return t&&t.dedupe_path?o.get(e,t.dedupe_path):"synthetic-"+(Date.now()+Math.random())}var o=n(0),a=n(34);e.exports=function(e,t,n){if(t&&t.length){var s=o.get(e,"conversions.0.events");s&&s.length&&o.each(s,(function(s){e.uv.on(new RegExp(".*\\.?"+s.event),(function(e){var c=!0;if(s.filter&&(c=o.every(s.filter,(function(t){return a(t,o.get(e,t.key))}))),!0===c){var u=i(e,s),l=r(e,s);o.each(t,(function(e){n("primaryConversion",e,u,l)}))}})).replay()}))}}}),(function(e,t,n){var i=n(0),r=n(34);e.exports=function(e,t,n){function o(e){i.each(t,(function(t){e&&e.action&&r(t.condition,e.action)&&n("other",t)}))}t&&t.length&&(window.universal_variable=window.universal_variable||{},window.universal_variable.events=window.universal_variable.events||[],i.each(window.universal_variable.events,o),window.uv_listener=window.uv_listener||[],window.uv_listener.push(["on","event",o]))}}),(function(e,t,n){var i=n(0),r=n(34);e.exports=function(e,t,n,o){function a(){var a=n(e.uv);i.each(t,(function(e){r(e.condition,a)&&o("other",e)}))}return t&&t.length?{check:a}:{check:function(){}}}}),(function(e,t,n){function i(e,t){return r.isArray(t)||(t=[t]),-1!==t.indexOf(e)}var r=n(0);e.exports=function(e,t,n,o){function a(t,n){n&&n.length&&e.uv.on("qubit.segmentMembershipChanged",(function(e){r.each(n,(function(n){i(e.segmentId,n.condition.value)&&e.changeType===t&&o("other",n)}))})).replay()}a("joined",t),a("left",n)}}),(function(e,t,n){var i=n(0);e.exports=function(e,t,n){t&&t.length&&e.jolt.onEnrichment(/.*/,(function(e){var r=e.meta.type;i.each(t,(function(e){var t=e.condition.value;i.some(t,(function(e){return e===r}))&&n("other",e)}))})).replay()}}),(function(e,t,n){var i=n(0),r=n(34);e.exports=function(e,t,n){t&&t.length&&e.jolt.onEnrichment(/.*/,(function(e){i.each(t,(function(t){var o=t.condition.value;if(new RegExp(o.eventType+"$").test(e.meta.type)){var a=i.get(e,o.fieldPath);/boolean|number|string/.test(typeof a)||(a=JSON.stringify(a)),r({op:t.condition.op,value:o.fieldValues},a)&&n("other",t)}}))})).replay()}}),(function(e,t,n){var i=n(0),r=n(12),o=n(416);o=o("qfn-conversion-checker"),e.exports=function(e){if(i.get(e,"flags.QFN")){var t=i.get(e,"conversions.0.events");t&&t.length&&i.each(t,(function(t){e.uv.on(new RegExp("(?:\\w+\\.)?"+t.event),(function(){var t=e.endpoints.qfn;return r.post(t+"/conversion",JSON.stringify({visitorId:e.visitorId}))["catch"]((function(e){throw o.error("HTTP Error signaling conversion to qfn-gateway: "+e.message),e}))})).replay()}))}}}),(function(e,t,n){var i=n(11);e.exports=i("experience-engine")}),(function(e,t,n){function i(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}function r(e,t,n){var i="send";n&&(i=n+"."+i),e(i,t)}function o(e,t){e.push(["_trackEvent",t.eventCategory,t.eventAction,t.eventLabel,t.eventValue,t.nonInteraction])}function a(){var e=window.dataLayer;return e&&-1!==d.keys(e).indexOf("push")}function s(){return window._gaq?{ga:window._gaq,legacy:!0}:window.GoogleAnalyticsObject&&window[window.GoogleAnalyticsObject]?{ga:window[window.GoogleAnalyticsObject]}:void 0}function c(e){var t=window.localStorage.getItem("Qubit Seen Variations")?window.localStorage.getItem("Qubit Seen Variations").split("|"):[];window.localStorage.setItem("Qubit Seen Variations",t.concat([e]).join("|"))}function u(e){return(window.localStorage.getItem("Qubit Seen Variations")||"").split("|").indexOf(String(e))>-1}function l(e,t,n){n=n||0;var i=e();i?t(i):setTimeout((function(){l(e,t,n+1)}),50*n)}var d=n(0),p=n(418);e.exports=function(e,t,n){p()&&!u(t.variationMasterId)&&(l(a,(function(){i({event:"qubit.experience",qubitExperimentId:String(e.experimentId),qubitVariationMasterId:String(t.variationMasterId)})})),l(s,(function(i){i=i||{};var a=i.ga,s={hitType:"event",eventCategory:"Qubit Experience",eventLabel:String(t.variationMasterId),eventAction:String(e.experimentId),eventValue:t.variationMasterId,nonInteraction:!0,hitCallback:function(){c(t.variationMasterId)}};i.legacy?(o(a,s),c(t.variationMasterId)):r(a,s,n)})))}}),(function(e,t){e.exports=function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}}),(function(e,t,n){var i=n(0),r=n(420),o=n(422),a=n(451),s=n(456),c=n(457),u=n(38),l=n(458);e.exports=function(e,t,n,d,p){function f(i,o,a){return r(i,o,a,e,t,n,d)}function m(i,r,a,s){return o(i,r,a,e,t,n,d,h,b,p,s)}function v(i,r,o,s){return a(i,r,o,e,t,n,d,h,b,p,s)}function g(e,t,n){return i.reduce(e,(function(e,i){return e[i[t]]=n?n(i):i,e}),{})}var h=(function(){return s(t.uv)})(),b=(function(t){var r=e.flags&&e.flags.SMARTSERVE_EXPERIENCE_NAMES;return g(t,"id",(function(t){var o={state:null,experimentId:t.id,iterationId:t.iteration_id,pausedAt:t.paused_at,goals:t.goals,solutionId:t.solution_id,templateData:t.template_data,solutionOptions:t.solution_options,hasGaIntegration:t.has_ga_integration,activationRules:i.assign(t.activation_rules||{},{segments:t.segments,schedule:t.schedule||{}}),modules:t.modules,qfns:t.qfns,variations:t.variations,factorial:t.factorial,react:c(n,t.id)};return e.flags&&e.flags.SMARTSERVE_EXPERIENCE_NAMES&&(o.name=t.name),o.variations||(o.variations=i.map(t.targeting_criteria[0].creatives||[],(function(e){var n={variationId:e.creative_id,variationMasterId:e.id,variationIsControl:e.is_control,trafficAllocationRatio:i.find(t.targeting_criteria[0].creative_rates,i.matches({id:e.id})).rate,isAdvancedMode:e.advanced_mode,options:{dependencies:e.params.dependencies,components:e.params.components,customStyles:e.params.custom_styles,executionCode:e.params.execution_code}};return r&&(n.variationName=e.name),n}))),i.each(o.variations,(function(t){t.logger=u(o,t,e.isPreview),r||delete t.variationName})),o.variationIndex=g(o.variations,"variationMasterId"),o}))})(e.experiments);return{jolt:t.jolt,domain:e.cookieDomain,trackingId:e.trackingId,conversions:e.conversions,experiments:b,scheduling:f,activation:m,execution:v,biscotti:t.biscotti,uv:h,visitorId:d.visitorId,gaNamespace:e.gaNamespace,explorer:p,endpoints:e.endpoints,flags:e.flags,previewOptions:l(e.previewOptions)}}}),(function(e,t,n){var i=n(20),r=n(38),o=n(421);e.exports=function(e,t,n,a,s,c,u){var l=r(e,t,a.isPreview),d=e.activationRules.schedule,p=null,f=null;return d.scheduled_start&&(p=new Date(d.scheduled_start)),d.scheduled_end&&!d.pause_actioned&&(f=new Date(d.scheduled_end)),p||f?a.isPreview?(l.info("Bypassing schedule"),i(!0)):i(o({start:p,end:f},l)):i(!0)}}),(function(e,t){function n(){return Date.now()}function i(e){return e?"PASSED":"FAILED"}e.exports=function(e,t){t.info("Scheduler: checking");var r=n(),o=!0;return e.start&&(o=o&&e.start<r,t.info("Scheduler: start "+e.start)),e.end&&(o=o&&r<e.end,t.info("Scheduler: end "+e.start)),(e.start||e.end)&&t.info("Scheduler: "+i(o)),o}}),(function(e,t,n){function i(e,t){return e.bypassActivation}function r(e,t){return e.bypassSegments}function o(){return document.location.href}var a=n(0),s=n(20),c=n(132),u=n(38),l=n(431);e.exports=function(e,t,n,d,p,f,m,v,g,h,b){var y=o(),w=u(e,t,d.isPreview),x=e.activationRules,_=c(p,e,t,d,m.visitorId,v,g,{isExecution:!1},h,b);return i(n,y)?(w.info("Bypassing triggers. Activating."),s({execute:!0})):(w.log("Checking triggers."),r(n,y)&&(w.log("Bypassing segments."),x=a.assign({},x),delete x.segments),l({experiment:e,variation:t,rules:x,activationApi:_,context:p,endpoints:d.endpoints,visitor:m,logger:w,dynamicModules:f,flags:d.flags}))}}),(function(e,t,n){var i=n(0),r=n(131);e.exports=function(e,t,n){var o=r(n);return function(n){if(!n)throw new Error("No name was provided for the custom goal");var r=i.find(e.goals,(function(e){if("pageviews.customvalues.uv.events.action"===e.key&&e.value)return i.some(i.isArray(e.value)?e.value:[],(function(e){return e===n}))}));if(!r)return void t.warn("You are not tracking the "+n+"custom event");var a={goalId:r.id,experimentId:e.experimentId};t.info("emitting custom goal: "+n),o("other",a)}}}),(function(e,t,n){var i=n(50);e.exports=function(e,t,n){return function(r,o,a){var s=i.getExperienceState(n.biscotti,n.uv),c=i.getVariationMasterIdSeen(e,s);if(!c)return null;var u=s[c],l=e.variationIndex[c];u.iterationId&&u.iterationId!==e.iterationId?n.uv.emit("qubit.debug",{type:"ExperienceEngine.MetricNotSent",value:JSON.stringify({type:r,experienceId:e.experimentId,iterationId:e.iterationId,variationId:l.variationId,variationMasterId:l.variationMasterId,productId:o,metadata:a,variationMasterIdSeen:c,iterationIdSeen:u.iterationId})}):(t.info("emitting metric: "+r),n.uv.emit("qubit.metric",{type:r,experienceId:e.experimentId,iterationId:e.iterationId,variationId:l.variationId,variationMasterId:l.variationMasterId,productId:o,metadata:a?"string"==typeof a?a:JSON.stringify(a):a}))}}}),(function(e,t,n){function i(e){window.location.href=e}var r=n(0);e.exports=function(e,t,n){return function(o){if(n&&n.isPreview)return i(o);e.onSuccess((function(e){r.each(e,(function(e){"qubit.experience"===e.meta.type&&e.experienceId===t.experimentId&&window.setTimeout((function(){i(o)}),0)}))})).replay()}}}),(function(e,t){e.exports=function(e,t,n){return{register:function(i){e.emit("registerContentAreas",{experienceId:t.experimentId,masterId:n.variationMasterId,selectors:i})},unregister:function(i){e.emit("unregisterContentAreas",{experienceId:t.experimentId,masterId:n.variationMasterId,selectors:i})}}}}),(function(e,t,n){var i=n(0),r=n(16);e.exports=function(e){function t(){var e=(new Date).getTime();return i.objectReduce(l.generic.get("keyValue"),(function(t,n,i){return(null===n.expires||n.expires>e)&&(t[i]=n),t}),{})}function n(e){return i.objectMap(t(),(function(e,t){return e.value}))}function o(e){return n()[e]}function a(e,n,i){void 0===i&&(i={});var r=t();r[e]={value:String(n),expires:s(i.expires)},d.emit("set",{key:e,cookie:r[e],allCookies:r}),l.generic.set("keyValue",r)}function s(e){return null===e?null:"number"==typeof e?e:"object"==typeof e&&"function"==typeof e.getTime?e.getTime():null}function c(e){var t=l.generic.get("keyValue");return delete t[e],l.generic.set("keyValue",t)}function u(){l.generic.set("keyValue",{})}var l=e.biscotti,d=r();return{onSet:d.on.bind(null,"set"),public:{get:o,getAll:n,set:a,clear:c,clearAll:u}}}}),(function(e,t,n){function i(e,t,n){var i=a.assign({},e,n,{data:t});return delete i.timeout,i}function r(e){return e&&e.timeout||u}function o(e){return e.window&&!e.window.timezoneOffset&&(e.window.timezoneOffset=l),e}var a=n(0),s=n(12),c=n(429),u=n(51).QFN_DEFAULT_REQUEST_TIMEOUT,l=(new Date).getTimezoneOffset();e.exports=function(e,t,n,u,l){var d=e.qfns||{},p={source:"experience",visitorId:u,experience:{experienceId:e.experimentId,iterationId:e.iterationId,variationId:t.variationId,variationMasterId:t.variationMasterId,isPreview:n.isPreview}},f=n.endpoints.qfn;return function(e,n){function u(e,t){var o=a.pick(n,["key","data"]),s=i(o,e,t),c=r(t);return g("execute","/"+b,s,c)}function m(e,t){var s=a.pick(n,["key","data","window","cancelOnConversion","time","delay"]),c=i(s,e,t),u=r(t);return c=o(c),c.key||h.info("Scheduling without a `key` field can result in duplicate invocations and is not normally recommended. See https://go.qubit.com/integration-keys for more information."),g("schedule","/defer/"+b,c,u)}function v(e){return g("cancel","/cancel/"+b,a.assign({},{key:n.key},e))}function g(t,n,i,r){var o=c(l,e,b,p);h.info("Performing "+t+" action");var u=a.assign({},i,{meta:p});return o.requestStart(t,u),s.post(f+n,JSON.stringify(u),{timeout:r})["catch"]((function(e){throw e.type="HTTP",h.error("HTTP Error: "+e.message),o.requestFailed(e),e})).then((function(e){try{var n=JSON.parse(e)}catch(e){throw e.type="MALFORMED_RESPONSE",h.error("Error parsing response: "+e.message),o.requestFailed(e),e}if(o.requestSuccess(n),n.ok)return n.data;throw new Error("Failed to perform "+t+" action: "+a.get(n,"error.message"))}))}n=n||{};var h=t.logger("integration:"+e),b=d[e];if(!b)throw new Error('The integration "'+e+'" is not linked to this experience');return b=encodeURIComponent(b),{execute:u,schedule:m,cancel:v}}}}),(function(e,t,n){var i=n(430);e.exports=function(e,t,n,r){function o(i,o){e.emit("executeQfnRequestStart",{ts:Date.now(),uuid:c,meta:r,friendlyId:t,encodedId:n,request:o,payload:o,action:i,type:i})}function a(t){e.emit("executeQfnRequestFailed",{uuid:c,error:{ts:Date.now(),type:t.type,message:t.message,stack:t.stack}})}function s(t){e.emit("executeQfnRequestSuccess",{uuid:c,invocationId:t.invocationId,response:t})}var c=i();return{requestStart:o,requestFailed:a,requestSuccess:s}}}),(function(e,t){e.exports=function(){return[Date.now(),Math.floor(1e3*Math.random())].join("-")}}),(function(e,t,n){var i=n(0),r=n(35),o=n(432),a=n(433),s=n(434);e.exports=function(e){var t,n=s(e.rules),c=[],u=o(e).then((function(e){return t=e&&!e.execute,e}));return r([u,(function(n){if(t)return!1;if(!i.every(n.sync,(function(t){return t(e)})))return!1;var o=i.every(n.async,(function(t){return c.unshift(t(e)),!!c[0]}));return!!o&&r(c).then((function(e){return!!(o=i.every(e,(function(e){return!!e})))&&(i.each(e,(function(e){var t=i.get(e,"postActivation");"function"==typeof t&&t()})),!0)}))})(n)]).then((function(t){function n(e){return i.assign({},r,{execute:e})}var r=t[0],o=t[1],s=Boolean(o&&r&&r.execute);return s?a(e).then(n):n(s)}))}}),(function(e,t,n){function i(e){return Boolean(void 0===e||e)}function r(e){return"object"==typeof e&&Boolean(e.then)}var o=n(17),a=n(0);e.exports=function(e){function t(e,t){s[e]("Trigger: custom_javascript. status: "+t)}var n=e.activationApi,s=e.logger||{log:function(){},warn:function(){},error:function(){}},c=a.get(e,"experiment.modules.triggers");return c?(t("log","Checking"),new o(function(s,u){var l=e.dynamicModules.require(c);if("function"!=typeof l)return s({execute:!!l});var d=o.defer();a.assign(d.resolve,n);try{var p;l.length<=1?p=l(d.resolve):2===l.length&&(p=l(n,d.resolve))}catch(e){return e.userCodeError=!0,t("error","Error: "+e.message),u(e)}if(!r(p))switch(typeof p){case"boolean":return s({execute:p});case"undefined":case"object":return p=p||{},p.remove&&e.activationApi.onRemove(p.remove),delete p.remove,s(d.promise.then((function(e){return a.assign({},p,{execute:i(e)})})));case"default":return t("warn","invalid_return_type"),s(p)}return s(p.then((function(e){return a.assign({},{execute:i(e)},e)})))}).then((function(e){return t("log",e.execute?"Passed":"Failed"),e}),(function(e){throw t("error","Error: "+e.message),t("log","Failed"),e.userCodeError=!0,e}))):o.resolve({execute:!0})}}),(function(e,t,n){function i(){window.__qubit.smartserve.exclusivityLock=!0}function r(){return window.__qubit.smartserve.exclusivityLock}function o(e){var t=e.flags,n=e.experiment.variations,i=e.dynamicModules,r=e.endpoints;return s(n,i,t,r).then((function(e){return!(!e||!e.isExclusive)&&!!a.find(n,(function(t){if(t&&t.options&&t.options.components)return e.isExclusive({components:t.options.components})}))}))}var a=n(0),s=n(133);e.exports=function(e){var t=e.logger;return o(e).then((function(e){var n=!0;return e&&(r()?n=!1:i()),n?t.log("Trigger: exclusivity. PASSED."):t.warn("Trigger: exclusivity. Another exclusive experience is already showing. FAILED."),n}))}}),(function(e,t,n){var i=n(435),r=n(436),o=n(437),a=n(438),s=n(439),c=n(440),u=n(441),l=n(442),d=n(443),p=n(444),f=n(447),m=n(448),v=n(449),g=n(450);e.exports=function(e,t){var n={sync:[],async:[]};return e&&(e.times_activated&&n.sync.push(o),e.times_activated_session&&n.sync.push(a),e.page_url&&n.sync.push(u),e.session_number&&n.async.push(s),"number"==typeof e.leaving_page&&n.async.push(c),e.min_page_views&&n.async.push(i.min),e.max_page_views&&n.async.push(i.max),e.min_time_on_page&&n.async.push(r.onPage),e.min_time_in_session&&n.async.push(r.onSite),e.wait_for_body&&e.wait_for_body.value&&n.async.push(l),e.segments&&e.segments.length&&n.async.push(d),e.lastgeolocation&&n.async.push(v.country),e.lastgeolocationdetail__city&&n.async.push(v.city),e.lastgeolocationdetail__metro_area&&n.async.push(v.metroArea),e.lastgeolocationdetail__region&&n.async.push(v.region),e.technology__browser&&n.async.push(g.browser),e.technology__device_type&&n.async.push(g.deviceType),e.technology__os_name&&n.async.push(g.osName),n.async.push(p),n.async.push(f),n.async.push(m)),n}}),(function(e,t){e.exports={min:function(e){var t=e.rules,n=e.logger;return e.visitor.getVisitorState().then((function(e){var i=e.sessionViewNumber,r=!!i&&i>=t.min_page_views;return n&&n[r?"log":"warn"]("Trigger: min page view.","Page views:",i,"Min page views:",t.min_page_views,r?"PASSED":"FAILED"),r}))},max:function(e){var t=e.rules,n=e.logger;return e.visitor.getVisitorState().then((function(e){var i=e.sessionViewNumber,r=!!i&&i<=t.max_page_views;return n&&n[r?"log":"warn"]("Trigger: max page view.","Page views:",i,"Max page views:",t.max_page_views,r?"PASSED":"FAILED"),r}))}}}),(function(e,t,n){var i=n(5);e.exports={onPage:function(e){var t=e.rules,n=e.logger;return i((function(e,i){n&&n.log("Trigger: min time on page. Checking ",t.min_time_on_page),setTimeout((function(){n&&n.log("Trigger: min time on page. PASSED"),e(!0)}),1e3*t.min_time_on_page)}))},onSite:function(e){var t=e.rules,n=e.logger;return e.visitor.getVisitorState().then((function(e){var r=e.sessionTs,o=(new Date).getTime()-r,a=1e3*t.min_time_in_session;return o>=a?(n&&n.log("Trigger: min time on site.","Time on site",o,"Expected",a,"PASSED"),!0):i((function(e,t){setTimeout((function(){n&&n.log("Trigger: min time on site.","Time on site",o,"Expected",a,"PASSED"),e(!0)}),a-o)}))}))}}}),(function(e,t){e.exports=function(e){var t=e.rules,n=e.logger,i=e.variation.variationMasterId,r=e.context.biscotti,o=r.permanent.get("experienceState");o=o&&o[i];var a=t.times_activated,s=o&&o.timesActivated||0,c=s<a;return n&&n[c?"log":"warn"]("Trigger: times activated.","Can fire count:",a,"Has fired count:",s,c?"PASSED":"FAILED"),c}}),(function(e,t){e.exports=function(e){var t=e.rules,n=e.logger,i=e.variation.variationMasterId,r=e.context.biscotti,o=r.session.get("experienceState"),a=o&&o[i];if(!a)return!0;var s=a&&a.timesActivated||0,c=t.times_activated_session,u=s<c.value;return n&&n[u?"log":"warn"]("Trigger: times activated session.","Can fire count:",c.value,"Has fired count:",s,u?"PASSED":"FAILED"),u}}),(function(e,t){function n(e,t,n){switch(e){case"eq":return t===n;case"neq":return t!==n;case"gt":return t<n;case"lt":return t>n}}e.exports=function(e){var t=e.rules,i=e.logger,r=e.visitor,o=t.session_number;return r.getVisitorState().then((function(e){var t=e.sessionNumber,r=n(o.op,o.value,t);return i&&i[r?"log":"warn"]("Trigger: session number. Rule:",o.op,o.value,".","Actual session number:",t,r?"PASSED":"FAILED"),r}))}}),(function(e,t,n){function i(e){var t;return t={defaultConfig:{debugMode:!1,topHeight:150,moveQueueDepth:2,moveDelay:500,moveVel:500,leftGap:10,attachTime:500,returnTime:1e3,eventInterval:100,showProb:1},start:function(){t.isBadBrowser(navigator.userAgent,window)||(t.startTime=(new Date).getTime(),t.opts=o.assign({},t.defaultConfig,e),t.lastMoves=[],t.waitTillReady())},isBadBrowser:function(e,t){return e.indexOf("iPad")>=0||e.indexOf("iPhone")>=0||e.indexOf("android")>=0||e.indexOf("Android")>=0||e.indexOf("Mobile")>=0||e.indexOf("mobile")>=0||e.indexOf("MSIE 6")>=0||!t.sessionStorage},waitTillReady:function(){document.body&&document.getElementById?t.onReady():setTimeout(t.waitTillReady,100)},onReady:function(){t.opts.attachTime?setTimeout(t.attachEvents,t.opts.attachTime):t.attachEvents()},attachEvents:function(){var e=document;t.attachMouseMove(e),t.attachMouseOut(e),t.detectField=e},attachMouseMove:function(e){e.attachEvent?e.attachEvent("onmousemove",t.onMouseMove):e.addEventListener&&e.addEventListener("mousemove",t.onMouseMove,!1)},onMouseMove:function(e){for(t.lastMoves.push({t:e.debug_time||(new Date).getTime(),x:e.clientX,y:e.clientY});t.lastMoves.length>t.opts.moveQueueDepth;)t.lastMoves.shift();t.returnTimeout&&(clearTimeout(t.returnTimeout),delete t.returnTimeout),e.clientY>t.opts.topHeight&&(t.removeEvent(t.detectField,"mousemove",t.onMouseMove),setTimeout((function(){t.attachMouseMove(document)}),t.opts.eventInterval))},attachMouseOut:function(e){e.attachEvent?e.attachEvent("onmouseout",t.onMouseOut):e.addEventListener&&e.addEventListener("mouseout",t.onMouseOut,!0)},onMouseOut:function(e){if(!t.returnTimeout){var n,i,r,o,a,s,c=(new Date).getTime();o=t.lastMoves[1],a=t.lastMoves[0],t.opts.debugMode&&window.console&&console.log(o,a),o&&a&&o.t>=c-t.opts.moveDelay&&a.y<=t.opts.topHeight&&(n=o.x-a.x,i=o.y-a.y,r=o.t-a.t,s=Math.sqrt(n*n+i*i)/r*1e3,t.opts.debugMode&&window.console&&(console.log("vel: ",s," ",n," ",i," ",r),console.log("lim: ",t.opts.moveVel)),s>=t.opts.moveVel&&(t.opts.returnTime?(t.returnTimeout=setTimeout(t.tryShowFeedback,t.opts.returnTime),t.removeEvent(t.detectField,"mousemove",t.onMouseMove),setTimeout((function(){t.attachMouseMove(t.detectField)}),50)):t.tryShowFeedback()))}},tryShowFeedback:function(){t.removeEvents(),Math.random()<t.opts.showProb&&(t.showTime=(new Date).getTime(),t.opts.callBack())},removeEvents:function(){t.removeEvent(t.detectField,"mousemove",t.onMouseMove),t.removeEvent(t.detectField,"mouseout",t.onMouseOut)},removeEvent:function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n)}}}var r=n(5),o=n(0);e.exports=function(e){var t=e.rules,n=e.logger;n&&n.log("Trigger: leaving page. Checking.");var o,a=r((function(e){o=e})),s={debugMode:!1,topHeight:150,moveQueueDepth:2,moveDelay:500,moveVel:500,leftGap:10,attachTime:1e3*Math.abs(t.leaving_page),returnTime:300,eventInterval:100,showProb:1,callBack:function(){n&&n.log("Trigger: leaving page. PASSED."),o(!0)}};a.postActivation=function(){window.q_ef_disable=!0};try{return i(s).start(),a}catch(e){return!1}}}),(function(e,t,n){function i(e,t,n){e=e.toLowerCase();var i,r,a,c="n"===t.match_type.charAt(0),u=t.match_phrase;switch(u=s.isArray(u)?u:[u],t.match_type){case"eq":case"neq":r=function(t){return o(e,t)},a="url is";break;case"contains":case"ncontains":r=function(t){return t=t.toLowerCase(),e.indexOf(t)>-1},a="url contains";break;case"regex":case"nregex":r=function(t){return e.match(new RegExp(t,"i"))},a="url matches regex";break;default:n&&n.log("Didn't find an appropriate match type"),r=function(){return!1}}return-1===t.match_type.indexOf("regex")&&(u=s.map(u,(function(e){return window.encodeURI(e)}))),i=s.some(u,r),i=c?!i:i,n&&n[i?"log":"warn"]("Trigger: "+a+".","Search term:",t.match_phrase,"Reverse match?",c,i?"PASSED":"FAILED"),i}function r(){return window.location.href}function o(e,t){if(e=a(e),t=a(t),t.address&&e.address!==t.address)return!1;if(!t.search.length)return!0;if(!e.search.length)return!1;for(var n=0;n<t.search.length;n++)if(!s.some(e.search,(function(e){return e===t.search[n]})))return!1;return!0}function a(e){e=e.toLowerCase().replace(/^https?:\/\//,"").replace(/#.*$/,"");var t=e.match(/(^[^?]+)|((?:\?).*)$/g),n=t[0].replace(/^www\./,"").replace(/\/$/,""),i=(t[1]||"").replace(/^\?/,"");return{address:n,search:s.filter(i.split("&"),(function(e){return e.length>0}))}}var s=n(0);e.exports=function(e){var t=e.rules,n=e.logger,o=r();return s.some(t.page_url.urls,(function(e){return i(o,e,n)}))}}),(function(e,t,n){function i(){return!!document.body}var r=n(5);e.exports=function(e){function t(){return n&&n.log("Trigger: wait for body. PASSED."),!0}var n=e.logger;return i()?t():(n&&n.log("Trigger: wait for body. Checking."),r((function(e,n){function r(){setTimeout((function(){if(i())return e(t());r()}),20)}setTimeout((function(){if(i())return e(t());r()}),0)})))}}),(function(e,t,n){function i(e,t){var n=o.map(e,(function(e){return t(e.segment_id)}));return s(n).then((function(t){for(var n=!0,i={},o={},a=e.length;a--;){var s=t[a],c=e[a].and_group;isNaN(c)&&(c=0),e[a].include?(n=!1,i[c]=i[c]||s):o[c]=o[c]||s}return(n||r(i))&&!r(o)}))}function r(e){var t=o.values(e);return!!t.length&&o.every(t,(function(e){return!0===e}))}var o=n(0),a=n(5),s=n(35);e.exports=function(e){var t=e.rules,n=e.logger,r=e.context.visitorEngine,o=n?n.log:function(){};if(!r)throw new Error("Experience is targeting segments, but the visitor engine is not available");o("is visitor in segment? status: checking"),r["public"]&&(r=r["public"]);var s=r.isMemberOfAsync||r.isMemberOf;return a((function(e,n){i(t.segments,s).then((function(n){function a(){c&&c.dispose(),o("is visitor in segment? status: passed"),e(!0)}if(n)a();else{o("is visitor in segment? status: failed, but will check again if membership changes");var c=r.onMembershipsChanged((function(){i(t.segments,s).then((function(e){if(e)return a()}))}))}}))}))}}),(function(e,t,n){var i=n(5),r=n(445),o=n(446);e.exports=function(e){return new i(function(t){r(e).then(t),o(e).then((function(e){e&&t(e)}))})}}),(function(e,t,n){function i(e,t,n){if(!e.typeMatcher.test(t.meta.type))return!1;var i=l.get(t,e.path);"product.categories"===e.path&&(i=r(i));var o=Boolean(d(e,i));return n&&n[o?"log":"warn"]("Simple triggers:","Type:",e.type,"Path:",e.path,"Operator:",e.op,"Value:",i,"Expected:",e.value,o?"PASSED":"FAILED"),o}function r(e){return e?l.isArray(e)?e:[e]:[]}function o(e){return e.key&&0===e.key.indexOf("pageviews.customvalues.uv.")}function a(e){var t=e.key.replace("pageviews.customvalues.uv.",""),n=t.substring(0,t.indexOf("."));return l.assign({},e,{type:n,typeMatcher:c(n),key:t,path:s(t)})}function s(e){switch(e){case"basket.subtotal":return"basket.subtotal.value";case"basket.total":return"basket.total.value";case"page.type":return"type";case"page.subtype":return"subtypes";case"page.category":return"type";case"page.subcategory":return"subtypes";case"product.category":case"product.subcategory":return"product.categories";case"product.name":return"product.name";case"product.sku_code":return"product.sku";case"product.stock":return"product.stock";case"product.unit_sale_price":return"product.price.value";default:return e}}function c(e){switch(e){case"basket":return/[a-z]{2}BasketSummary$/;case"page":return/[a-z]{2}View$/;case"product":return/[a-z]{2}Product$/}}var u=n(5),l=n(0),d=n(34);e.exports=function(e){var t=l.values(e.rules);t=l.filter(t,o),t=l.map(t,a);var n,r=e.context.uv;return new u(function(o,a){function s(e){n.dispose(),o(e)}if(!t.length)return s(!0);n=r.on(/.*/,(function(n){t=t.filter((function(t){return!i(t,n,e.logger)})),t.length||s(!0)})),n.replay()})}}),(function(e,t,n){function i(e){var t;return/^universal_variable\.page\.(category|type)$/.test(e.key)?(t=a.get(window,"universal_variable.page"))&&(t.type||t.category):/^universal_variable\.page\.(subcategory|subtype)$/.test(e.key)?(t=a.get(window,"universal_variable.page"))&&r(t):a.get(window,e.key)}function r(e){var t=e.breadcrumb,n=t instanceof Array?t:"string"==typeof t?[t]:[];return 0===n.length&&(e.category&&n.push(e.category),e.subcategory&&n.push(e.subcategory)),n}function o(e){return e.key&&0===e.key.indexOf("pageviews.customvalues.uv.")}var a=n(0),s=n(37),c=n(17),u=n(34);e.exports=function(e){var t=a.values(e.rules),n=a.filter(t,o);if(n=a.map(n,(function(e){return a.assign({},e,{key:e.key.replace("pageviews.customvalues.uv","universal_variable")})})),0===n.length)return c.resolve(!0);var r=a.map(n,(function(e){return function(){return i(e)}}));return s(r,{logger:!1}).then((function(n){for(var i=0;i<t.length;i++){var r=t[i],o=n[i],a=u(r,o);if(e.logger&&e.logger[a?"log":"warn"]("UV Simple triggers:","Key:",r.key,"Operator:",r.op,"Value:",o,"Expected:",r.value,a?"PASSED":"FAILED"),!a)return!1}return!0}))}}),(function(e,t,n){function i(e,t){var n=r.get(e,"settings.timer.eventDate");if(n){var i=(new Date).getTime(),o=n>i;return t&&t[o?"log":"warn"]("Trigger: component schedule.","Scheduled to stop at",new Date(n),o?"PASSED":"FAILED"),o}return!0}var r=n(0);e.exports=function(e){var t=e.logger,n=e.experiment||{},o=!0;return r.each(n.variations||[],(function(e){e&&e.options&&e.options.components&&r.each(e.options.components,(function(e){o=o&&i(e,t)}))})),o}}),(function(e,t,n){var i=n(0),r=n(5),o=n(133);e.exports=function(e){var t=e.experiment,n=e.activationApi,a=e.logger,s=e.context.biscotti,c=e.dynamicModules,u=e.flags,l=e.endpoints;return o(t.variations,c,u,l).then((function(e){if(!e||null===e||!e.shouldActivate)return!0;var o=[];return i.each(t.variations,(function(e){e&&e.options&&e.options.components&&o.push({masterId:e.variationMasterId,components:e.options.components})})),a.log("Trigger: Layer#shouldActivate. Checking."),!o.length||r((function(t,i){e.shouldActivate({biscotti:s,meta:n.meta,variations:o,log:a.log},(function(e,n){if(e)return a.log("Trigger: Layer#shouldActivate. PASSED"),t(!0);t(!1),a.warn("Trigger: Layer#shouldActivate. "+n+". FAILED.")}))}))}))}}),(function(e,t,n){function i(e,t){return function(n){var i=n.rules,o=n.logger,a=n.visitor,s=i[t];return a.getVisitorState().then((function(t){var n=t[e],i=r(s.op,s.value,n);return o&&o[i?"log":"warn"]("Trigger:",s.key," Rule:",s.op,s.value,".","Actual value:",n,i?"PASSED":"FAILED"),i}))}}function r(e,t,n){var i=s.isArray(t)?t:[t];switch(e){case"eq":return!!o(i,n);case"neq":return!o(i,n)}}function o(e,t){return s.find(e,(function(e){return a(e)===a(t)}))}function a(e){return String(e).toLowerCase()}var s=n(0);e.exports={country:i("countryCode","lastgeolocation"),city:i("cityCode","lastgeolocationdetail__city"),metroArea:i("areaCode","lastgeolocationdetail__metro_area"),region:i("regionCode","lastgeolocationdetail__region")}}),(function(e,t,n){function i(e,t){return function(n){var i=n.rules,o=n.logger,a=n.visitor,s=i[t];return a.getBrowserState().then((function(t){var n=t.ua[e];if("browserName"===e)var i=t.ua.browserVersion.split(".")[0];var a=r(s.op,s.value,n,i);return o&&o[a?"log":"warn"]("Trigger:",s.key,"Rule:",s.op,s.value,".","Actual value:",n,i||"",a?"PASSED":"FAILED"),a}))}}function r(e,t,n,i){var r=s.isArray(t)?t:[t];switch(e){case"eq":return!!o(r,n,i);case"neq":return!o(r,n,i)}}function o(e,t,n){return s.find(e,(function(e){return a(e)===a(t)||!!n&&a(e)===a(t)+"@"+n}))}function a(e){return String(e).toLowerCase()}var s=n(0);e.exports={browser:i("browserName","technology__browser"),deviceType:i("deviceType","technology__device_type"),osName:i("osName","technology__os_name")}}),(function(e,t,n){var i=n(132),r=n(452),o=n(453),a=n(454),s=n(38),c=n(455);e.exports=function(e,t,n,u,l,d,p,f,m,v,g){var h=l.biscotti,b=i(l,e,t,u,p.visitorId,f,m,{isExecution:!0},v,g),y=s(e,t,u.isPreview);return c(t.variationMasterId,h),t.variationIsControl?r():t.isAdvancedMode?a(e,t,b,y,d):o(t,b,y,h,d,u.flags,u.endpoints)}}),(function(e,t,n){var i=n(20);e.exports=function(){return i({})}}),(function(e,t,n){function i(e,t,n,i){var o=e.options.dependencies,a={};for(var s in o)o.hasOwnProperty(s)&&(a[s]=i(s,o[s]));var c={biscotti:n},u=r.assign({},e.options,{meta:t.meta,modules:a}),l=a["@qubit/layer"]?"@qubit/layer":"layer";return new(i(l,o[l]))(c,u)}var r=n(0),o=n(5),a=n(134);e.exports=function(e,t,n,r,s,c,u){return (function(){return c.VISUAL_MODE_BUNDLE?a(u).then((function(n){return i(e,t,r,(function(e){return n[e]}))})):new o(function(n,o){try{n(i(e,t,r,(function(e,t){return s.require(e+"@"+t)})))}catch(e){o(e)}})})().then((function(e){return e.run(),{remove:function(){e&&e.destroy&&(e.destroy(),e=null)}}}))}}),(function(e,t,n){var i=n(5),r=n(0);e.exports=function(e,t,n,o,a){function s(e,t,n){return new i(function(n,i){try{n(e(t))}catch(e){e.userCodeError=!0,i(e)}}).then((function(e){return{remove:function(){if(n&&n(),e&&e.remove)return e.remove()}}}),(function(e){throw e.userCodeError=!0,e}))}var c;return new i(function(n,i){try{var o=r.get(e,"modules.variations."+t.variationMasterId);o.styles&&(c=a.require(o.styles).add().remove),n(a.require(o.execution))}catch(e){i(e)}}).then((function(e){return s(e,n,c)}))["catch"]((function(e){throw o.error("Error: "+e.message),e}))}}),(function(e,t){e.exports=function(e,t){var n=t.permanent.get("experienceState"),i=t.session.get("experienceState");n[e]&&(n[e].timesActivated=n[e].timesActivated+1),i[e]&&i[e].timesActivated?i[e].timesActivated+=1:i[e]={timesActivated:1},t.permanent.set("experienceState",n),t.session.set("experienceState",i)}}),(function(e,t,n){var i=n(0),r=n(51).VIEW_REGEX;e.exports=function(e){function t(i,r){if(n)return e.emit(i,r);o.push((function(){t(i,r)}))}var n=!1,o=[];return e.once(r,(function(){for(n=!0;o.length;)o.pop()()})).replay(),i.assign({},e,{emit:t})}}),(function(e,t){function n(){throw new Error("The Qubit React integration is not enabled for this property")}function i(){}e.exports=function(e,t){if(!e.has("qubitReactExperience"))return{activation:{register:n,release:i},execution:{getReact:n,render:n,release:i}};var r=e.require("qubitReactExperience"),o=r({owner:t});return{activation:{register:o.register,release:o.release},execution:{getReact:o.getReact,render:o.render,release:o.release}}}}),(function(e,t,n){function i(e){return e&&r.map(r.filter(e,(function(e){return/^\d+$/.test(e)})),Number)}var r=n(0);e.exports=function(e){return e=r.assign({},e),e.experiences&&(e.experiences=i(e.experiences)),e.exclude&&(e.exclude=i(e.exclude)),e}}),(function(e,t,n){var i=n(0),r=n(8),o=n(127);e.exports=function(e,t){var n=t.uv,a=t.biscotti;if(a){var s=a.permanent.get("experienceState");if(!s){var c=function(e){var t=o.readCookie(e);if(t&&t.length)try{return r.parse(t)}catch(e){}return null},u=c("qb_ss_status"),l=u&&u.b;if(l){var d=c("ss_opts"),p=e.experiments,f={};return s=i.objectReduce(l,(function(e,t,n){var i=t[1],r=p[i],o=d[n];if(!r||!o||!o.times_activated)return e;var a={probability:t[0],iterationId:r.iterationId,timesActivated:o.times_activated,pid:t[0]};return f[n]={timesActivated:o.times_activated_session},e[n]=a,e}),{}),a.permanent.set("experienceState",s),d&&d.global&&(new Date).getTime()-d.global.refresh_timer<18e5&&a.session.set("experienceState",f),n.emit("qubit.debug",{type:"ExperienceEngine.CookieMigration",value:r.stringify({})}),!0}}}}}),(function(e,t,n){var i=n(6),r=n(0);e.exports=function(e){function t(t){i.clear(t,{path:"/",domain:e})}var n=["qb_ss_status","ss_opts","_qb_se"];r.each(n,t)}}),(function(e,t,n){var i=n(0);e.exports=function(e){var t=e.uv,n=e.biscotti,r=n.permanent.get("experienceSegmentations")||[];i.indexOf(r,1)>-1||(n.permanent.set("experienceSegmentations",[1]),t.emit("qubit.debug",{type:"ExperienceEngine.SegmentationBugCleanup",value:JSON.stringify({})}))}}),(function(e,t){e.exports=function(e){var t=e.jolt,n=e.biscotti.permanent.get("visitorId");return{getBrowserState:function(){return t.getBrowserState()},getVisitorState:function(){return t.getVisitorState()},visitorId:n}}}),(function(e,t,n){var i=n(125);e.exports=function(e){var t=i(),n=t.emit,r=[];return t.emit=function(){r.push(arguments)},t.start=function(){t.emit=n;for(var e=0;e<r.length;e++)n.apply(null,r[e]);r=[]},e.explorer&&e.explorer.then((function(e){e&&e.registerExperienceEmitter(t)})),t}}),(function(e,t,n){var i=n(5),r=n(0),o=n(465),a=n(52);e.exports=function(e){var t=e&&(e.owner||e.experimentId);if(!t)throw new Error("No owner specified");var n=!1,s=o(t),c={},u=null;return{getReact:function(){if(!u)throw new Error("React not available, you have either not called `options.react.register()` or have not waited until it has resolved");return u},render:function(e,t){var n=c[e];if(!n)throw new Error("The slot with id '"+e+"' has not been registered, make sure you are calling `options.react.register()`");if(!n.render)throw new Error("The slot with id '"+e+"' is not yet available for rendering, make sure you are waiting until the promise returned from `options.react.register()` resolves");n.render(e,t)},release:function(e){e?c[e]&&(c[e].release(),delete c[e]):(r.objectEach(c,(function(e){e.release()})),c={})},register:function(e,o){function l(t,n,i){i=i||{},r.each(e,(function(e){i.ifExists&&!c[e]||(c[e]=c[e]||{},c[e][t]=n)}))}if(r.each(e,(function(e){if(c[e])throw new Error("You have already registered the slot with id '"+e+"' in this experience")})),o){n||(a.warn("You are using the deprecated callback-based registration method in experience "+t+". Go to https://docs.qubit.com to find out how and why to upgrade to the new promise-based approach."),n=!0);var d=s(e,o);return l("release",d),d}return new i(function(t){d=s(e,(function(e,n){l("render",e.render,{ifExists:!0}),u=n,t()})),l("release",d)})}}}}),(function(e,t,n){var i=n(0),r=n(35),o=n(76),a=n(467),s=n(468),c=n(52),u=n(470),l=n(471);e.exports=function(e){return function(t,n){function d(e,t){if(!v){var n=g[e];n||f('Cannot render into slot "'+e+'", it has not been registered'),n.canClaim()||f('Cannot render into slot "'+e+'", it is already claimed by experience '+n.getOwner()),n.render(t)}}function p(e){v||(i.each(i.keys(g),(function(e){g[e].release()})),v=!0)}function f(e){throw c.error(e),new Error(e)}var m=o.getReact().version;s(a,m)||f("Aborting due to error with versions");var v=!1,g=i.reduce(t,(function(t,n){return t[n]=l(e,n),t}),{}),h=i.map(i.keys(g),(function(e){return c.debug("Registering "+e),g[e].register()}));return r(h).then(u).then((function(e){setTimeout((function(){n({render:d,release:p},e)}),0)})),p}}}),(function(e,t,n){var i=n(0);e.exports=function(e,t){return t=i.isArray(t)?t:t.split("."),t.reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e)}}),(function(e,t){e.exports="1.5.2"}),(function(e,t,n){var i=n(52),r=n(469);e.exports=function(e,t){return i.debug('Checking wrapper version: "'+t+'"'),void 0===t?(i.warn("Cannot find wrapper version"),!0):r.isValid(t)?r.getMajor(t)!==r.getMajor(e)?(i.error("experience and wrapper are on different major versions"),!1):(r.getMinor(t)!==r.getMinor(e)&&i.warn("experience and wrapper are on different minor versions"),!0):(i.error("Invalid wrapper version"),!1)}}),(function(e,t){function n(e){return/^\d+\.\d+\.\d+$/.test(e)}function i(e){return n(e)&&Number(e.split(".")[0])}function r(e){return n(e)&&Number(e.split(".")[1])}function o(e){return n(e)&&Number(e.split(".")[2])}e.exports={isValid:n,getMajor:i,getMinor:r,getPatch:o}}),(function(e,t,n){var i=n(5),r=n(76).getReact,o=n(52)("onReactReady");e.exports=function(){return new i(function(e){var t=r();if(t.React)return o.debug("React available, running callback"),void e(t.React);o.debug("React unavailable, pushing into onReactReady array"),t.onReactReady=t.onReactReady||[],t.onReactReady.push(e)})}}),(function(e,t,n){function i(e){function t(t,o){return n||(n=!0,r.each(i,(function(e){e()}))),e.ownerRenderFunction?e.ownerRenderFunction(t,o):t.children}var n=!1,i=[];return t.onMount=function(e){n?e():i.push(e)},t}var r=n(0),o=n(5),a=n(76);e.exports=function(e,t){function n(){r.isArray(s.instances)&&r.each(s.instances,(function(e){e.forceUpdate()}))}var s=a.getComponent(t);return{canClaim:function(){return!s.owner||s.owner===e},getOwner:function(){return s.owner},register:function(){return s.renderFunction||(s.renderFunction=i(s)),new o(function(e){s.renderFunction.onMount(e),n()})},release:function(){s.owner===e&&(s.ownerRenderFunction=undefined,n(),s.owner=undefined)},render:function(t){s.owner=e,s.ownerRenderFunction=t,n()}}}}),(function(e,t,n){function i(e){var t=Date.now,n=u(o,t,d),i=c.cookieStore(t,e.cookieDomain);return{scheduleMessage:function(t){return a.scheduleMessage(t,e,n,r,i)},cancelMessage:function(t){return a.cancelMessage(t,e,r,i)},listScheduledMessages:function(){return i.get()},generateMessageId:function(){return l+"-"+s.uuid()}}}var r=n(77),o=n(12),a=n(478),s=n(481),c=n(136),u=n(482),l=1,d=1e3;e.exports=i}),(function(e,t,n){e.exports={kv:n(474),deferkv:n(475),ts:n(476),count:n(477)}}),(function(e,t,n){var i=n(53).endpoints.stash,r=n(54),o=n(55);e.exports=function(e,t){var n=i+"/kv",a={};return{set:function(i,s){return a={url:[n,"set",e,"public",o(i,t)].join("/"),body:{data:s}},r("post",a)},get:function(i){return Array.isArray(i)?(a={url:[n,"getbatch",e,"public"].join("/"),body:{keys:o(i,t)},isBatch:!0},r("post",a)):(a={url:[n,"get",e,"public",o(i,t)].join("/")},r("get",a))}}}}),(function(e,t,n){var i=n(53).endpoints,r=n(54),o=n(55);e.exports=function(e,t){var n=(t.encrypt?i.mss:i.stash)+"/deferkv",a={};return{set:function(i,s,c,u){return a={url:[n,"set",e,"public",o(i,t),c].join("/"),body:{data:s,route:u}},r("post",a)},del:function(i,s){return a={url:[n,"del",e,"public",o(i,t),s].join("/")},r("post",a)},get:function(i,s){return a={url:[n,"get",e,"public",o(i,t),s].join("/")},r("get",a)}}}}),(function(e,t,n){var i=n(53).endpoints.stash,r=n(54),o=n(55);e.exports=function(e,t){var n=i+"/ts",a={};return{set:function(i){return a={url:[n,"set",e,"public",o(i,t)].join("/")},r("post",a)},get:function(i){return a={url:[n,"get",e,"public",o(i,t)].join("/")},r("get",a)}}}}),(function(e,t,n){var i=n(53).endpoints.stash,r=n(54),o=n(55);e.exports=function(e,t){var n=i+"/count",a={};return{increment:function(i,s){return a={url:[n,"incr",e,"public",o(i,t)].join("/"),body:{dimension:s}},r("post",a)},decrement:function(i,s){return a={url:[n,"decr",e,"public",o(i,t)].join("/"),body:{dimension:s}},r("post",a)},get:function(i){return a=Array.isArray(i)?{url:[n,"get",e,"public",o(i,t)].join("/"),body:{keys:i}}:{url:[n,"get",e,"public",o(i,t)].join("/")},r("get",a)}}}}),(function(e,t,n){function i(e,t,n,i){o.checkTypes(e,{messageId:"string"});var r=i.get()[e.messageId];if(r===undefined)throw new Error("No messageId found by that name");return a.deleteMessageFromStash(r,t,n).then((function(){s.removeScheduleFromCookie(e.messageId,i)}))}function r(e,t,n,i,r){return o.checkTypes(e,{messageId:"string",campaign:"string",environment:"string",sandbox:"boolean",integration:"string",delayMilliseconds:"number",messagePayload:"object"}),n().then((function(n){var o=n+e.delayMilliseconds;return a.insertMessageIntoStash(e,t,n,o,i).then((function(i){return s.storeScheduleInCookie(e,t,n,r),s.removeExpiredMessagesFromCookie(n,r),i}))}))}var o=n(135),a=n(479),s=n(136);e.exports={cancelMessage:i,scheduleMessage:r}}),(function(e,t){function n(e,t,n,i,s){var c={integration:e.integration,data:e.messagePayload,tracking_id:t.meta.trackingId,visitorId:t.meta.visitorId,messageId:e.messageId,campaign:e.campaign,timeDelay:e.delayMilliseconds,sandbox:e.sandbox,createdAt:n,meta:{experienceId:t.meta.experienceId,iterationId:t.meta.iterationId,variationMasterId:t.meta.variationMasterId,variationId:t.meta.variationId}};return s("deferkv",t.meta.trackingId,{namespace:r,encrypt:!0,useVisitorId:!0,visitorId:t.meta.visitorId}).set(o,JSON.stringify(c),Math.floor(i/1e3),a+e.environment)}function i(e,t,n){var i=n("deferkv",t.meta.trackingId,{namespace:r,encrypt:!0,useVisitorId:!0,visitorId:t.meta.visitorId}),a=e.scheduledAtEpochMilliseconds+e.delayMilliseconds;return i.del(o,Math.floor(a/1e3))}var r="scheduler",o="scheduled-email",a="esp-stream-";e.exports={STASH_NAMESPACE:r,STASH_KEY:o,STASH_KEY_PREFIX:a,insertMessageIntoStash:n,deleteMessageFromStash:i}}),(function(e,t,n){var i=n(11);e.exports=i("email-scheduler")}),(function(e,t){function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n=t;return"x"!==e&&(n=3&t|8),n.toString(16)}))}e.exports={uuid:n}}),(function(e,t,n){var i=n(23).Promise;e.exports=function(e,t,n){function r(){return s||(s=new i(function(i){e.get("https://stash.qubitproducts.com/time/ms",(function(e,r){var c=t();if(!e)try{o=parseInt(r)}catch(e){}a=c+n,s=undefined,i(o||c)}))})),s}var o,a,s;return function(){var e=t();return a&&e<a?i.resolve(o||e):(o=undefined,r())}}}),(function(e,t,n){var i=n(484),r=n(485).getDefaultConfig,o=n(490),a=n(492),s=n(137),c=n(493);e.exports=function(e){return{setup:function(t){var n=r(e,t),u=o(n),l=c(e,n),d=a(l,s(n,n.payloadTransform),n);return u(e.uv,i(d,500)).replay(),{cancelAll:function(){l.cancelAll()}}}}}}),(function(e,t){e.exports=function(e,t){var n;return function(){var i=this,r=arguments,o=function(){n=undefined,e.apply(i,r)};clearTimeout(n),n=setTimeout(o,t)}}}),(function(e,t,n){function i(e){var t=s[e]||{};return o.assign({},{environment:"production",initialState:undefined,handlers:{},postHandle:undefined,formatUserName:function(e){return e.firstName+" "+e.lastName},buildPayload:a},t)}function r(e,t){var n=i(e.meta.vertical);return o.assign({},n,t)}var o=n(0),a=n(137),s={ec:n(486),tr:n(488)};e.exports={getDefaultConfig:r}}),(function(e,t,n){var i=n(487);e.exports={initialState:{pageType:"",user:{},basketItems:[],basketSummary:undefined},handlers:{pageType:{eventName:/ecView$/,handler:function(e,t,n){t({pageType:n.type})}},user:{eventName:/ecUser$/,handler:function(e,t,n){t({user:n.user})}},basketItem:{eventName:/ecBasketItem$/,handler:function(e,t,n){t({basketItems:e.basketItems.concat(n)})}},basketItemSummary:{eventName:/ecBasketSummary$/,handler:function(e,t,n){t({basketSummary:n})}},basketItemTransactionSummary:{eventName:/ecBasketTransactionSummary$/,handler:function(e,t,n){}}},postHandle:function(e,t,n){var i,r=n.event,o=e.user&&!e.user.isGuest&&e.user.email;e.basketSummary&&o&&"confirmation"!==e.pageType?(i={page:{type:e.pageType},user:e.user,basketItems:e.basketItems,basketSummary:e.basketSummary},t("basket",i)):"basketItemTransactionSummary"===r&&"confirmation"===e.pageType&&t("transaction",{user:e.user})},validBasket:function(e){return e.basketItems&&e.basketItems.length>0},payloadTransform:i}}),(function(e,t){e.exports=function(e,t){function n(e){return{product:{id:e.get("product.productId"),url:e.get("product.url"),name:e.get("product.name"),sku_code:e.get("product.sku"),unit_price:e.get("product.originalPrice.value"),unit_sale_price:e.get("product.price.value"),currency:e.get("product.originalPrice.currency"),category:e.get("product.category"),image_url:e.getFirst("product.images")},subtotal:e.get("subtotal.value"),total_discount:e.get("discount.value"),quantity:e.get("quantity")}}return{page:{type:t.get("page.type")},user:{email:t.get("user.email"),name:e.get("formatUserName")(t.get("user")),has_transacted:t.get("user.hasTransacted"),language:t.get("user.language")},basket:{id:t.get("basketSummary.basket.id"),currency:t.get("basketSummary.basket.total.currency"),total:t.get("basketSummary.basket.total.value"),subtotal:t.get("basketSummary.basket.subtotal.value"),tax:t.get("basketSummary.basket.tax.value"),shipping_cost:t.get("basketSummary.basket.shippingPrice.value"),subtotal_include_tax:t.get("basketSummary.basket.subtotalIncludingTax.value"),shipping_method:t.get("basketSummary.basket.shippingMethod"),line_items:t.map("basketItems",n)}}}}),(function(e,t,n){var i=n(489);e.exports={initialState:{pageType:"",user:{},packageItems:[],packageSummary:undefined},handlers:{pageType:{eventName:/trView$/,handler:function(e,t,n){t({pageType:n.type})}},user:{eventName:/trUser$/,handler:function(e,t,n){t({user:n.user})}},packageItem:{eventName:/trPackageItemCheckout$/,handler:function(e,t,n){t({packageItems:e.packageItems.concat(n)})}},packageCheckoutSummary:{eventName:/trPackageCheckoutSummary$/,handler:function(e,t,n){t({packageSummary:n})}},packageTransactionSummary:{eventName:/trPackageTransactionSummary$/,handler:function(e,t,n){}}},postHandle:function(e,t,n){var i,r=n.event,o=e.user&&!e.user.isGuest&&e.user.email;e.packageCheckoutSummary&&o&&"confirmation"!==e.pageType?(i={page:{type:e.pageType},user:e.user,packageItems:e.packageItems,packageCheckoutSummary:e.packageSummary},t("basket",i)):"trPackageTransactionSummary"===r&&"confirmation"===e.pageType&&t("transaction",{user:e.user})},validBasket:function(e){return e.packageItems&&e.packageItems.length>0},payloadTransform:i}}),(function(e,t){e.exports=function(e,t){function n(e){return{packageItem:{id:e.get("packageItem.id"),price:e.get("packageItem.price.value"),packageItemType:e.get("packageItem.packageItemType"),journey:e.get("packageItem.journey"),accommodation:e.get("packageItem.accommodation"),ancillary:e.get("packageItem.ancillary"),originalPrice:e.get("packageItem.originalPrice.value"),onSale:e.get("packageItem.onSale")},subtotal:e.get("subtotal.value"),totalDiscount:e.get("discount.value"),quantity:e.get("quantity")}}return{page:{type:t.get("page.type")},user:{email:t.get("user.email"),name:e.get("formatUserName")(t.get("user")),hasTransacted:t.get("user.hasTransacted"),language:t.get("user.language")},basket:{id:t.get("packageCheckoutSummary.package.id"),duration:t.get("packageCheckoutSummary.package.duration"),price:t.get("packageCheckoutSummary.package.price.value"),numberOfAdults:t.get("packageCheckoutSummary.package.numberOfAdults"),numberOfChildren:t.get("packageCheckoutSummary.package.numberOfChildren"),numberOfInfants:t.get("packageCheckoutSummary.package.numberOfInfants"),totalNumber:t.get("packageCheckoutSummary.package.totalNumber"),description:t.get("packageCheckoutSummary.package.description"),starRating:t.get("packageCheckoutSummary.package.starRating"),minAgeAdults:t.get("packageCheckoutSummary.package.minAgeAdults"),minAgeChildren:t.get("packageCheckoutSummary.package.minAgeChildren"),minAgeInfants:t.get("packageCheckoutSummary.package.minAgeInfants"),startTs:t.get("packageCheckoutSummary.package.startTs"),endTs:t.get("packageCheckoutSummary.package.endTs"),name:t.get("packageCheckoutSummary.package.name"),packageProvider:t.get("packageCheckoutSummary.package.packageProvider"),type:t.get("packageCheckoutSummary.package.type"),deposit:t.get("packageCheckoutSummary.package.deposit.value"),discount:t.get("packageCheckoutSummary.package.discount.value"),subtotal:t.get("packageCheckoutSummary.package.subtotal.value"),subtotalIncludingTax:t.get("packageCheckoutSummary.package.subtotalIncludingTax.value"),tax:t.get("packageCheckoutSummary.package.tax.value"),total:t.get("packageCheckoutSummary.package.total.value"),currency:t.get("packageCheckoutSummary.package.total.currency"),lineItems:t.map("packageItems",n)}}}}),(function(e,t,n){var i=n(491);e.exports=function(e){return i(e.initialState,e.handlers,e.postHandle)}}),(function(e,t,n){var i=n(0);e.exports=function(e,t,n){function r(e,t){return i.assign({},e,t)}var o=(function(e){return i.keys(e).map((function(t){var n,i=e[t],r=i.eventName;return n="string"==typeof r?function(e){return e.meta&&e.meta.type===r}:function(e){return e.meta&&r.test(e.meta.type)},{key:t,test:n,handler:i.handler}}))})(t);return function(t,a){function s(e,t,n){return l=r(l,e)}function c(e,t){return function(n,i){if("string"!=typeof n)return e||u++,s(n,e,t||u)}}var u=0,l=e?i.assign({},e):{},d=t.on(/.*/,(function(e){o.forEach((function(t){t.test(e)&&(u++,t.handler(l,c(t.key,u),e),n(l,a,{seq:u,event:t.key}))}))}));return{replay:function(){d.replay()},dispose:function(){d.dispose()},get:function(){return l}}}}}),(function(e,t){e.exports=function(e,t,n){return function(i,r){var o;switch(i){case"basket":return n.validBasket(r)?(o=t(r),e.scheduleMessages(o)):e.cancelAll(),!0;case"transaction":return e.cancelAll(),!0;default:return!1}}}}),(function(e,t,n){function i(e,t,n,i){var r=i.campaign||n.campaign,c=s.toMiliseconds(i.timeDelay,i.units||n.timeUnits);return a.schedule(e.trackingId,{recipientId:n.recipientId||t.user&&t.user.email,key:r,integration:n.integration||"default",delay:c,meta:e,data:o.assign({},t,{campaign:r})})}var r=n(23).Promise,o=n(0),a=n(494),s=n(495);e.exports=function(e,t){var n=e.uv,s=e.meta,c=e.meta.trackingId,u=t.recipientId;return u||n.on(/^([^.]+\.)?[a-z]{2}User$/,(function(e){e.user&&e.user.email&&(u=e.user.email)})).replay(),{scheduleMessages:function(e){return r.all(o.map(t.sendConfig,(function(n){return i(s,e,t,n)})))},cancelAll:function(){return r.all(o.map(t.sendConfig,(function(e){if(u)return a.cancel(c,{recipientId:u,key:e.campaign||t.campaign,meta:s})})))}}}}),(function(e,t,n){var i=n(12),r=n(8),o=n(23).Promise;e.exports.schedule=function(e,t){return new o(function(n,o){i.post("https://messages.qubit.com/"+e+"/schedule",r.stringify(t),(function(e,t){if(e)return o(e);n(t)}))})},e.exports.cancel=function(e,t){return new o(function(n,o){i.post("https://messages.qubit.com/"+e+"/cancel",r.stringify(t),(function(e,t){if(e)return o(e);n(t)}))})}}),(function(e,t){var n={seconds:1e3,minutes:6e4,hours:36e5,days:864e5};e.exports={toMiliseconds:function(e,t){return e*(n[t]||1)}}}),(function(e,t,n){var i=n(497),r=n(502),o=r.transactionsWindowSizes,a=r.viewWindowSizes;e.exports={start:function(e,t,n){var r=o.map((function(t){return i("ecount",e,"atom-transactions-"+t+"min",t)}));if(t.on(/([a-zA-Z0-9]+\.)?ecBasketItemTransaction/,(function(e){e.product&&e.product.productId&&r.forEach((function(t){t.increment(e.product.productId)}))})).replay(),n&&n.viewCounterEnabled){var s=a.map((function(t){return i("ecount",e,"atom-views-"+t+"min",t)}));t.on(/([a-zA-Z0-9]+\.)?ecProduct/,(function(e){e.eventType&&"detail"!==e.eventType||!e.product||!e.product.productId||s.forEach((function(t){t.increment(e.product.productId)}))})).replay()}}}}),(function(e,t,n){var i=n(498);e.exports=function(e,t,n,r,o){if(!i.hasOwnProperty(e))throw new Error('opType "'+e+'" is not recognised');return i[e](t,n,r,o)}}),(function(e,t,n){e.exports={ecount:n(499),topk_safe:n(500),topk:n(501)}}),(function(e,t,n){var i=n(78).endpoint,r=n(79);e.exports=function(e,t,n,o){var a=[i,e,"ecount",t].join("/");return{get:function(e){var t=a+"/"+e;return void 0!==o&&(t+="?cache="+(!!o).toString()),r("get",{url:t}).then((function(e){return e.data?parseInt(e.data,10):0}))},increment:function(e){return r("post",{url:a+"/"+e+"/"+n}).then((function(e){if(!e.status||"saved"!==e.status)throw new Error("not saved")}))}}}}),(function(e,t,n){var i=n(78).endpoint,r=n(79);e.exports=function(e,t,n,o){var a=[i,e,"topk_safe",t].join("/");return{get:function(e){var t=a+"?k="+e;return void 0!==o&&(t+="&cache="+(!!o).toString()),r("get",{url:t}).then((function(e){var t=e.data,n=e.metadata||{};return t.map((function(e){var t=e[0],i=t.split("::"),r=parseInt(e[1],10),o=n[t];return{key:i[3],count:r,data:o}}))}))},increment:function(e,t){return r("post",{url:a+"/"+e+"/"+n,body:JSON.stringify(t)}).then((function(e){if(!e.status||"saved"!==e.status)throw new Error("not saved")}))}}}}),(function(e,t,n){var i=n(78).endpoint,r=n(79);e.exports=function(e,t,n,o){var a=[i,e,"topk",t].join("/");return{get:function(e){var t=a+"?k="+e;return void 0!==o&&(t+="&cache="+(!!o).toString()),r("get",{url:t}).then((function(e){var t=e.data,n=e.metadata||{};return t.map((function(e){var t=e[0],i=t.split("::"),r=parseInt(e[1],10),o=n[t];return o=void 0!==o&&""!==o?JSON.parse(o):undefined,{key:i[3],count:r,data:o}}))}))},increment:function(e,t){return r("post",{url:a+"/"+e+"/"+n,body:JSON.stringify(t)}).then((function(e){if(!e.status||"saved"!==e.status)throw new Error("not saved")}))}}}}),(function(e,t){var n=[60,1440,2880,4320,10080],i=[1440];e.exports={transactionsWindowSizes:n,viewWindowSizes:i}}),(function(e,t,n){e.exports=function(e,t){function i(){(-1!=a.inArray(s,l)&&-1!=a.inArray(c,d)||-1==a.inArray(s,l))&&r()}function r(){o(["#grid-STANDARD","#grid-REWARDS",".track-show-key"],(function(){t()}))}n(2)(150,[],".nh-hotels.com");var o=n(3),a=n(1),s=GetURLParameter("campid"),c=GetURLParameter("hotelId"),u=(window.location.search.indexOf("publicrates=norewards"),-1!==window.location.pathname.indexOf("/step1-rates")),l=["8565112","8431996","8435709","20236471","20405652","20197854","8432193","21808499","22551117","22700061"],d=[];u&&(function(){a.when(a.get("https://www.nh-hotels.com/images_ns/qubit/metaSearch.json")).then((function(e){d=e&&e.global,i()}))})()}}),(function(e,t){e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t){window.setTimeout(e,t||0)}}),(function(e,t){function n(e){return e=e||window.navigator.userAgent,e.indexOf("Trident/7.0")>0}e.exports=function(e){return n(e)}}),(function(e,t,n){function i(e){return-1!==o(r(),e%a)}function r(){return[1,2,3,5,8,13,21,34,55]}var o=n(0).indexOf,a=60;e.exports=i,e.exports.getValidFrames=r}),(function(e,t){var n=document,i=window.MutationObserver||window.WebKitMutationObserver;e.exports=function(e){if(!i)return!1;var t=new i(e);return t.observe(n.documentElement,{childList:!0,subtree:!0}),t}}),(function(e,t,n){var i=n(1),r=n(0).get;e.exports=function(e){if("function"==typeof e)return e()||undefined;if("string"==typeof e&&0===e.indexOf("window."))return r(window,e);var t=i(e);return 0!==t.length?t:undefined}}),(function(e,t,n){function i(e){return Array.isArray(e)?!!o(e,r):r(e)}function r(e){var t=typeof e;return"string"!==t&&"function"!==t}var o=n(0).find;e.exports=function(e,t,n){if("function"!=typeof t)throw new Error("Expected second argument to be a callback function.");if(n&&"function"!=typeof n)throw new Error("Expected third argument to be a callback function.");if(i(e))throw new Error("Expected first argument to be selector string or array containing selectors, window variables or functions.")}}),(function(e,t){e.exports=function(e,t,n){var i;return Array.isArray(e)||(e=[e]),i={targets:e,callback:t,onTimeout:n,cancel:function(){delete i.callback}}}}),(function(e,t){e.exports=function(){return(new Date).valueOf()}}),(function(e,t,n){e.exports=function(e){function t(){var e=parseFloat(i("#tab-REWARDS .js-preciototal").text().match(/[\d\.]+/));i(".price-aside .js-preciototal").html(e)}console.log("[Qubit] NH Rewards Tab Default");var i=n(1);i(".track-show-key.tab-rewards").length>0&&(t(),i("#grid-STANDARD").removeClass("active in"),i("#grid-REWARDS").addClass("active in"),i(".track-show-key:not(.tab-rewards)").removeClass("active"),i(".tab-rewards.track-show-key").addClass("active")),i(".js-btn-currency").click((function(){t()}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=(n(1),-1!==window.location.pathname.indexOf("/offers/secret-selection")),o=-1!==window.location.pathname.indexOf("/nh-collection-technology"),a=-1!==window.location.pathname.indexOf("/feel-safe/collection");(o||r||a)&&i([".logo"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Landing Collection Styles");var t=n(1);t(".logo").attr("src","https://assets.nh-hotels.net/system/collection/v3/html/img/brand/nh-collection/logo-blanco.png"),t(".logo").parent().attr("href","https://www.nh-collection.com/")}}),(function(e,t,n){e.exports=n(4)(".bg-color-primary {\n  background-color: #9d2235 !important;\n}\n.menuNav-one {\n  background: #9d2235;\n}\n.btn.btn-primary {\n  background: #9d2235;\n  border-color: #9d2236;\n}\n.btn.btn-primary:hover {\n  border-color: #9d2236;\n}\n.h1,\n.m-header-secondary .h2 {\n  color: #9d2235;\n}\n.light-skin {\n  color: #9d2235 !important;\n}\n.block-grid .grid-elem[data-size] .light-skin small {\n  color: #9d2235;\n}\n.btn-menu-right {\n  background-color: #9d2235;\n}\n.menuNav-one .box-men01 button.goMenu {\n  background-color: #9d2235;\n}\n.header-mob header {\n  background-color: #9d2235;\n}\n.text-color-blue-dark {\n  color: #9d2235 !important;\n}\n.menuNav-one .box-men02 .logo {\n  height: 35px;\n  width: auto;\n  float: left;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=-1!==window.location.pathname.indexOf("/booking/step2-personal-data"),o=-1!==window.location.pathname.indexOf("/step1-rates");r&&(e.state.set("isCheckOut",!0),console.log("isCheckOut"),i(["window.utag_data.businessType","#faqs-aside",".block-aside-your-search",".list-bullets",".top-nav-01",".js-change-copy"],(function(e){"event"==e&&t()}))),o&&(e.state.set("isRoomDisplay",!0),i(["window.utag_data.businessType",".js-change-copy",function(){return"event"===window.utag_data.businessType}],(function(){t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] CGW coming users");var t=n(1);e.state.get("isCheckOut")&&(t(".block-aside-your-search").parent().nextAll().hide(),t("#faqs-aside").parent().parent().show(),t(".checkout .container .list-bullets li:first").next().hide(),t(".top-nav-01 .list-unstyled").hide(),t(".js-change-copy").hide()),e.state.get("isRoomDisplay")&&t(".js-change-copy").hide()}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=n(1),o=["ESAI.CRIST","ESAI.ALICA","FR06.NICE","FR13.COLMA","ESMU.AMIMU","FR69.LYONA"];i(["window.utag_data.products_id","#grid-STANDARD","#grid-REWARDS"],(function(e){-1!=r.inArray(e[0],o)&&t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] FCFR");var t=n(1);t('input[name="ratePriceCode"]').each((function(){if(-1==t(this).val().indexOf("AP")&&-1==t(this).val().indexOf("SD")){var e=t(this).parent().find("button");e.text("Not available"),e.prop("disabled",!0),e.addClass("not-available"),e.parent().removeAttr("action"),e.parent().removeAttr("id")}}))}}),(function(e,t,n){e.exports=n(4)(".not-available {\n  padding: 1px 10px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){if(o("input[name='pcode']").length>0&&""==o("input[name='pcode']:first").val())return!0}n(2)(150,[],".nh-hotels.com");var r=n(3),o=n(1);GetURLParameter("pcode")||r([".js-get-reservation-data",".block-summary-search",".nav-tabs",i],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Search bar clickable");var t=n(1);t(".js-get-reservation-data").removeClass("js-get-reservation-data js-get-form-values"),t(".block-summary-search").attr("data-target","#reservation-modal"),t(".block-summary-search").attr("data-toggle","modal"),t(".block-summary-search button").removeAttr("data-toggle data-target")}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.fr");var i=n(3),r=-1!==window.location.pathname.indexOf("/step1-rates"),o=-1!==window.location.pathname.indexOf("/booking/step2-personal-data"),a=-1!==window.location.pathname.indexOf("/b2b/home"),s=-1!==window.location.pathname.indexOf("/booking/hotels/");r&&(e.state.set("isRoomDisplay",!0),i(["window.utag_data.businessType",".block-aside-why-us",".block-aside-your-search",function(){return"B2B"===window.utag_data.businessType}],(function(){t()}))),o&&(e.state.set("isCheckOut",!0),i(["window.utag_data.businessType","#faqs-aside"],(function(e){"B2B"==e&&t()}))),a&&(e.state.set("isB2BHome",!0),i([".b2b-submenu",".box-men03"],(function(){t()}))),s&&(e.state.set("isResults",!0),i([".b2b-submenu",".box-men03",".box-men04",".nh-breadcrumb"],(function(){t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] B2B coming users");var t=n(1);e.state.get("isRoomDisplay")&&(t(".block-aside-why-us").parent().hide(),t(".block-aside-why-us").parent().prev().prev().hide()),e.state.get("isCheckOut")&&t("#faqs-aside").parent().parent().prev().hide(),e.state.get("isB2BHome")&&(t(".b2b-submenu .dropdown-menu li:nth-last-child(2)").hide(),t(".box-men03 li:lt(2)").remove()),e.state.get("isResults")&&(t(".b2b-submenu .dropdown-menu li:nth-last-child(2)").hide(),t(".nh-breadcrumb").hide(),t(".box-men03").remove(),t(".box-men04").remove())}}),(function(e,t,n){e.exports=function(e,t){n(2)(100);var i=n(3),r=n(1),o=["ESGC.LANZA","ESTF.TENER","ESGC.BRIST","ESGC.IMPER","ESGC.CANTE","ESGC.DORAD"];i(["window.utag_data.search.idHotel",".two-tabs","#room-grid-selection"],(function(e){-1!=r.inArray(e,o)&&""==r("input[name='pcode']:first").val()&&t()}))}}),(function(e,t,n){e.exports=function(e){function t(t){o(["window.ga","window.ga.getByName",i],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function i(){if(window.ga.getByName("gap"))return!0}var r=n(1),o=n(3);console.log("[Qubit] Residentes Canarios");var a=window.location.href.toString()+"&voucherCode=RESIDENTESCANARIOS";console.log(a);r("#room-grid-selection").after('<div class="row" style="margin-bottom: 10px;"><div class="col-sm-12"><small class="pull-left"><a class="link" id="residentesCanarios" href="https://www.nh-hotels.com/booking/deals/search?pcode=300085" class="residents" role="button">Are you a resident in the Canary islands? Click here.</a></small></div></div>'),r("#residentesCanarios").click((function(e){t("Canary Residents Click")}))}}),(function(e,t,n){e.exports=n(4)("#residentesCanarios {\n  cursor: pointer;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com"),n(3)(["window.utag_data.products_id","window.utag_data.businessType",".content-your-search .total-price","#info-bill","window.jQuery","window.Utils.getGeoIpData","#country-bill",function(){return"B2C"===window.utag_data.businessType},function(){return""!=$("#country-bill").val()}],(function(e,n,i){parseInt(i.contents().get(0).nodeValue)>=400&&"ES"===e[0].substring(0,2)&&t()}))}}),(function(e,t){e.exports=function(e){function t(){-1!=$.inArray($("#country-bill").val(),n)?$("#nif-bill").val(""):$("#nif-bill").val("Not necessary")}console.log("[Qubit] Prepay Invoice Mandatory (v4)");var n=["AT","BE","BG","CY","HR","DK","SK","SI","ES","EE","FI","FR","GR","HU","IE","IT","LV","LT","LU","MT","PL","PT","GB","CZ","RO","SE","VE","MX","CO","CL","AR"];$("#need-bill").closest(".box-light").hide(),$("#invoiceRequired").val("true"),$("#info-bill").addClass("in"),$("#info-bill").attr("aria-expanded","true"),t(),$("#country-bill").change((function(){t()}))}}),(function(e,t,n){e.exports=n(4)(".titular {\n  border-bottom: 0px !important;\n  margin-bottom: 25px;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=-1!==window.location.pathname.indexOf("/step1-rates"),o=-1!==window.location.pathname.indexOf("/booking/step2-personal-data");r&&(e.state.set("isRoomDisplay",!0),i(["window.utag_data.tipo_usuario",".block-aside-your-search"],(function(e){"agency"==e&&t()}))),o&&(e.state.set("isCheckOut",!0),i(["window.utag_data.tipo_usuario","#faqs-aside"],(function(e){"agency"==e&&t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] TravelPartiner coming users");var t=n(1);e.state.get("isRoomDisplay")&&t(".block-aside-your-search").parent().next().next().hide(),e.state.get("isCheckOut")&&t("#faqs-aside").parent().parent().prev().hide()}}),(function(e,t,n){e.exports=function(e,t){function i(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;t&&m.test(t)&&r()}))}function r(){setTimeout((function(){l(g,(function(){t(),d.val(f)||s("1")}))}),v)}function o(){$("input[name=ratePriceCode][value=NHR_PACKDN], input[name=ratePriceCode][value=PACK_DYN]").parent().find(".track-select-room").click((function(){console.log("Click romano"),e.emitCustomGoal("romanPass:Price-clicked")}))}function a(){"1"===d.val(f)&&(e.emitCustomGoal("romanPass:bounce:not-bounce"),s("2"))}function s(t){d.set(f,t,{domain:e.meta.cookieDomain,path:"/"})}function c(t){l(["window.ga","window.ga.getByName",u],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function u(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var l=n(3),d=n(6),p=e.data,f=(p.thresholdSessionMaximum,p.thresholdPageViewMaximum,"t009-nonBouncer"),m=/computer|tablet/i,v=2e3,g="body";return-1!==window.location.pathname.indexOf("/step1-rates")&&l([".two-tabs","#room-grid-selection"],(function(){($("input[name=ratePriceCode][value=NHR_PACKDN]").size()>0||$("input[name=ratePriceCode][value=NHR_PACKDN]").size()>0)&&(a(),o(),i())})),{onActivation:function(){c("Banner: Roman Pass")}}}}),(function(e,t,n){e.exports=function(e){function t(e,t,n,r,o,a){B++;var s=1===e,c=5===e,u=t&&""!==t,l=n&&""!==n,d=r&&""!==r,p=o&&""!==o,f='\n      <div class="'+(c?"t009-fivethTile":"t009-tile")+" "+(s?"t009-firstTile":"")+" t009-tile"+B+'">\n        '+(u?'<div class="t009-tileTitle '+(s?"t009-firstTileTitle":"")+'">'+t+"</div>":"")+"\n        "+(l?'<div class="t009-tileText">'+n+"</div>":"")+"\n        "+(d?'<div class="t009-tileLink t009-tileLink'+e+'">'+r+'<span class="t009-tileTextArrow">&#9656;</span></div>':"")+" \n        "+(p?'<div class="t009-tileButton t009-tileButton'+e+'">'+o+"</div>":"")+"\n      </div>\n    ";return a&&i(document).on("click",".t009-tileButton"+e+", .t009-tileLink"+e,(function(){setTimeout((function(){if(d){window.open(a,"_blank").focus()}else window.location.href=a}),250)})),f}var i=n(1);console.log("[Qubit] Banner Roman Pass");var r=e.data,o=r.textColor,a=r.bannerColor,s=r.mainImage,c=r.isTile1,u=r.isTile2,l=r.isTile3,d=r.isTile4,p=r.isTile5,f=r.title1,m=r.text1,v=r.linkText1,g=r.buttonText1,h=r.URL1,b=r.title2,y=r.text2,w=r.linkText2,x=r.buttonText2,_=r.URL2,k=r.title3,T=r.text3,I=r.linkText3,A=r.buttonText3,S=r.URL3,E=r.title4,C=r.text4,R=r.linkText4,j=r.buttonText4,M=r.URL4,N=r.title5,O=r.text5,P=r.linkText5,L=r.buttonText5,q=r.URL5,D="\n    .t009-banner a {\n      color: "+o+";\n      text-decoration: underline;\n    }\n    .t009-banner {\n      height: 150px;\n      position: fixed;\n      bottom: -150px;\n      background-color: "+a+";\n      color: "+o+";\n      z-index: 999;\n      font-family: Gotham;\n    }\n      .t009-bannerContent {\n        position: relative;\n        height: 100%;\n      }\n        .t009-bannerCloseContent {\n          width: 20px;\n          height: 100%;\n          display: inline-block;\n        }\n        .t009-bannerClose {\n          cursor: pointer;\n          position: absolute;\n          top: 6px;\n          right: 10px;\n          color: "+o+";\n        }\n        .t009-preImageTile {\n          display: inline-block;\n          height: 100%;\n          width: auto;\n          max-width: 400px;\n          vertical-align: top;\n        }\n          .t009-preImageTile > img {\n            height: 100%;\n          }\n        .t009-tile {\n          vertical-align: top;\n          width: 240px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n        .t009-firstTile {\n          border-left: none !important;\n        }\n          .t009-tileTitle {\n            height: 45px;\n            margin-top: 8px;\n            font-size: 15px;\n            text-transform: uppercase;\n            font-weight: bold;\n          }\n          .t009-tileText {\n            margin-bottom: 15px;\n            font-size: 13px;\n            line-height: 16px;\n          }\n          .t009-tileButton {\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n            background-color: white;\n            color: "+a+";\n            padding: 5px 10px;\n            border-radius: 6px;\n            font-weight: bold;\n            width: 80%;\n            text-transform: uppercase;\n          }\n          .t009-firstTileTitle {\n            font-family: Gotham;\n            font-size: 20px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            height: 80px;\n          }\n          .t009-tileLink {\n            letter-spacing: 2px;\n            text-decoration: underline;\n            cursor: pointer;\n          }\n          .t009-tileTextArrow {\n            text-decoration: none;\n            display: inline-block;\n            margin-left: 5px;\n          }\n        .t009-fivethTile {\n          vertical-align: top;\n          width: 480px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n          .t009-fivethTileContent {\n            \n          }\n        \n    .t009-tile5 {\n      display: none !important;\n    }\n    @media screen and (max-width: 1280px) {\n      .t009-tile4 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 1030px) {\n      .t009-tile3 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 780px) {\n      .t009-tile2 {\n        display: none !important;\n      }\n    } \n    @media screen and (max-width: 530px) {\n      .t009-banner {\n        display: none !important;\n      }\n    } \n\n    .t009-showAnimation {\n      -webkit-animation: t009-showAnimation 3s forwards;\n    }\n    @-webkit-keyframes t009-showAnimation {\n      0% {\n        bottom: -150px;\n      }\n      100% {\n        bottom: 0px;\n      }\n    }    \n  ",B=0,H=(function(){return i('\n      <div class="t009-banner">\n        <div class="t009-bannerContent">\n          <div class="t009-preImageTile">\n            <img src="'+s+'" alt=""/>\n          </div>\n          '+(c?t(1,f,m,v,g,h):"")+"\n          "+(u?t(2,b,y,w,x,_):"")+"\n          "+(l?t(3,k,T,I,A,S):"")+"\n          "+(d?t(4,E,C,R,j,M):"")+"\n          "+(p?t(5,N,O,P,L,q):"")+'\n          <div class="t009-bannerCloseContent"><div id="t009-close" class="t009-bannerClose">\u2715</div></div>\n        </div>\n      </div>\n    ')})();H.click((function(t){t&&t.target&&"t009-close"===t.target.id?(H.fadeOut("1000"),e.emitCustomGoal("romanPass-bannerClose")):e.emitCustomGoal("romanPass:banner:clicked")})),(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(D),H.hide(),i("body").append(H),H.fadeIn("1000").addClass("t009-showAnimation")}}),(function(e,t,n){e.exports=function(e,t){function i(){c(["window.utag_data.idHotel","window.utag_data.resTarifa","window.utag_data.businessType",".bg-color-green-20",".js-get-checkout","#rooms",".box-checkout.total-price",".content-your-search .text-color-green.small","#room-01-comments",".js-gdpr-check",function(){return"B2C"===window.utag_data.businessType}],(function(n,i){-1==i.indexOf("NHR_")&&-1==i.indexOf("R_")||-1!=u.inArray(n,a)||(-1!=u.inArray(n,r)&&e.state.set("reducedLateCheckout",!0),-1!=u.inArray(n,o)&&e.state.set("excludedLateCheckout",!0),-1==u.inArray(n,s)&&-1!=u.inArray(i,d)&&e.state.set("includedFreeCancellation",!0),t())}))}n(2)(150,[],"nh-hotels.com");var r,o,a,s,c=n(3),u=n(1),l=-1!==window.location.pathname.indexOf("/booking/step2"),d=["NHR_BAR","NHR_BAR_Z","R_BAR_15","R_BAR15_Z","R_BAR_10","R_BAR10_Z","NHR_FLEXBB","NH_FLEX_Z","NHR_FLBBLC","NHR_FBLC_Z","R_FLEXB_10 ","R_FLBBZ_10","R_FLEXL_10","R_FLLCZ_10","R_FLEXB_15","R_FLBBZ_15","R_FLEXL_15","R_FLLCZ_15"];l&&(function(){u.when(u.get("https://www.nh-hotels.com/images_ns/qubit/wppHotels.json")).then((function(e){a=e&&e.excludedHotels,o=e&&e.excludedLateCheckout,r=e&&e.reducedLateCheckout,s=e&&e.excludedFreeCancellation,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] WPP: Checkout");var t=n(1),i="3:00 pm";e.state.get("reducedLateCheckout")&&(i="5:00 pm");var r=" Enjoy free late check-out at "+i,o='<br><span class="text-color-green small"><span class="icon-simple-check text-color-green xxs" style="background-image: none;"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#878787;}</style><path class="st0" d="M22.9 54.9L0 32.9l6.4-6.2 16.5 15.8L57.6 9.1l6.4 6.2z"></path></svg></span> 5 extra NH Rewards points</span>';if(t("#rooms").next().find(".text-color-green").first().append(o),t(".box-checkout.total-price .bg-color-green-20").find(".text-color-green.small").last().append(o),!e.state.get("excludedLateCheckout")&&(function(e){var t=e.split("/"),n=t[1]+"/"+t[0]+"/"+t[2];return 0==new Date(n).getDay()})(t(".js-get-checkout").html())){var a='<div class="bg-color-green-20 padding10"><span class="text-color-green small" style="font-size: 13px;"><span style="background-image: none;" class="text-color-green xs"></span>'+r+"</span><br></div>";t(".list-bullets").after(a),t("#room-01-comments").val(""),t("#GDPR_flag_2").on("change",(function(){if(this.checked){var e=t("#room-01-comments").val();t("#room-01-comments").val(e+" -- LATE CHECKOUT INCLUDED UNTIL "+i+" -- ")}}))}if(e.state.get("includedFreeCancellation")){t(".js-form-checkout-ey .track-book").closest(".row").before('<div class="row" style="margin-bottom:30px;"><div class="col-md-12"><div class="bg-color-green-20" style="padding:5px;"><span class="text-color-green small" style="font-size: 13px;"><span style="background-image: none;" class="text-color-green xs"><span class="icon-simple-check text-color-green xxs" style="background-image: none;"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#878787;}</style><path class="st0" d="M22.9 54.9L0 32.9l6.4-6.2 16.5 15.8L57.6 9.1l6.4 6.2z"></path></svg></span>Free Cancellation </span><br></div></div></div>')}}}),(function(e,t,n){e.exports=n(4)("/*.off-small {\n  color: #009FDF;\n}*/\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return""!==o(".lead-block-aside .dynamicTelephone").text()}n(2)(150,[],"nh-hoteles.es");var r=n(3),o=n(1);-1!==window.location.pathname.indexOf("/booking/step2")&&r([".lead-block-aside .dynamicTelephone",".phoneHeader",i],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] CRO number");var t=n(1),i={"+54":"+54 11 68 419 937 (AR)","+43":"+43 13 850 192 (AT)","+32":"+32 22 732 691 (BE)","+57":"+57 1 381 28 89 (CO)","+33":"+33 17 65 46 417 (FR)","+49":"+49 30 22 38 05 41 (DE)","+39":"+39 02 35 400 542 (IT)","+52":"+52 55 95 96 84 39 (MX)","+31":"+31 204 990 453 (NL)","+351":"+351 215 562 149 (PT)","+34":"+34 91 600 91 43 (ES)","+41":"+41 225 295 963 (CH)","+44":"+44 20 34 990 137 (GB)","+1":"+1 92 91 071 072 (US)"},r=t(".lead-block-aside .dynamicTelephone").text().split(" ")[0],o=i[r];t(".phoneHeader").text(o),t(".phoneHeader").append('<b class="caret"></b>'),t(".dynamicTelephone").first().text(o.substring(0,o.length-4)),t(".dynamicTelephone").first().attr("href","tel:"+o.substring(0,o.length-5))}}),(function(e,t,n){e.exports=n(4)("/*.off-small {\n  color: #009FDF;\n}*/\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return o(".content-box a").length>7}n(2)(150,[],".nh-hotels.com");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/social-events/olofs"),s=-1!==window.location.pathname.indexOf("/social-events/olofs/meetings");a&&(s&&e.state.set("meetings",!0),r([".block-landing-text",i],(function(){t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Olof");var t=n(1),i=t(".content-box a").length;if(t(".content-box a").each((function(e){if(e!=i-1&&0!=e){var n=t(this).attr("href"),r=t(this).text();t(this).closest("p").html('<br><a href="'+n+'" target="_blank" title="Quote" class="btn btn-block btn-lg btn-primary bookNowButton">'+r+"</a>")}})),e.state.get("meetings")){var r=t(".content-box a").first(),o=r.attr("href"),a=r.text();r.closest("p").html('<br><a href="'+o+'" target="_blank" title="Quote" class="btn btn-block btn-lg btn-primary bookNowButton">'+a+"</a>")}}}),(function(e,t,n){e.exports=n(4)("ul#horizontal,\n#horizontal ul {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 30px;\n}\n#horizontal li {\n  float: left;\n  padding-right: 10px;\n  padding-left: 0px !important;\n  margin-bottom: 0px !important;\n}\n#horizontal {\n  float: left;\n  width: 100%;\n  border-bottom: 1px solid #003a70;\n}\n#horizontal a:link {\n  text-align: center;\n  text-decoration: none;\n  text-transform: uppercase;\n  font-family: arial;\n  font-size: 13px;\n}\n#horizontal a {\n  display: block;\n  line-height: 50px;\n  padding: 10px 15px;\n  color: #7d7d7d;\n  font: bold 12px Helvetica, Arial, sans-serif;\n  text-decoration: none;\n  text-shadow: 0 1px 0 #fff;\n  -webkit-transition: border-color 0.218s;\n  -moz-transition: border 0.218s;\n  -o-transition: border-color 0.218s;\n  transition: border-color 0.218s;\n  background: -webkit-gradient(linear, 0% 40%, 0% 70%, from(#F5F5F5), to(#F1F1F1));\n  background: -moz-linear-gradient(linear, 0% 40%, 0% 70%, from(#F5F5F5), to(#F1F1F1));\n}\n#horizontal a:hover {\n  color: #003a70 !important;\n  border-bottom: 3px solid #003a70;\n}\n#horizontal li.hideshow a:hover {\n  padding-bottom: 10px;\n}\n#horizontal li.hideshow ul {\n  position: absolute;\n  background: #ffffff;\n  display: none;\n  left: 0px;\n  z-index: 100;\n  border: 1px solid #003a70;\n}\n@media screen and (max-width: 500px) {\n  #horizontal a:link {\n    font-size: 13px;\n  }\n  #horizontal li {\n    float: left;\n    padding-right: 0px;\n    padding-left: 0px !important;\n    margin-bottom: 0px !important;\n  }\n  #horizontal li.hideshow a:hover {\n    padding-bottom: 10px;\n  }\n  #horizontal li.hideshow a {\n    margin-top: 0px !important;\n  }\n  #horizontal a {\n    padding: 10px 10px;\n  }\n  #horizontal {\n    margin-top: -30px !important;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/booking/meetings/confirmation")&&i([".me.me-confirmation"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Meetings Survey");n(1)(".me.me-confirmation .container:first").append('<div class="box m-rewards-suscribe full-width"><div class="rewards-suscribe"><img src="https://www.nh-hotels.com/images_ns/qubit/survey-icon-19203.png" alt="" style="width: 136px;margin-left: 3%;"><div class="rewards-content"><h2 class="h3">Rate our request for proposal process</h2><p>Help us improve by answering a few simple questions</p><a href="https://customersurvey.nh-hotels.com/nhsurveyqr/ec55534e-4f69-4c65-8967-13c1c3e2b963/_/EN" class="btn btn-primary">Give us your opinion</a></div></div></div>')}}),(function(e,t,n){e.exports=n(4)("ul#horizontal,\n#horizontal ul {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  margin-bottom: 30px;\n}\n#horizontal li {\n  float: left;\n  padding-right: 10px;\n  padding-left: 0px !important;\n  margin-bottom: 0px !important;\n}\n#horizontal {\n  float: left;\n  width: 100%;\n  border-bottom: 1px solid #003a70;\n}\n#horizontal a:link {\n  text-align: center;\n  text-decoration: none;\n  text-transform: uppercase;\n  font-family: arial;\n  font-size: 13px;\n}\n#horizontal a {\n  display: block;\n  line-height: 50px;\n  padding: 10px 15px;\n  color: #7d7d7d;\n  font: bold 12px Helvetica, Arial, sans-serif;\n  text-decoration: none;\n  text-shadow: 0 1px 0 #fff;\n  -webkit-transition: border-color 0.218s;\n  -moz-transition: border 0.218s;\n  -o-transition: border-color 0.218s;\n  transition: border-color 0.218s;\n  background: -webkit-gradient(linear, 0% 40%, 0% 70%, from(#F5F5F5), to(#F1F1F1));\n  background: -moz-linear-gradient(linear, 0% 40%, 0% 70%, from(#F5F5F5), to(#F1F1F1));\n}\n#horizontal a:hover {\n  color: #003a70 !important;\n  border-bottom: 3px solid #003a70;\n}\n#horizontal li.hideshow a:hover {\n  padding-bottom: 10px;\n}\n#horizontal li.hideshow ul {\n  position: absolute;\n  background: #ffffff;\n  display: none;\n  left: 0px;\n  z-index: 100;\n  border: 1px solid #003a70;\n}\n@media screen and (max-width: 500px) {\n  #horizontal a:link {\n    font-size: 13px;\n  }\n  #horizontal li {\n    float: left;\n    padding-right: 0px;\n    padding-left: 0px !important;\n    margin-bottom: 0px !important;\n  }\n  #horizontal li.hideshow a:hover {\n    padding-bottom: 10px;\n  }\n  #horizontal li.hideshow a {\n    margin-top: 0px !important;\n  }\n  #horizontal a {\n    padding: 10px 10px;\n  }\n  #horizontal {\n    margin-top: -30px !important;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return v(".track-select-room").length>2}function r(){/booking\/step1-rates/i.test(h)?o():/booking\/step2/i.test(h)&&e.emitCustomGoal("t008:step2:seen")}function o(){d.hotelIDs?f("window.utag_data.idHotel",(function(e){-1==d.hotelIDs.indexOf(e)&&a()})):a()}function a(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;x.test(t)&&s()}))}function s(){f(_,(function(e,t,n,i){for(var r=y.roomCategoryCode||[],o=y.ratePriceCode||[],a=y.regimen||[],s=0;s<t.length;s++){var l=t.eq(s).val(),d=n.eq(s).val(),p=i.eq(s).val(),f=c(r,l),m=c(o,d),v=c(a,p);f&&m&&v&&b.push(e.eq(s))}b.length>0&&u()}))}function c(e,t){if(e&&0===e.length)return!0;for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function u(){m.val(g)||l("1"),e.state.set("config",{message:w,inputToHightlight:b}),t();for(var n=0;n<b.length;n++)b[n].parent().parent().parent().find(".vmiddle-element form button").click((function(){e.emitCustomGoal("t008:button:clicked")}))}function l(t,n){m.set(t,n,{domain:e.meta.cookieDomain,path:"/"})}var d={configPromo:{text:"Your selection"}},p=["8565112","8431996","8435709","20236471","20405652","20197854","8432193","21808499","22551117","22700061"];n(2)(150,[],".nh-hotels.com");var f=n(3),m=n(6),v=n(1),g="x-t008-seen",h=window.location.pathname,b=[],y=d.configPromo,w=y.text,x=/computer/i,_=[".total-price",'form input[name="roomCategoryCode"]','form input[name="ratePriceCode"]','form input[name="regimen"]',i];!(function(){"1"===m.val(g)&&(e.emitCustomGoal("t008:bonce:not-bounce"),l("2"))})(),(function(){console.log("getMetaParameters");var t=GetURLParameter("campid"),n=GetURLParameter("roomcode"),i=GetURLParameter("rateplan").replace("*","R"),o=GetURLParameter("regimen");-1!=v.inArray(t,p)&&n&&i&&o&&(d.configPromo.roomCategoryCode=[n],d.configPromo.ratePriceCode=[i],d.configPromo.regimen=[o],e.state.set("ratePlan",i),r())})()}}),(function(e,t,n){e.exports=function(e){function t(){if(console.log(c),-1!=c.indexOf("NHR")&&i(".track-show-key.tab-rewards").length>0){var e=parseFloat(i("#tab-REWARDS .js-preciototal").text().match(/[\d\.]+/));i(".price-aside .js-preciototal").html(e),i("#grid-STANDARD").removeClass("active in"),i("#grid-REWARDS").addClass("active in"),i(".track-show-key:not(.tab-rewards)").removeClass("active"),i(".tab-rewards.track-show-key").addClass("active")}}console.log("[Qubit] Meta marker v1");var i=n(1),r=n(3),o=e.state.get("config"),a=o.inputToHightlight,s=o.message,c=e.state.get("ratePlan");!(function(){r(["#grid-STANDARD","#grid-REWARDS",".track-show-key"],(function(){t()}))})();for(var u='\n    <div class="meta-tooltip">\n      <div class="meta-tooltipContent">\n        <div class="meta-text">'+s+'</div>\n        <div class="meta-arrow"></div>\n      </div>\n    </div>\n  ',l=0;l<a.length;l++){a[l].addClass("meta-price").parent().find("small").prepend(u)}}}),(function(e,t,n){e.exports=n(4)(".meta-price {\n  color: #ffa300;\n  font-weight: bold;\n}\n.meta-tooltip {\n  position: absolute;\n  background: #ffa300;\n  color: white;\n  white-space: nowrap;\n  padding: 0px 5px;\n  border-radius: 4px;\n  right: 0;\n  margin-top: -30px;\n  margin-left: 5px;\n}\n.meta-tooltip .meta-tooltipContent .meta-text {\n  letter-spacing: 1px;\n  font-family: Gotham;\n  font-size: 12px;\n  padding: 3px;\n  position: relative;\n  z-index: 100;\n}\n.meta-tooltip .meta-tooltipContent .meta-arrow {\n  width: 10px;\n  height: 10px;\n  right: 44%;\n  margin-top: -6px;\n  display: block;\n  position: absolute;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  background: #ffa300;\n}\n@media screen and (max-width: 1200px) {\n  .meta-tooltip {\n    margin-left: -20px;\n  }\n}\n@media screen and (max-width: 991px) {\n  .meta-tooltip {\n    margin-left: -16px;\n  }\n}\n@media screen and (max-width: 767px) {\n  .meta-tooltip {\n    display: none !important;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return o(".phoneHeader").text()}n(2)(150,[],".nh-hotels.com");var r=n(3),o=n(1);-1!==window.location.pathname.indexOf("/step1-rates")&&r([".text-hotel",i],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Hotel Phone");var t=n(1),i=t(".phoneHeader").text(),r=i.substring(0,i.length-5);t(".text-hotel p:last a").text(r)}}),(function(e,t,n){e.exports=function(e,t){function i(t){o(["window.utag_data.products_id","window.utag_data.businessType",function(){return"B2C"===window.utag_data.businessType}],(function(n){-1!=a.inArray(n[0],t.excludedHotels)&&e.state.set("notShow",!0),-1!=a.inArray(n[0],t.excludedFreeCancellation)&&e.state.set("notFreeCancelation",!0),-1!=a.inArray(n[0],t.excludedLateCheckout)&&e.state.set("notLateCheckout",!0),r()}))}function r(){o([".block-aside-why-us",".block-aside-rewards","window.jQuery"],(function(){t()}))}n(2)(150,[],"nh-hotels.com");var o=n(3),a=n(1);-1!==window.location.pathname.indexOf("/booking/step1-rates")&&(function(){a.when(a.get("https://www.nh-hotels.com/images_ns/qubit/wppHotels.json")).done((function(e){i(e)}))})()}}),(function(e,t){e.exports=function(e){if(console.log("[Qubit] WPP asides"),e.state.get("notShow"))$(".block-aside-why-us").parent().hide();else{$(".block-aside-rewards").first().parent().after($(".block-aside-why-us").parent());var t=$(".block-aside-why-us .title-block-room-display").text();$(".block-aside-why-us").append('<div class="only-at"><span class="h4">Only at nh-hotels.com</span></div>'),$(".block-aside-border.block-aside-why-us").prepend('<div class="row"><div class="col-sm-9"><h3 class="title-block-room-display">'+t+'</h3></div><div class="col-sm-3"><svg class="tick" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><polygon style="fill: #48a23f;" class="st0" points="434.8,49 174.2,309.7 76.8,212.3 0,289.2 174.1,463.3 196.6,440.9 196.6,440.9 511.7,125.8 434.8,49"/></g></svg></div></div>'),$(".block-aside-why-us .title-block-room-display").not(":first").hide(),e.state.get("notLateCheckout")&&$(".list-why-us li").last().remove(),e.state.get("notFreeCancelation")&&$(".list-why-us li").last().prev().remove()}}}),(function(e,t,n){e.exports=n(4)(".block-aside-why-us .only-at {\n  background: #48a23f;\n  text-align: center;\n  padding: 18px 0;\n}\n.block-aside-why-us .title-block-room-display {\n  padding: 15px 10px 0px 15px;\n}\n.only-at .h4 {\n  color: #fff;\n  padding-bottom: 0;\n}\n.block-aside-border.block-aside-why-us {\n  padding: 0;\n}\n.block-aside-border.block-aside-why-us .list-why-us li {\n  font-size: 14px;\n}\n.list-why-us {\n  padding: 0 10px;\n}\n.list-why-us .circle-icon {\n  width: 40px !important;\n  height: 40px !important;\n}\n.tick {\n  width: 61px;\n  margin-top: 20px;\n  margin-right: 15px;\n  left: -19px;\n  margin-left: -40px;\n  display: block;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){$(".js-account-rewards").click((function(){e.emitCustomGoal("NHR:clicked")}))}function r(t){a(["window.ga","window.ga.getByName",o],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function o(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],".nh-hotels.com");var a=n(3);return-1!==window.location.pathname.indexOf("/booking/step2")&&a(["window.utag_data.resTarifa",".join-rewards-no-logged",".js-account-rewards","#GDPR_flag_5"],(function(e){-1==e.indexOf("NHR")&&(t(),i())})),{onActivation:function(){r("No NHR Box Public")}}}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] No NHR Box Public Prices");var t=n(1);t(".join-rewards-no-logged").remove(),t("input[name='GDPR_flag_5']").remove()}}),(function(e,t,n){e.exports=n(4)(".m-checkout-data-rewards {\n  border-bottom: 0px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){$(".button-submit").click((function(){e.emitCustomGoal("NHR-signup:second")}))}n(2)(150,[],".nh-hotels.com");var r=n(3);-1!==window.location.pathname.indexOf("/nhrewards/signup")&&"wifi"==GetURLParameter("origin")&&r([".hotelData",".button-submit"],(function(){i(),t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Wifi NHR");var t=n(1);t(".hotelData .row").hide(),t(".hotelData").append('<div class="row nhr-wifi"><div class="col-md-12"><img src="https://www.nh-hotels.com/images_ns/qubit/LogoNHR.png" alt="NHR-Logo"><p class="p1">More generous. Easier. Better.</p><p class="p2">Do you want to earn up to 7% of the invoice value of your stay in NH Rewards points? Earn more points every time you visit us, so that you can use them  for free nights, with total flexibility. It\u2019s never been easier to upgrade and enjoy exclusive benefits!</p><p class="p1">Register now!</p><p><a href="https://google.com" class="btn btn-primary btn-lg custom-button" id="browse-button" data-toggle="modal"> Continue browsing </a><a  class="btn btn-primary btn-lg custom-button" id="signup-button" data-toggle="modal" target="_blank"> Sign up!</a></p></div></div>'),t(".button-submit").parent().before('<div class="pull-left"><a style="margin-top: 10px;display: inline-block;" class="link-primary" id="return-button">Return</a></div>'),t("#signup-button").click((function(){t(".hotelData .row").show(),t(".hotelData .row.nhr-wifi").hide(),e.emitCustomGoal("NHR-signup:first")})),t("#return-button").click((function(){t(".hotelData .row").hide(),t(".hotelData .row.nhr-wifi").show()}))}}),(function(e,t,n){e.exports=n(4)(".custom-button {\n  margin: 10px;\n  font-size: 14px !important;\n}\n.nhr-wifi img {\n  width: 60% !important;\n  display: block;\n  margin: 0 auto;\n}\n.nhr-wifi p {\n  text-align: center;\n  margin-top: 25px;\n}\n.p1 {\n  font-size: 17px;\n  font-weight: bold;\n}\n.p2 {\n  font-size: 16px;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){a(["window.utag_data.products_id","window.utag_data.businessType",".overflow-gallery","#tab-REWARDS","#grid-REWARDS",function(){return"B2C"===window.utag_data.businessType}],(function(n){u[n]&&""==s("input[name='voucherCode']:first").val()&&(e.state.set("promo",u[n].promo),e.state.set("discount",u[n].discount),t())}))}function r(t){a(["window.ga","window.ga.getByName",o],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function o(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var a=n(3),s=n(1),c=-1!==window.location.pathname.indexOf("/step1-rates"),u=[];return c&&(function(){s.when(s.get("https://www.nh-hotels.com/images_ns/qubit/promoHotels.json")).then((function(e){u=e,i()}))})(),{onActivation:function(){e.state.get("secretSelectionHotel")?r("SS: Room Display"):e.state.get("smartChoiceHotel")&&r("SC: Room Display")}}}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] SC&&SS: RoomDisplay");var t=n(1),i=e.state.get("discount"),r='<p class="ribbon"><span class="text"><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/qubit/smile.png" alt="Smart Choice Hotel"> Smart Choice Hotel with '+i+" off only on our website </span></p>",o='<p class="ribbon"><span class="text"><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/livechat/ICON-40X40.png" alt="Secret Selection Hotel" > Secret Selection Hotel with '+i+" off only on our website </span></p>",a=" ("+i+" off included)";t(".tab-rewards .display-inline.js-currency").append(a),"smartChoice"==e.state.get("promo")?(t(".overflow-gallery").after(r),t(".banner-rewards-tabs span").html("This is a <b> Smart Choice </b>Hotel with "+i+" off for NH Rewards Members. You will be able to login or sign up in the next step of the booking process.")):"secretSelection"==e.state.get("promo")&&(t(".overflow-gallery").after(o),t(".banner-rewards-tabs span").html("This is a <b>Secret Selection </b> Hotel with "+i+" off for NH Rewards Members. You will be able to login or sign up in the next step of the booking process."))}}),(function(e,t,n){e.exports=n(4)("/* Ribbon horizontal */\n.ribbon {\n  font-size: 15px;\n  position: absolute;\n  display: inline-block;\n  margin: 5em;\n  text-align: center;\n  left: -65px;\n  top: -40px;\n}\n.ribbon .text {\n  display: inline-block;\n  padding-top: 9px;\n  padding-bottom: 7px;\n  padding-left: 20px;\n  padding-right: 15px;\n  min-width: 21em;\n  line-height: 1.2em;\n  background: #FFCA2E;\n  position: relative;\n  z-index: 20;\n  color: black;\n  font-size: 14px;\n}\n.ribbon .text:before {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  content: '';\n  height: 0;\n  width: 0;\n  border-bottom: 8px solid transparent;\n  border-right: 15px solid #b9a159;\n}\n.ribbon .text:after {\n  position: absolute;\n  top: 0;\n  right: -20px;\n  content: '';\n  height: 0;\n  width: 0;\n  border-bottom: 33px solid transparent;\n  border-left: 20px solid #ffca2e;\n}\n.iconRibbon {\n  display: inline-block;\n  position: relative;\n  margin-right: 10px;\n  margin-top: -3px;\n  height: 20px;\n  width: 20px;\n}\n.included {\n  color: #48a23f;\n  font-size: 12px;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){r(["window.utag_data.products_id",".m-gallery"],(function(n){s[n]&&(e.state.set("promo",s[n].promo),e.state.set("discount",s[n].discount),t())}))}n(2)(150,[],"nh-hotels.fr");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/hotel/"),s=[];a&&(function(){o.when(o.get("https://www.nh-hotels.com/images_ns/qubit/promoHotels.json")).then((function(e){s=e,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Promo Ribbon SC&SS: Hotel Page");var t=n(1),i=e.state.get("discount"),r='<div class="m-alert" role="alert"><div class="alert alert-warning"><p><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/qubit/smile.png" alt="Smart Choice Hotel">Smart Choice Hotel with '+i+" off only on our website </p></div></div>",o='<div class="m-alert" role="alert"><div class="alert alert-warning"><p><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/livechat/ICON-40X40.png" alt="Secret Selection Hotel" > Secret Selection Hotel with '+i+" off only on our website </p></div></div>";"smartChoice"==e.state.get("promo")?t(".m-gallery").prepend(r):"secretSelection"==e.state.get("promo")&&t(".m-gallery").prepend(o)}}),(function(e,t,n){e.exports=n(4)(".m-gallery .m-alert {\n  min-width: 30% !important;\n}\n.iconRibbon {\n  position: relative;\n  margin-right: 10px;\n  margin-top: -5px;\n  height: 20px;\n  width: 20px;\n  top: 4px;\n}\n.alert-warning p {\n  font-size: 15px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){var e=window.utag_data,t=e&&e.busqNumResult&&""!==e.busqNumResult&&Number(e.busqNumResult);return o(".m-hotel-box").length===t&&""!==window.pageData.totalHotels}n(2)(150,[],".nh-hotels.fr");var r=n(3),o=n(1);r(["window.utag_data.businessType",i],(function(e){"B2C"==e&&""==o("input[name='voucherCode']:first").val()&&t()}))}}),(function(e,t,n){e.exports=function(e){function t(e){i(".m-hotel-box").each((function(){var t,n,r,o=i(this).data("backcode");e[o]&&("smartChoice"==e[o].promo&&(t="Smart Choice Hotel with ",n=e[o].discount,r='<img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/qubit/smile.png" alt="Smart Choice Hotel">'),"secretSelection"==e[o].promo&&(t="Secret Selection Hotel with ",n=e[o].discount,r='<img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/livechat/ICON-40X40.png" alt="Secret Selection Hotel" >'),i(this).find(".m-hotel-box-img").prepend('<div class="new-ribbon"><div class="new-ribbon-msg"><span>'+r+t+n+" off </span></div></div>"))}))}console.log("[Qubit] Promo Ribbon SC&SS: ResultsPage");var i=n(1);!(function(){i.when(i.get("https://www.nh-hotels.com/images_ns/qubit/promoHotels.json")).then((function(e){t(e)}))})()}}),(function(e,t,n){e.exports=n(4)(".new-ribbon {\n  position: absolute;\n  top: 20px;\n  left: 10px;\n  min-width: 56%;\n  z-index: 2;\n  display: block;\n}\n.new-ribbon-msg {\n  background-color: #FFCA2E;\n  padding: 3px 14px;\n  margin: 0;\n}\n.new-ribbon::after {\n  position: absolute;\n  top: 0;\n  right: -20px;\n  content: '';\n  height: 0;\n  width: 0;\n  border-bottom: 28px solid transparent;\n  border-left: 20px solid #ffca2e;\n}\n.new-ribbon::before {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  content: '';\n  height: 0;\n  width: 0;\n  border-bottom: 8px solid transparent;\n  border-right: 10px solid #b9a159;\n}\n.iconRibbon {\n  position: relative;\n  margin-right: 10px;\n  margin-top: -5px;\n  height: 20px;\n  width: 20px;\n  top: 4px;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);-1!==window.location.pathname.indexOf("/booking/step2-")&&i(["#room-01-comments"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] No comments"),n(1)("#room-01-comments").val("")}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.nl");var i=n(3),r=n(1),o=["0040666706","0040666457","0040235077","0038199063"],a=["0051674442"],s=["0062676441","0062677144","0062675054"],c=["0053513791"],u=["0078987570"];i(["window.utag_data.eventId","#optionRooms",".occupancy-selector.js-occupancy-selector",".selectpicker.js-occupancy-adults",".selectpicker.js-occupancy-room-select","window.jQuery.fn.selectpicker"],(function(n){-1!=r.inArray(n,o)&&(e.state.set("2adults",!0),t()),-1!=r.inArray(n,a)&&(e.state.set("1adult",!0),t()),-1!=r.inArray(n,s)&&(e.state.set("1_2adult",!0),t()),-1!=r.inArray(n,c)&&(e.state.set("multiadults",!0),t()),-1!=r.inArray(n,u)&&(e.state.set("monoRooms",!0),t())}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] CGW occupation restrictions"),e.state.get("2adults")&&($("#optionRooms").val("0"),$("#optionRooms").selectpicker("refresh"),$("#optionRooms").attr("disabled","disabled"),$(".js-occupancy-wrap .arrow-pos-select").hide()),e.state.get("1adult")&&($("#optionRooms").val("1"),$("#optionRooms").selectpicker("refresh"),$("#optionRooms").attr("disabled","disabled"),$(".js-occupancy-wrap .arrow-pos-select").hide()),e.state.get("1_2adult")&&($("#optionRooms option:last").remove(),$("#optionRooms").selectpicker("refresh")),e.state.get("multiadults")&&$("#optionRooms").on("change",(function(){$(".occupancy-selector.js-occupancy-selector").is(":visible")&&($(".selectpicker.js-occupancy-adults").each((function(){$(this).children("option").slice(-2).remove(),$(this).selectpicker("refresh")})),$(".js-occupancy-selector .js-occupancy-childs").parent().hide())})),e.state.get("monoRooms")&&$("#optionRooms").on("change",(function(){$(".occupancy-selector.js-occupancy-selector").is(":visible")&&$(".selectpicker.js-occupancy-room-select").each((function(){$(this).children("option").slice(-5).remove(),$(this).selectpicker("refresh")}))}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/step2-personal-data")&&i(["window.utag_data.products_quantity","#personalize-rooms","#personalize-rooms a:first","window.jQuery.fn.collapse"],(function(e){"1"==e[0]&&t()}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Preferences Open"),$("#personalize-rooms a:first").click()}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.de"),n(3)(["window.utag_data.businessType","#info-bill","window.jQuery","window.Utils.getGeoIpData","#country-bill",function(){return"B2C"===window.utag_data.businessType},function(){return""!=$("#country-bill").val()}],(function(e){t()}))}}),(function(e,t){e.exports=function(e){function t(){"DE"==$("#country-bill").val()||"NL"==$("#country-bill").val()||"GB"==$("#country-bill").val()?$("#nif-bill").val("Not necessary"):$("#nif-bill").val("")}console.log("[Qubit] No Fiscal ID for Germans"),t(),$("#country-bill").change((function(){t()}))}}),(function(e,t,n){e.exports=function(e,t){function i(){window.innerWidth>992&&(r(),window.jQuery(window).off("resize.t010"))}function r(){c(["body"],(function(e){e.hasClass("page-roomdisplay")&&o()}))}function o(){c([".col-sm-9.js-same",".col-md-3 > .row",".row.relative.js-same-height",".row > .col-md-9",".col-sm-3.content-price-aside",".info-hotel",".col-sm-3.content-price-aside .btn",function(){return d(d(".js-same .logo").length?".js-same .logo":".col-sm-9.js-same")},".block-search-bar .row.js-same-height .col-sm-6.js-same",".block-search-bar .row.js-same-height> .col-sm-6.col-lg-3:nth-child(2)",".form-group.no-border-sm.relative.js-same",".col-sm-6:nth-child(2) > div.check-out",".col-sm-6 > button",".title-hotel"],(function(n,i,r,o,a,s,c,u,l,d,p,f,m,v){e.state.set("self",{$titleParent:n,$logo:u,$leftSide:i,$topRow:r,$img:o,$price:a,$hotelInfo:s,$searchLoc:l,$checkIn:d,$occupancy:p,$checkoutDiv:f,$modify:m,$hotelTitle:v}),t(),c.on("click",(function(){e.emitCustomGoal("selectRoom:click")}))}))}function a(t,n){s.set(t,n,{path:"/",domain:e.meta.cookieDomain})}n(2)(100);var s=n(6),c=n(3),u=/booking\/step1-rates/i.test(window.location.pathname),l="t010-bounce",d=n(1),p=n(0),f=p.debounce;return (function(){/0/i.test(s.val(l))&&(e.emitCustomGoal("bounce"),a(l,"1"))})(),u&&c("window.jQuery",(function(t){e.state.set("$$",t),window.innerWidth>992?r():t(window).on("resize.t010",f(i,10))})),{onActivation:function(){a(l,"0")}}}}),(function(e,t,n){e.exports=function(e){function t(){var e=window.innerWidth;e<992&&k>992?r():e>992&&k<992&&i(),k=e}function i(){a.removeClass("col-sm-9"),f.add(m).removeClass("col-sm-6"),f.addClass("col-sm-4"),v.addClass("t010-border"),w.addClass("col-sm-4"),g.addClass("no-border-sm"),a.removeClass("t010-minHeight"),h.text("Edit"),s.hasClass("logo")&&a.prepend(s),a.append(c),console.log("changes"),p.after(d),d.removeClass("js-same").addClass("no-text").css("min-height",0).after(p.children("div").last()),u.removeClass("row"),u.add(m).addClass("col-md-3"),l.after(u)}function r(){a.addClass("col-sm-9"),f.add(m).addClass("col-sm-6"),f.removeClass("col-sm-4"),v.removeClass("t010-border"),w.removeClass("col-sm-4"),g.removeClass("no-border-sm"),h.text("Edit"),s.hasClass("logo")&&p.find(".margin-b-30").prepend(s),a.appendTo(u),y(".main-content-rw> .container").prepend(u),a.addClass("t010-minHeight"),c.appendTo(y(".main-content-rw .container > .row").last()),p.insertAfter(b),l.insertBefore(c.parent()),u.append(d),u.addClass("row"),u.add(m).removeClass("col-md-3"),window.location.hash="v=compact"}console.log("[Qubit] Compact Layout RD");var o=e.state.get("self"),a=o.$titleParent,s=o.$logo,c=o.$leftSide,u=o.$topRow,l=o.$img,d=o.$price,p=o.$hotelInfo,f=o.$searchLoc,m=o.$checkIn,v=o.$occupancy,g=o.$checkoutDiv,h=o.$modify,b=o.$hotelTitle,y=e.state.get("$$"),w=v.parent(),x=n(0),_=x.debounce;i();var k=window.innerWidth;y(window).resize(_(t,10))}}),(function(e,t,n){e.exports=n(4)(".t010-minHeight {\n  min-height: 169px !important;\n}\n#alert2 {\n  margin-top: 15px;\n}\n@media only screen and (min-width: 1200px) {\n  .row.js-same-height > .col-sm-6.col-sm-4 {\n    width: 28% !important;\n  }\n}\n@media only screen and (min-width: 992px) {\n  .title-hotel,\n  .info-hotel {\n    display: inline-block;\n  }\n  .col-sm-3.content-price-aside {\n    width: 100%;\n    min-height: 10px !important;\n  }\n  .info-hotel button {\n    text-align: left;\n  }\n  .info-hotel,\n  .title-hotel,\n  .price-aside .margin-b-20:nth-child(1),\n  .info-hotel .margin-b-30 {\n    margin-bottom: 0px !important;\n  }\n  .js-same .logo {\n    width: auto !important;\n  }\n  /*.price-aside {\n    .imageMetaSearch, .labelMeta.small {\n      display: none; \n    }\n  }*/\n  .title-hotel h1 {\n    margin: 5px 0px;\n    font-size: 2.5rem;\n  }\n  .t010-border {\n    border-left: 1px solid #d7d7d7;\n  }\n  .t010-border > p,\n  .t010-border > div {\n    padding-left: 15px;\n  }\n  .row.row-no-padding.js-same-height > .col-lg-3.col-md-3 {\n    width: 22% !important;\n  }\n  .block-search-bar .col-lg-3.col-md-3 .col-sm-6:nth-child(2) {\n    padding: 0;\n    border-left: 1px solid #d7d7d7;\n    padding-left: 15px;\n  }\n  .block-search-bar .col-lg-3.col-md-3 .col-sm-6 {\n    width: 45%;\n    border-left: 1px solid #d7d7d7;\n  }\n  .block-summary-search.block-search-bar .form-group:after {\n    content: none !important;\n  }\n  div.col-sm-6.col-lg-3:nth-child(4) {\n    float: right;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=["ITSA.AMALF"],o=-1!==window.location.pathname.indexOf("/step1-rates"),a=-1!==window.location.pathname.indexOf("/step2-personal-data"),s=-1!==window.location.pathname.indexOf("/hotel");window.location.pathname.indexOf("/hotels/");(o||a)&&i(["window.utag_data.products_id",".room-display-stars","window.jQuery"],(function(n){-1!=$.inArray(n[0],r)&&(e.state.set("isRoomDisplayOrCheckout",!0),t())})),s&&i(["window.utag_data.products_id",".stars","window.jQuery"],(function(n){-1!=$.inArray(n[0],r)&&(e.state.set("isHotelPage",!0),t())}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] L");e.state.get("isRoomDisplayOrCheckout")&&$(".room-display-stars").after('<span class="stars-l">L</span>'),e.state.get("isHotelPage")&&$(".stars").append('<span class="stars-l">L</span>')}}),(function(e,t,n){e.exports=n(4)(".stars-l {\n  margin-left: 5px;\n  font-size: large;\n  top: 1px;\n  position: relative;\n  font-weight: bold;\n}\n.stars-l-results {\n  margin-left: 2px;\n  font-size: large;\n  top: 1px;\n  position: relative;\n  font-weight: bold;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return""!==o(".top-nav-01 .phoneHeader").text()}n(2)(150,[],"nh-hoteles.es");var r=n(3),o=n(1);-1!==window.location.pathname.indexOf("/meetings")&&-1==window.location.pathname.indexOf("/meetings-events")&&r([".top-nav-01 .dropdown:first",".phoneHeader",i],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] GSO contact number");var t=n(1),i={"(AT)":"+49 1 802 225 564 (AT)","(BE)":"+31 85 902 2300 (BE)","(FR)":"+44 20 34 995 831 (FR)","(DE)":"+49 1 802 225 564 (DE)","(IT)":"+39 025 779 7899 (IT)","(PT)":"+34 913 985 692 (PT)","(CH)":"+49 1 802 225 564 (CH)","(NL)":"+31 85 902 2300 (NL)","(GB)":"+31 85 902 2300 (GB)","(US)":"+44 20 34 995 831 (US)","(AR)":"+54 11 5776 6464 (AR)","(CL)":"+54 11 5776 6464 (CL)","(CO)":"+57 1657 8757 (CO)","(MX)":"+52 5261 7765 (MX)","(UY)":"+54 11 5776 6464 (UY)","(VE)":"+54 11 5776 6464 (VE)","(BR)":"+44 20 34 995 831 (BR)","(CZ)":"+49 1 802 225 564 (CZ)","(DO)":"+44 20 34 995 831 (DO)","(HU)":"+49 1 802 225 564 (HU)","(LU)":"+31 85 902 2300 (LU)","(PL)":"+49 1 802 225 564 (PL)","(RO)":"+49 1 802 225 564 (RO)","(SK)":"+49 180 222 55 64 (SK)","(ZA)":"+31 (0)85 9022 300 (ZA)","(ES)":"+34 913 985 692 (ES)","(Global Access)":"+44 20 34 995 831 (Global Access)"},r=t(".phoneHeader").first().text().split(" "),o=r[r.length-1],a=i[o];t(".top-nav-01 .phoneHeader:first").text(a),0==t(".top-nav-01 .phoneHeader:first .caret").length&&t(".phoneHeader").append('<b class="caret"></b>')}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],"nh-hoteles.es");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/event-tool/organizer/login")&&i([".login-form-forgottenPassword"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] CGW reset password");n(1)(".login-form-forgottenPassword").replaceWith('<a href="https://www.nh-hotels.com/images_ns/qubit/cgwResetPasswordInstructions.pdf" target="blank">Forgotten password? Click to learn how to reset</a>')}}),(function(e,t,n){e.exports=n(4)("/*.off-small {\n  color: #009FDF;\n}*/\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/step1-rates")&&i([".js-fullscreen-btn"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Hotel Phone"),n(1)(".js-fullscreen-btn").hide()}}),(function(e,t,n){e.exports=function(e,t){function i(t){o(["window.ga","window.ga.getByName",r],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function r(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],".nh-hotels.com");var o=n(3);return-1!==window.location.pathname.indexOf("/discover-nh/gallery")&&o([".m-header-primary","window.jQuery"],(function(e){$(".m-header-primary").after('<div id="olapic_specific_widget"></div>'),$(".m-header-primary").after('<script type="text/javascript" src="https://photorankstatics-a.akamaihd.net/743d2e78a76dedeb07e0745158547931/static/frontend/latest/build.min.js?v=1"  data-olapic="olapic_specific_widget" data-instance="a733bced7035e5bbf0f1e6bf19750b32" data-apikey="85f7e0c09ce68a6cfef03c4558fdafc6b07a98ce648f91080907292b05cafd60" data-lang="en_GB" async="async"><\/script>')})),{onActivation:function(){i("[Qubit] Olapic")}}}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Olapic");n(1)}}),(function(e,t,n){e.exports=n(4)("div.price-fighter-widget {\n  display: block ! important ;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=n(1),o=["ZZZZX","75630"],a=-1!==window.location.pathname.indexOf("/step1-rates"),s=GetURLParameter("hotelId");a&&i(["window.utag_data.search.idHotel","body"],(function(){-1!=r.inArray(s,o)&&(e.state.set("hotelId",s),t())}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Synxis Redirect"),n(1)("body").hide();var t,i,r,o,a,s,c,u,l,d,p;"ZZZZX"!==e.state.get("hotelId")&&"9998"!==e.state.get("hotelId")&&"NHCTF"!==e.state.get("hotelId")||(t="5529",i="24203",r="https://be.synxis.com?");var f="&arrive="+window.utag_data.search.date.substring(0,10).replace(/\//g,"-").split("-").reverse().join("-"),m="&depart="+window.utag_data.search.date.substring(13,23).replace(/\//g,"-").split("-").reverse().join("-"),v="&adult="+window.utag_data.search.adults,g="&child="+window.utag_data.search.children,h="chain="+i,b="&hotel="+t,y="&Rooms="+window.utag_data.search.occupation.split(",")[0];if("75630"===e.state.get("hotelId")&&(d=!0,o="&template=TIVOLI",a="&shell=TIVOLI",s="&brand=TIVOLI",t="&hotel=75630"),d){c="&start=availresults",u="&utm_source=NH&utm_medium=NH",l="&Lang=1",h="chain=18336",r="https://gc.synxis.com/rez.aspx?";for(var w,x=window.utag_data.search.occupation.split(",")[0],_=0;_<x;_++){var k=[],T=0,I=0;for(_=1;_<=x;_++){if(T+=parseInt(GetURLParameter("nadults"+_)),I+=parseInt(GetURLParameter("nchilds"+_))+parseInt(GetURLParameter("nbabies"+_)),GetURLParameter("nchilds"+_)&&parseInt(GetURLParameter("nchilds"+_))>0)for(z=0;z<parseInt(GetURLParameter("nchilds"+_));z++)k.push("7");if(GetURLParameter("nbabies"+_)&&parseInt(GetURLParameter("nbabies"+_))>0)for(z=0;z<parseInt(GetURLParameter("nbabies"+_));z++)k.push("1")}w="&Childages="+k.join("|"),v="&Adult="+T,g="&Child="+I}p=r+h+t+f+m+v+g+w+y+o+a+s+c+u+l}else p=r+h+b+f+m+v+g+y;console.log(p),window.location.href=p}}),(function(e,t,n){e.exports=function(e,t){function i(){o(["window.utag_data.resTarifa","window.utag_data.businessType","window.utag_data.products_id","window.utag_data.user.LoginState",".js-preciototal",".join-rewards-type",".js-wrap-guarantee","#total-price"],(function(e,n,i,o){if("NHR"==e.slice(0,3)&&"B2C"===n&&-1==a.inArray(i[0],r)&&"logged"==o){var s=a(".js-preciototal").html(),c=a(".join-rewards-type").prev().html().split(" ")[0];c>0&&c>=s&&t()}}))}n(2)(150,[],".nh-hoteles.es");var r,o=n(3),a=n(1);!(function(){a.when(a.get("https://www.nh-hotels.com/images_ns/qubit/nhrHotels.json")).then((function(e){r=e&&e.notRedeemingPoints,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Payment with points logged: FREE");n(1)("#total-price").before('<div class="pay-with-points"><div class="row"><div class="col-sm-12"><span class="h4" style="font-weight: bold;">Reward yourself and stay for free!</span></div></div><div class="row"><div class="col-sm-2 col-xs-3"><span class="nh-card"></span></div><div class="col-sm-10 col-xs-9 welcome-message"><span class="point-descr">It\'s time to spend your hard earned points. Our front office team will help you redeem your points during check-out.</span></div></div></div>')}}),(function(e,t,n){e.exports=n(4)(".nh-card {\n  background: url('https://static.nh-hotels.net/system/nhGroup/img/rewards-cards.png?v=1.0') no-repeat;\n  width: 64px;\n  height: 50px;\n  display: inline-block;\n  position: absolute;\n  margin-left: 5px;\n  margin-top: 7px;\n}\n.welcome-message {\n  margin-top: 10px;\n}\n.pay-with-points {\n  margin-bottom: 10px;\n}\n.point-descr {\n  margin-left: -35px;\n  display: inline-block;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){o(["window.utag_data.resTarifa","window.utag_data.businessType","window.utag_data.products_id","window.utag_data.user.LoginState",".js-preciototal",".join-rewards-type",".js-wrap-guarantee","#total-price"],(function(e,n,i,o){if("NHR"==e.slice(0,3)&&"B2C"===n&&-1==a.inArray(i[0],r)&&"logged"==o){var s=a(".js-preciototal").html(),c=a(".join-rewards-type").prev().html().split(" ")[0];c>10&&c<s&&t()}}))}n(2)(150,[],".nh-hoteles.es");var r,o=n(3),a=n(1);!(function(){a.when(a.get("https://www.nh-hotels.com/images_ns/qubit/nhrHotels.json")).then((function(e){r=e&&e.notRedeemingPoints,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Payment with points logged: SAVE");n(1)("#total-price").before('<div class="pay-with-points"><div class="row"><div class="col-sm-12"><span class="h4" style="font-weight: bold;">Why not save on this booking?</span></div></div><div class="row"><div class="col-sm-2 col-xs-3"><span class="nh-card"></span></div><div class="col-sm-10 col-xs-9 welcome-message"><span class="point-descr">Use your accummulated points to pay for part of this stay. Our front office team will help you redeem your points during check-out.</span></div></div></div>')}}),(function(e,t,n){e.exports=n(4)(".nh-card {\n  background: url('https://static.nh-hotels.net/system/nhGroup/img/rewards-cards.png?v=1.0') no-repeat;\n  width: 64px;\n  height: 50px;\n  display: inline-block;\n  position: absolute;\n  margin-left: 5px;\n  margin-top: 7px;\n}\n.welcome-message {\n  margin-top: 10px;\n}\n.pay-with-points {\n  margin-bottom: 10px;\n}\n.point-descr {\n  margin-left: -35px;\n  display: inline-block;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],"nh-hotels.nl");var i=n(3),r=n(1),o=["ESMA.VILPA","PT08.VILAM","IELD.MAKDU","HUBU.NYPAL","ITRM.NAIDI"],a=-1!==window.location.pathname.indexOf("/step1-rates"),s=-1!==window.location.pathname.indexOf("/booking/step2-personal-data"),c=-1!==window.location.pathname.indexOf("/booking/conf"),u=-1!==window.location.pathname.indexOf("/event");if(a){var l=GetURLParameter("hotelId");i([".menuNav-one img"],(function(){if(-1!=r.inArray(l,o)){colors.anantara&&(e.state.set("isRoomDisplay",!0),e.state.set("brand","anantara"),t())}}))}s&&i(["window.pageData.brand"],(function(n){colors[n]&&(e.state.set("isCheckOut",!0),e.state.set("brand",n),t())})),c&&i(["window.pageData.brand"],(function(n){colors[n]&&(e.state.set("isConf",!0),e.state.set("brand",n),t())})),u&&i(["#hotelId",".main-bar img",".text-white"],(function(n){if(-1!=r.inArray(n.val(),o)){colors.anantara&&(e.state.set("isEvent",!0),e.state.set("brand","anantara"),t())}}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Minor Styles");var t,i,r=n(3),o=n(1),a=e.state.get("brand");o(".menuNav-one img").attr("src",colors[a].logo),o(".menuNav-one img").parent().attr("href",colors[a].src),t=colors[a].primary;var s=colors.tivoli.primary2;i=colors[a].secondary;var c="\n    \n    nav.mainNav, .boxSearch > ul> li, .steps li.active, .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active, .menuNav-one, .steps-booking-process li.active, .show-more, \n    .block-gallery .gallery-thumbs-holder .show-all-thumbs, .block-aside-your-search .title-your-search, .main-bar\n    {\n      background: "+t+" !important;  \n    }\n    \n    \n    .steps-booking-process li:first-child.active:before, .steps-booking-process li:nth-child(2).active:after {\n      \n      border-color: transparent transparent transparent "+t+";  \n      \n    }\n    \n    .room-display .nav-tabs>li.active>a {\n      \n      background: "+t+" !important;\n    }\n    \n    .link, nav.mainNav li a.active, a :not(nav.mainNav li a, .boxSearch ul li a, .price-holder) {\n      color: #444;\n    }\n    \n    .firstDivHome h1, .firstDivHome h3, h2, h3, .roomPrices table tr.title td, b\n    .roomPrices table td + td + td + td, .precioDesde .big span, .noCaps, .secondNav li a,\n    .info-reservation-detail .list-info-detail li, .reservedHotel h2, .blueSoft strong, \n    .text-dark-blue .reservation-number, h4, .hotelData h1, .hotelData h2, .no-margin, .price-holder, .nh-breadcrumb-steps .step {\n      color: "+t+";\n    }\n    \n    .btn-primary, .btn.btn-primary, .end.btn-primary { \n      background: "+("tivoli"!=a?t:s)+"!important;\n      border-color: "+("tivoli"!=a?t:s)+"!important;\n    }\n    \n    .btn.btn-secondary {\n      border-color: "+t+' !important;\n    }\n    \n    \n    .icon-calendar, .boxSearch.simple li.reservations input#checkIn {\n      background-image: url("https://static.nh-hotels.net/system/hesperia/css/img/iconDate.png");\n    }\n    \n    .White-text .btn {\n      color: '+t+" !important;\n    }\n    \n    .steps li.active .dot:after {\n      border-left-color: "+t+" !important\n    }\n    \n    .is_active span:after {\n      background-color: "+t+" !important;\n    }\n    \n    \n    \n    .title.darkBlue, .NHTabs ul li.activa h3, .text-dark-blue {\n      color: "+t+" !important;\n    }\n    \n    .NHTabs ul li.normalRate h3, .ui-state-active {\n      color: #FFF;\n    }\n    \n    .btn-primary:hover, .btn.btn-primary.btn-lg:hover, .btn.btn-primary:hover {\n      background-color: "+i+" !important;\n      border-color: "+("tivoli"!=a?t:s)+"!important;\n    }\n    \n    nav.mainNav li a:hover{\n      color: #5a6066;\n    }\n    \n    \n    a :not(nav.mainNav li a,.boxSearch ul li a,.price-holder), nav.mainNav li a.active {\n      color:white;\n    }\n    \n    \n    .menuNav-one .box-men02 .logo {\n      max-height: 50px !important;\n      margin: -5px 0 0 -25px;   \n    }\n\n";!(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(c),e.state.get("isRoomDisplay")&&r(["#grid-STANDARD"],(function(){o("input[name='brand']").each((function(){o(this).val(a)}))})),e.state.get("isEvent")&&(o(".text-white").hide(),o(".main-bar img").attr("src",colors[a].logo),o(".img-logo").css({"padding-top":"14px","max-width":"150px"}))}}),(function(e,t,n){e.exports=function(e,t){function i(){o(["window.utag_data.resTarifa","window.utag_data.businessType","window.utag_data.products_id","window.utag_data.user.LoginState",".js-wrap-guarantee","#total-price"],(function(e,n,i,o){"NHR"==e.slice(0,3)&&"B2C"===n&&-1==a.inArray(i[0],r)&&"not_logged"==o&&t()})),a(".join-rewards-access a").on("click",(function(){e.emitCustomGoal("log-in")}))}n(2)(150,[],".nh-hotels.com");var r,o=n(3),a=n(1);!(function(){a.when(a.get("https://www.nh-hotels.com/images_ns/qubit/nhrHotels.json")).then((function(e){r=e&&e.notRedeemingPoints,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Payment with points: non logged");n(1)("#total-price").before('<div class="pay-with-points"><div class="row"><div class="col-sm-12"><span class="h4" style="font-weight: bold;">Did you know that you can pay for all or part of your booking with NH Rewards points?</span></div></div><div class="row"><div class="col-sm-2 col-xs-3"><span class="nh-card"></span></div><div class="col-sm-10 col-xs-9 welcome-message"><span class="point-descr">If you are already a member, log in to see your point balance and see how much you can save. Ask the front desk for more information. </span></div></div></div>')}}),(function(e,t,n){e.exports=n(4)(".nh-card {\n  background: url('https://static.nh-hotels.net/system/nhGroup/img/rewards-cards.png?v=1.0') no-repeat;\n  width: 64px;\n  height: 50px;\n  display: inline-block;\n  position: absolute;\n  margin-left: 5px;\n  margin-top: 7px;\n}\n.welcome-message {\n  margin-top: 10px;\n}\n.pay-with-points {\n  margin-bottom: 10px;\n}\n.point-descr {\n  margin-left: -35px;\n  display: inline-block;\n}\n")}),(function(e,t,n){e.exports=n(4)(".t011-fade-in-wrapper {\n  display: none;\n  box-sizing: border-box;\n  position: absolute;\n  top: calc(100% + 45px);\n  right: 8%;\n}\n.t011-fade-in-wrapper .t011-login-cta-container {\n  background-color: #FFF;\n  display: flex;\n  width: 500px;\n  padding: 10px 0;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4), 0 8px 16px rgba(0, 0, 0, 0.2);\n}\n.t011-fade-in-wrapper .t011-login-cta-container::before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  right: 30px;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-bottom: 16px solid #FFF;\n  transform: translate(0, -75%);\n}\n.t011-fade-in-wrapper .t011-login-cta-container h6 {\n  width: 35%;\n  font-size: 1.1em;\n  margin: 0;\n  border-right: 1px solid #003A70;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  text-transform: uppercase;\n  font-weight: bold;\n  color: #003A70;\n}\n.t011-fade-in-wrapper .t011-login-cta-container p {\n  width: 65%;\n  font-size: 1.05em;\n  margin: 0;\n  padding: 0 20px 0 10px;\n}\n.t011-fade-in-wrapper .t011-login-cta-container .t011-close-tooltip {\n  position: absolute;\n  top: 2px;\n  right: 6px;\n}\n.t011-fade-in-wrapper .t011-login-cta-container .t011-close-tooltip::before {\n  content: '\\2716';\n  font-size: 15px;\n  cursor: pointer;\n}\n")}),(function(e,t,n){e.exports=n(4)(".t011-fade-in-wrapper {\n  display: none;\n  box-sizing: border-box;\n  position: absolute;\n  top: calc(100% + 45px);\n  right: 8%;\n}\n.t011-fade-in-wrapper .t011-login-cta-container {\n  background-color: #FFF;\n  display: flex;\n  width: 500px;\n  padding: 10px 0;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4), 0 8px 16px rgba(0, 0, 0, 0.2);\n}\n.t011-fade-in-wrapper .t011-login-cta-container::before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  right: 30px;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-bottom: 16px solid #FFF;\n  transform: translate(0, -75%);\n}\n.t011-fade-in-wrapper .t011-login-cta-container h6 {\n  width: 30%;\n  font-size: 1.1em;\n  margin: 0;\n  border-right: 1px solid #003A70;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  text-transform: uppercase;\n  font-weight: bold;\n  color: #003A70;\n  line-height: 1.2rem;\n}\n.t011-fade-in-wrapper .t011-login-cta-container p {\n  width: 65%;\n  font-size: 1.05em;\n  margin: 0;\n  padding: 0 20px 0 10px;\n}\n.t011-fade-in-wrapper .t011-login-cta-container .t011-close-tooltip {\n  position: absolute;\n  top: 2px;\n  right: 6px;\n}\n.t011-fade-in-wrapper .t011-login-cta-container .t011-close-tooltip::before {\n  content: '\\2716';\n  font-size: 15px;\n  cursor: pointer;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){c(["window.utag_data.search.idHotel","#tab-REWARDS","#grid-REWARDS","#lazy-banner-REWARDS",".banner-rewards-tabs",function(){return"B2C"===window.utag_data.businessType},r],(function(n){-1==u.inArray(n,s)&&(-1!=u.inArray(n,o)&&e.state.set("reducedLateCheckout",!0),-1!=u.inArray(n,a)&&e.state.set("excludedLateCheckout",!0),t())}))}function r(){return!0}n(2)(150,[],"nh-hotels.com");var o,a,s,c=n(3),u=n(1),l=-1!==window.location.pathname.indexOf("/booking/step1-rates");l&&(function(){u.when(u.get("https://www.nh-hotels.com/images_ns/qubit/wppHotels.json")).then((function(e){s=e&&e.excludedHotels,a=e&&e.excludedLateCheckout,o=e&&e.reducedLateCheckout,i()}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Lazy Sundays");var t=n(1),i="3 pm";e.state.get("reducedLateCheckout")&&(i="5 pm");var r="Enjoy a free late check-out until "+i+" when booking an NH Rewards rate. Only on nh-hotels.com.";if(!e.state.get("excludedLateCheckout")&&(function(e){var t=e.split("/"),n=t[1]+"/"+t[0]+"/"+t[2];return 0==new Date(n).getDay()})(t(".js-get-checkout").html())){var o='<div class="container-lazy-sunday"><img src="https://www.nh-hotels.com/images_ns/qubit/lazySunday/5cc8c786cd914271916354.jpg" alt="Lazy Sunday" style="width:100%;"><div class="div-text-lazy-sunday"><span class="title-lazy-sunday">CHECKING OUT ON SUNDAY JUST GOT EVEN BETTER</span><span class="description-lazy-sunday">'+r+"</span></div></div>";t("#grid-REWARDS").prepend(o),t(".banner-rewards-tabs").hide()}}}),(function(e,t,n){e.exports=n(4)(".title-lazy-sunday {\n  font-size: 25px;\n  text-align: left;\n  font-size: 2.4rem;\n  font-family: Gotham;\n  font-weight: 400;\n  display: block;\n  line-height: 1.2;\n}\n.description-lazy-sunday {\n  font-size: 25px;\n  text-align: left;\n  font-size: 1.8rem;\n  font-family: Gotham;\n  font-weight: 400;\n  display: block;\n  line-height: 1.2;\n  margin-top: 10px;\n}\n.container-lazy-sunday {\n  position: relative;\n  text-align: center;\n  margin-bottom: 15px;\n  color: white;\n}\n.div-text-lazy-sunday {\n  position: absolute;\n  top: 8px;\n  left: 16px;\n  width: 40%;\n}\n/* \n  ##Device = Tablets, Ipads (portrait)\n  ##Screen = B/w 768px to 1024px\n*/\n@media (min-width: 768px) and (max-width: 1024px) {\n  .div-text-lazy-sunday {\n    position: absolute;\n    top: 8px;\n    left: 16px;\n    width: 60%;\n  }\n}\n/* \n  ##Device = Tablets, Ipads (landscape)\n  ##Screen = B/w 768px to 1024px\n*/\n@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {\n  .div-text-lazy-sunday {\n    position: absolute;\n    top: 8px;\n    left: 16px;\n    width: 60%;\n  }\n}\n/* \n  ##Device = Low Resolution Tablets, Mobiles (Landscape)\n  ##Screen = B/w 481px to 767px\n*/\n@media (min-width: 481px) and (max-width: 767px) {\n  .div-text-lazy-sunday {\n    position: absolute;\n    top: 8px;\n    left: 16px;\n    width: 60%;\n  }\n}\n/* \n  ##Device = Most of the Smartphones Mobiles (Portrait)\n  ##Screen = B/w 320px to 479px\n*/\n@media (min-width: 320px) and (max-width: 480px) {\n  .div-text-lazy-sunday {\n    position: absolute;\n    top: 8px;\n    left: 16px;\n    width: 60%;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(t){o(["window.ga","window.ga.getByName",r],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function r(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],".nh-hotels.com");var o=n(3);n(1);return o([".menuNav-one ul",".top-nav-01 .dropdown","window.utag_data.page.section",".box-men03","window.jQuery"],(function(){t()})),{onActivation:function(){i("Meetings Header")}}}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Professionals Header"),$(".box-men03 ul li:nth-child(4)").remove(),$(".box-men03 ul").append('<li><a href="/professionals" data-id="professionals">Professionals</a></li>'),$(".top-nav-01 ul:first > li:nth-child(3)").remove(),$(".top-nav-01 .dropdown:first").after('<li><a href="/nhcompanies" data-id="business" >Business Travel</a></li>'),$(".top-nav-01 .dropdown:first").after('<li><a href="/meetings" data-id="meetings" >Meetings and events</a></li>'),$('[data-id="professionals"]').click((function(){console.log("Professionals clicked"),ga("gap.send","event",window.utag_data.page.section,"clic on menu","professionals",{nonInteraction:!0})})),$('[data-id="meetings"]').click((function(){console.log("Meetings clicked"),ga("gap.send","event",window.utag_data.page.section,"clic on preheader","meetings and events",{nonInteraction:!0})})),$('[data-id="business"]').click((function(){console.log("Business clicked"),ga("gap.send","event",window.utag_data.page.section,"clic on preheader","business travel",{nonInteraction:!0})}))}}),(function(e,t,n){e.exports=n(4)(".extendedConfig {\n  text-transform: capitalize !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);i(["#grid-STANDARD","#grid-REWARDS"],(function(e){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] FCFR - EM");var t=n(1);t('input[name="ratePriceCode"]').each((function(){if(-1==t(this).val().indexOf("AP")&&-1==t(this).val().indexOf("SD")&&-1==t(this).val().indexOf("FLASH")){var e=t(this).parent().find("button");e.text("Not available"),e.prop("disabled",!0),e.addClass("not-available"),e.parent().removeAttr("action"),e.parent().removeAttr("id")}}))}}),(function(e,t,n){e.exports=n(4)(".not-available {\n  padding: 1px 10px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=(n(1),-1!==window.location.pathname.indexOf("/companies")),o=-1!==window.location.pathname.indexOf("/professionals");r&&(e.state.set("isCompanies",!0),i([".breadcrumb"],(function(){t()}))),o&&(e.state.set("isProfessionals",!0),i([".breadcrumb"],(function(){t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Meetings Header - Breadcrumb");var t=n(1);e.state.get("isCompanies")&&(t(".breadcrumb .is_active").text("NH Companies"),t(".breadcrumb li:nth-child(2) a").prop("href","/social-events/professionals")),e.state.get("isProfessionals")&&t(".breadcrumb li:nth-child(2)").hide()}}),(function(e,t,n){e.exports=n(4)(".extendedConfig {\n  text-transform: capitalize !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);"/"==window.location.pathname&&i(["#voucherCode-sb","window.jQuery"],(function(){GetURLParameter("promoCode")&&(e.state.set("promoCode",GetURLParameter("promoCode")),t())}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Link with Promocode");var t=e.state.get("promoCode");$("#voucherCode-sb").prev().addClass("focus"),$("#voucherCode-sb").val(t)}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);i(["#promotional","#promotional-code","window.jQuery"],(function(){GetURLParameter("promoCode")&&(e.state.set("promoCode",GetURLParameter("promoCode")),t())}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);i(["#voucherCode-sb","window.jQuery"],(function(){GetURLParameter("promoCode")&&(e.state.set("promoCode",GetURLParameter("promoCode")),t())}))}}),(function(e,t,n){e.exports=function(e,t){function i(){return p(".track-select-room").length>2}function r(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;h.test(t)&&o()}))}function o(){l(b,(function(e,t,n,i){for(var r=g.roomCategoryCode||[],o=g.ratePriceCode||[],c=g.regimen||[],u=0;u<t.length;u++){var l=t.eq(u).val(),d=n.eq(u).val(),p=i.eq(u).val(),f=a(r,l),m=a(o,d),h=a(c,p);f&&m&&h&&v.push(e.eq(u))}v.length>0&&s()}))}function a(e,t){if(e&&0===e.length)return!0;for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function s(){d.val(f)||c("1"),e.state.set("config",{inputToHightlight:v}),t();for(var n=0;n<v.length;n++)v[n].parent().parent().parent().find(".vmiddle-element form button").click((function(){e.emitCustomGoal("t008:button:clicked")}))}function c(t,n){d.set(t,n,{domain:e.meta.cookieDomain,path:"/"})}var u={configCopies:{ratePriceCode:["OCR_15-22%","CORNEG","FLY_STAFF"]}};n(2)(150,[],".nh-hotels.com");var l=n(3),d=n(6),p=n(1),f="x-t008-seen",m=window.location.pathname,v=[],g=u.configCopies,h=/computer/i,b=[".lazy-meal-descript",'form input[name="roomCategoryCode"]','form input[name="ratePriceCode"]','form input[name="regimen"]',i];!(function(){"1"===d.val(f)&&(e.emitCustomGoal("t008:bonce:not-bounce"),c("2"))})(),(function(){/booking\/step1-rates/i.test(m)?r():/booking\/step2/i.test(m)&&e.emitCustomGoal("t008:step2:seen")})()}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Prices Renaming CCG");for(var t=e.state.get("config"),n=t.inputToHightlight,i={"OCR_15-22%":"Special rate exclusively for travel agents up to 22% discount. Travel Agent ID is mandatory otherwise regular rate will be applied. Non Commissionable",CORNEG:"Special fixed rate exclusively for travel agents. Travel Agent ID is mandatory otherwise regular rate will be applied. Non Commissionable.",FLY_STAFF:"Special fixed rate exclusively for travel agents. Travel Agent ID is mandatory otherwise regular rate will be applied. Non Commissionable."},r=0;r<n.length;r++){var o=n[r],a=o.closest(".row-rate").find("input[name=ratePriceCode]").val();o.text(i[a])}}}),(function(e,t,n){e.exports=n(4)(".t008-price {\n  color: #363636;\n  font-weight: bold;\n}\n.t008-tooltip {\n  position: absolute;\n  background: #363636;\n  color: #FFC107;\n  white-space: nowrap;\n  padding: 0px 5px;\n  border-radius: 4px;\n  right: 0;\n  margin-top: -30px;\n  margin-left: 5px;\n}\n.t008-tooltip .t008-tooltipContent .t008-text {\n  text-transform: capitalize;\n  letter-spacing: 1px;\n  font-family: Gotham;\n  font-size: 12px;\n  padding: 2px;\n}\n.t008-tooltip .t008-tooltipContent .t008-arrow {\n  width: 10px;\n  height: 10px;\n  right: 44%;\n  margin-top: -6px;\n  display: block;\n  position: absolute;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  background: #363636;\n}\n@media screen and (max-width: 1200px) {\n  .t008-tooltip {\n    margin-left: -20px;\n  }\n}\n@media screen and (max-width: 991px) {\n  .t008-tooltip {\n    margin-left: -16px;\n  }\n}\n@media screen and (max-width: 767px) {\n  .t008-tooltip {\n    display: none !important;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],"nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/booking/step1-rates")&&i([".block-aside-why-us",".title-block-room-display","window.jQuery",function(){return"B2E"===window.utag_data.businessType}],(function(){t()}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] NHR employee points [RD]");var t=["5.5% in points with Friends&Familiy rate","5.5% in points with Public rates","3% in points on your expenses in extra services with ALL rates","Use your points as discounts on ALL rates 1 point = 1 \u20ac"];$(".block-aside-why-us .title-block-room-display").text("NEW! NH Rewards points for employees"),$(".block-aside-why-us li").each((function(e){$(this).find(".text-list").text(t[e])}))}}),(function(e,t,n){e.exports=n(4)(".block-aside-why-us .only-at {\n  background: #48a23f;\n  text-align: center;\n  padding: 18px 0;\n}\n.block-aside-why-us .title-block-room-display {\n  padding: 15px 10px 0px 15px;\n}\n.only-at .h4 {\n  color: #fff;\n  padding-bottom: 0;\n}\n.block-aside-border.block-aside-why-us {\n  padding: 0;\n}\n.block-aside-border.block-aside-why-us .list-why-us li {\n  font-size: 14px;\n}\n.list-why-us {\n  padding: 0 10px;\n}\n.list-why-us .circle-icon {\n  width: 40px !important;\n  height: 40px !important;\n}\n.tick {\n  width: 61px;\n  margin-top: 20px;\n  margin-right: 15px;\n  left: -19px;\n  margin-left: -40px;\n  display: block;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){if(1==o('[data-user-program="B2E_FRIENDS"]').length||1==o('[data-user-program="B2E_EMPLEADO"]').length)return!0}n(2)(150,[],"nh-hotels.com");var r=n(3),o=n(1);-1!==window.location.pathname.indexOf("/disambiguation")&&r([".block-photo-text",i],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] NHR employee points [Disambiguation]");var t=n(1);t('[data-user-program="B2E_FRIENDS"]').prev().children().append('<p><br><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/qubit/new.png" alt="New" style="width: 30px;"> Now you can earn and redeem NH Rewards points on your bookings as Team Member! Discover all the benefits <a href="https://nhtelltheworld.com/nl/nh-rewards-for-team-members/init/index" target="_blank">here</a></p>'),t('[data-user-program="B2E_EMPLEADO"]').prev().children().append('<p><br><img class="iconRibbon" src="https://www.nh-hotels.com/images_ns/qubit/new.png" alt="New" style="width: 30px;"> Now you can earn and redeem NH Rewards points on your bookings as Team Member! Discover all the benefits <a href="https://nhtelltheworld.com/nl/nh-rewards-for-team-members/init/index" target="_blank">here</a></p>')}}),(function(e,t,n){e.exports=n(4)(".block-aside-why-us .only-at {\n  background: #48a23f;\n  text-align: center;\n  padding: 18px 0;\n}\n.block-aside-why-us .title-block-room-display {\n  padding: 15px 10px 0px 15px;\n}\n.only-at .h4 {\n  color: #fff;\n  padding-bottom: 0;\n}\n.block-aside-border.block-aside-why-us {\n  padding: 0;\n}\n.block-aside-border.block-aside-why-us .list-why-us li {\n  font-size: 14px;\n}\n.list-why-us {\n  padding: 0 10px;\n}\n.list-why-us .circle-icon {\n  width: 40px !important;\n  height: 40px !important;\n}\n.tick {\n  width: 61px;\n  margin-top: 20px;\n  margin-right: 15px;\n  left: -19px;\n  margin-left: -40px;\n  display: block;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;t&&m.test(t)&&r()}))}function r(){setTimeout((function(){l(g,(function(){t(),d.val(f)||s("1")}))}),v)}function o(){$("input[name=ratePriceCode][value=NHR_PACKDN], input[name=ratePriceCode][value=PACK_DYN]").parent().find(".track-select-room").click((function(){console.log("Click romano"),e.emitCustomGoal("romanPass:Price-clicked")}))}function a(){"1"===d.val(f)&&(e.emitCustomGoal("romanPass:bounce:not-bounce"),s("2"))}function s(t){d.set(f,t,{domain:e.meta.cookieDomain,path:"/"})}function c(t){l(["window.ga","window.ga.getByName",u],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function u(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var l=n(3),d=n(6),p=e.data,f=(p.thresholdSessionMaximum,p.thresholdPageViewMaximum,"t009-nonBouncer"),m=/computer|tablet/i,v=2e3,g="body";return-1!==window.location.pathname.indexOf("/step1-rates")&&l(["window.utag_data.products_id",".two-tabs","#room-grid-selection"],(function(e){"USNY.MADIS"==e[0]&&(a(),o(),i())})),{onActivation:function(){c("Banner: Roman Pass")}}}}),(function(e,t,n){e.exports=function(e){function t(e,t,n,r,o,a){B++;var s=1===e,c=5===e,u=t&&""!==t,l=n&&""!==n,d=r&&""!==r,p=o&&""!==o,f='\n      <div class="'+(c?"t009-fivethTile":"t009-tile")+" "+(s?"t009-firstTile":"")+" t009-tile"+B+'">\n        '+(u?'<div class="t009-tileTitle '+(s?"t009-firstTileTitle":"")+'">'+t+"</div>":"")+"\n        "+(l?'<div class="t009-tileText">'+n+"</div>":"")+"\n        "+(d?'<div class="t009-tileLink t009-tileLink'+e+'">'+r+'<span class="t009-tileTextArrow">&#9656;</span></div>':"")+" \n        "+(p?'<div class="t009-tileButton t009-tileButton'+e+'">'+o+"</div>":"")+"\n      </div>\n    ";return a&&i(document).on("click",".t009-tileButton"+e+", .t009-tileLink"+e,(function(){setTimeout((function(){if(d){window.open(a,"_blank").focus()}else window.location.href=a}),250)})),f}var i=n(1);console.log("[Qubit] New York NHR Banner");var r=e.data,o=r.textColor,a=r.bannerColor,s=r.mainImage,c=r.isTile1,u=r.isTile2,l=r.isTile3,d=r.isTile4,p=r.isTile5,f=r.title1,m=r.text1,v=r.linkText1,g=r.buttonText1,h=r.URL1,b=r.title2,y=r.text2,w=r.linkText2,x=r.buttonText2,_=r.URL2,k=r.title3,T=r.text3,I=r.linkText3,A=r.buttonText3,S=r.URL3,E=r.title4,C=r.text4,R=r.linkText4,j=r.buttonText4,M=r.URL4,N=r.title5,O=r.text5,P=r.linkText5,L=r.buttonText5,q=r.URL5,D="\n    .t009-banner a {\n      color: "+o+";\n      text-decoration: underline;\n    }\n    .t009-banner {\n      height: 150px;\n      position: fixed;\n      bottom: -150px;\n      background-color: "+a+";\n      color: "+o+";\n      z-index: 999;\n      font-family: Gotham;\n    }\n      .t009-bannerContent {\n        position: relative;\n        height: 100%;\n      }\n        .t009-bannerCloseContent {\n          width: 20px;\n          height: 100%;\n          display: inline-block;\n        }\n        .t009-bannerClose {\n          cursor: pointer;\n          position: absolute;\n          top: 6px;\n          right: 10px;\n          color: "+o+";\n        }\n        .t009-preImageTile {\n          display: inline-block;\n          height: 100%;\n          width: auto;\n          max-width: 400px;\n          vertical-align: top;\n        }\n          .t009-preImageTile > img {\n            height: 100%;\n          }\n        .t009-tile {\n          vertical-align: top;\n          width: 300px;\n          display: inline-block;\n          margin-top: 10px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n        .t009-firstTile {\n          border-left: none !important;\n        }\n          .t009-tileTitle {\n            height: 45px;\n            margin-top: 8px;\n            font-size: 15px;\n            text-transform: uppercase;\n            font-weight: bold;\n          }\n          .t009-tileText {\n            margin-bottom: 15px;\n            font-size: 13px;\n            line-height: 16px;\n            margin-top: 25px;\n          }\n          .t009-tileButton {\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n            background-color: white;\n            color: "+a+";\n            padding: 5px 10px;\n            border-radius: 6px;\n            font-weight: bold;\n            width: 80%;\n            text-transform: uppercase;\n          }\n          .t009-firstTileTitle {\n            font-family: Gotham;\n            font-size: 20px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            height: 80px;\n          }\n          .t009-tileLink {\n            letter-spacing: 2px;\n            text-decoration: underline;\n            cursor: pointer;\n          }\n          .t009-tileTextArrow {\n            text-decoration: none;\n            display: inline-block;\n            margin-left: 5px;\n          }\n        .t009-fivethTile {\n          vertical-align: top;\n          width: 480px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n          .t009-fivethTileContent {\n            \n          }\n        \n    .t009-tile5 {\n      display: none !important;\n    }\n    @media screen and (max-width: 1280px) {\n      .t009-tile4 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 1030px) {\n      .t009-tile3 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 780px) {\n      .t009-tile2 {\n        display: none !important;\n      }\n    } \n    @media screen and (max-width: 530px) {\n      .t009-banner {\n        display: none !important;\n      }\n    } \n\n    .t009-showAnimation {\n      -webkit-animation: t009-showAnimation 3s forwards;\n    }\n    @-webkit-keyframes t009-showAnimation {\n      0% {\n        bottom: -150px;\n      }\n      100% {\n        bottom: 0px;\n      }\n    }    \n  ",B=0,H=(function(){return i('\n      <div class="t009-banner">\n        <div class="t009-bannerContent">\n          <div class="t009-preImageTile">\n            <img src="'+s+'" alt=""/>\n          </div>\n          '+(c?t(1,f,m,v,g,h):"")+"\n          "+(u?t(2,b,y,w,x,_):"")+"\n          "+(l?t(3,k,T,I,A,S):"")+"\n          "+(d?t(4,E,C,R,j,M):"")+"\n          "+(p?t(5,N,O,P,L,q):"")+'\n          <div class="t009-bannerCloseContent"><div id="t009-close" class="t009-bannerClose">\u2715</div></div>\n        </div>\n      </div>\n    ')})();H.click((function(t){t&&t.target&&"t009-close"===t.target.id?(H.fadeOut("1000"),e.emitCustomGoal("romanPass-bannerClose")):e.emitCustomGoal("romanPass:banner:clicked")})),(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(D),H.hide(),i("body").append(H),H.fadeIn("1000").addClass("t009-showAnimation")}}),(function(e,t,n){e.exports=function(e,t){function i(n){s&&r(["window.utag_data.products_id",".block-aside-rewards",".block-aside-why-us"],(function(i){-1!=o.inArray(i[0],n.noNHRHotels)&&(e.state.set("isRoomDisplay",!0),t())})),a&&(e.state.set("isCheckOut",!0),r(["window.utag_data.products_id","#faqs-aside",".m-checkout-data-rewards"],(function(i){-1!=o.inArray(i[0],n.noNHRHotels)&&(e.state.set("isCheckOut",!0),t())})))}n(2)(150,[],".nh-hotels.com");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/booking/step2-personal-data"),s=-1!==window.location.pathname.indexOf("/step1-rates");(s||a)&&(function(){o.when(o.get("https://www.nh-hotels.com/images_ns/qubit/noNHRHotels.json")).done((function(e){i(e)}))})()}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] No NHR Hotels");var t=n(1);e.state.get("isRoomDisplay")&&(t(".block-aside-rewards").hide(),t(".block-aside-why-us").parent().hide()),e.state.get("isCheckOut")&&(t(".m-checkout-data-rewards").hide(),t("#faqs-aside .panel-default").first().hide())}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/b2b-ccg/c00172121a78f1f186e84e4492eb3d95")&&i([".box-content-form",".block-landing-text","#js-section-home-searchbox",".main-content"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] CCG LINK Travel Agents");var t=n(1);t(".box-content-form h1").text("Enjoy the benefits of our Special Rates for your personal trips!"),t(".main-content").hide(),t("#js-section-home-searchbox").after('<section class="main-content"><div class="container"><div class="row"><div class="col-md-12 col-xs-12"><div class="col-md-6 col-xs-12"><div class="block-content-rw"><a href="https://www.nh-hotels.com/travel-agents/rate-conditions-ta" target="_blank" id="boton-learn"><img src="https://www.nh-hotels.com/images_ns/qubit/CCG/CCG_17-02-20_banner555x404_B1.jpg" style="" width="100%"></a></div></div><div class="col-md-6 col-xs-12"><div class="block-content-rw"><img src="https://www.nh-hotels.com/images_ns/qubit/CCG/CCG_17-02-20_banner555x404_A3.gif" style="" width="100%"></div></div></div></div></div></section>'),t("#boton-learn").on("click",(function(){e.emitCustomGoal("learn-more")}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.nl");var i=n(3);n(1);i(["window.utag_data.eventId","#optionRooms",".occupancy-selector.js-occupancy-selector",".selectpicker.js-occupancy-adults",".selectpicker.js-occupancy-room-select","window.jQuery.fn.selectpicker"],(function(n){e.state.set("monoRooms",!0),t()}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] CGW 1roomIssue [Home CGW]"),e.state.get("monoRooms")&&$("#optionRooms").on("change",(function(){$(".occupancy-selector.js-occupancy-selector").is(":visible")&&$(".selectpicker.js-occupancy-room-select").each((function(){$(this).children("option").slice(-5).remove(),$(this).selectpicker("refresh")}))}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/b2b-ccg/")&&i([".box-content-form",".block-landing-text",".top-nav-01 #languageLinks",".top-nav-01 .dropdown",".telephoneList"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] CCG LeakPoints");var t=n(1);t(".top-nav-01 .list-unstyled > li").hide(),t(".telephoneList").parent().show(),t(".top-nav-01 #languageLinks").show(),t(".rewards-side-menu").remove(),t(".membership-side-info").remove(),t(".box-men03").remove(),t(".main-content .container:last .row div:first").removeClass("col-md-9 col-md-push-3").addClass("col-md-12")}}),(function(e,t,n){e.exports=function(e,t){function i(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;t&&f.test(t)&&r()}))}function r(){setTimeout((function(){u(v,(function(){t(),l.val(p)||a("1")}))}),m)}function o(){"1"===l.val(p)&&(e.emitCustomGoal("romanPass:bounce:not-bounce"),a("2"))}function a(t){l.set(p,t,{domain:e.meta.cookieDomain,path:"/"})}function s(t){u(["window.ga","window.ga.getByName",c],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function c(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var u=n(3),l=n(6),d=e.data,p=(d.thresholdSessionMaximum,d.thresholdPageViewMaximum,"t009-nonBouncer"),f=/computer|tablet/i,m=2e3,v="body";return-1!==window.location.pathname.indexOf("/step1-rates")&&u(["window.utag_data.search.idHotel","#room-grid-selection"],(function(e){"IELD.MAKDU"==e&&(o(),i())})),{onActivation:function(){s("Banner: Roman Pass")}}}}),(function(e,t,n){e.exports=function(e){function t(e,t,n,r,o,a){B++;var s=1===e,c=5===e,u=t&&""!==t,l=n&&""!==n,d=r&&""!==r,p=o&&""!==o,f='\n      <div class="'+(c?"t009-fivethTile":"t009-tile")+" "+(s?"t009-firstTile":"")+" t009-tile"+B+'">\n        '+(u?'<div class="t009-tileTitle '+(s?"t009-firstTileTitle":"")+'">'+t+"</div>":"")+"\n        "+(l?'<div class="t009-tileText">'+n+"</div>":"")+"\n        "+(d?'<div class="t009-tileLink t009-tileLink'+e+'">'+r+'<span class="t009-tileTextArrow">&#9656;</span></div>':"")+" \n        "+(p?'<div class="t009-tileButton t009-tileButton'+e+'">'+o+"</div>":"")+"\n      </div>\n    ";return a&&i(document).on("click",".t009-tileButton"+e+", .t009-tileLink"+e,(function(){setTimeout((function(){if(d){window.open(a,"_blank").focus()}else window.location.href=a}),250)})),f}var i=n(1);console.log("[Qubit] The Marker re-branding");var r=e.data,o=r.textColor,a=r.bannerColor,s=r.mainImage,c=r.isTile1,u=r.isTile2,l=r.isTile3,d=r.isTile4,p=r.isTile5,f=r.title1,m=r.text1,v=r.linkText1,g=r.buttonText1,h=r.URL1,b=r.title2,y=r.text2,w=r.linkText2,x=r.buttonText2,_=r.URL2,k=r.title3,T=r.text3,I=r.linkText3,A=r.buttonText3,S=r.URL3,E=r.title4,C=r.text4,R=r.linkText4,j=r.buttonText4,M=r.URL4,N=r.title5,O=r.text5,P=r.linkText5,L=r.buttonText5,q=r.URL5,D="\n    .t009-banner a {\n      color: "+o+";\n      text-decoration: underline;\n    }\n    .t009-banner {\n      height: 150px;\n      position: fixed;\n      bottom: -150px;\n      background-color: "+a+";\n      color: "+o+";\n      z-index: 999;\n      font-family: Gotham;\n    }\n      .t009-bannerContent {\n        position: relative;\n        height: 100%;\n      }\n        .t009-bannerCloseContent {\n          width: 20px;\n          height: 100%;\n          display: inline-block;\n        }\n        .t009-bannerClose {\n          cursor: pointer;\n          position: absolute;\n          top: 6px;\n          right: 10px;\n          color: "+o+";\n        }\n        .t009-preImageTile {\n          display: inline-block;\n          height: 100%;\n          width: auto;\n          max-width: 400px;\n          vertical-align: top;\n        }\n          .t009-preImageTile > img {\n            height: 100%;\n          }\n        .t009-tile {\n          vertical-align: top;\n          width: 300px;\n          display: inline-block;\n          margin-top: 10px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n        .t009-firstTile {\n          border-left: none !important;\n        }\n          .t009-tileTitle {\n            height: 45px;\n            margin-top: 8px;\n            font-size: 15px;\n            text-transform: uppercase;\n            font-weight: bold;\n          }\n          .t009-tileText {\n            margin-bottom: 15px;\n            font-size: 13px;\n            line-height: 16px;\n            margin-top: 25px;\n          }\n          .t009-tileButton {\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n            background-color: white;\n            color: "+a+";\n            padding: 5px 10px;\n            border-radius: 6px;\n            font-weight: bold;\n            width: 80%;\n            text-transform: uppercase;\n          }\n          .t009-firstTileTitle {\n            font-family: Gotham;\n            font-size: 20px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            height: 80px;\n          }\n          .t009-tileLink {\n            letter-spacing: 2px;\n            text-decoration: underline;\n            cursor: pointer;\n          }\n          .t009-tileTextArrow {\n            text-decoration: none;\n            display: inline-block;\n            margin-left: 5px;\n          }\n        .t009-fivethTile {\n          vertical-align: top;\n          width: 480px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n          .t009-fivethTileContent {\n            \n          }\n        \n    .t009-tile5 {\n      display: none !important;\n    }\n    @media screen and (max-width: 1280px) {\n      .t009-tile4 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 1030px) {\n      .t009-tile3 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 780px) {\n      .t009-tile2 {\n        display: none !important;\n      }\n    } \n    @media screen and (max-width: 530px) {\n      .t009-banner {\n        display: none !important;\n      }\n    } \n\n    .t009-showAnimation {\n      -webkit-animation: t009-showAnimation 3s forwards;\n    }\n    @-webkit-keyframes t009-showAnimation {\n      0% {\n        bottom: -150px;\n      }\n      100% {\n        bottom: 0px;\n      }\n    }    \n  ",B=0,H=(function(){return i('\n      <div class="t009-banner">\n        <div class="t009-bannerContent">\n          <div class="t009-preImageTile">\n            <img src="'+s+'" alt=""/>\n          </div>\n          '+(c?t(1,f,m,v,g,h):"")+"\n          "+(u?t(2,b,y,w,x,_):"")+"\n          "+(l?t(3,k,T,I,A,S):"")+"\n          "+(d?t(4,E,C,R,j,M):"")+"\n          "+(p?t(5,N,O,P,L,q):"")+'\n          <div class="t009-bannerCloseContent"><div id="t009-close" class="t009-bannerClose">\u2715</div></div>\n        </div>\n      </div>\n    ')})();H.click((function(t){t&&t.target&&"t009-close"===t.target.id?(H.fadeOut("1000"),e.emitCustomGoal("romanPass-bannerClose")):e.emitCustomGoal("romanPass:banner:clicked")})),(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(D),H.hide(),i("body").append(H),H.fadeIn("1000").addClass("t009-showAnimation")}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/servicing/cancel")&&i([".js-total-cancel-price"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Cancellation costs hidden"),n(1)(".js-total-cancel-price").parent().hide()}}),(function(e,t,n){e.exports=function(e,t){function i(e,t,n,i){var r=e.split("/"),o=t.split("/"),a=new Date([r[1],r[0],r[2]].join("/")),s=new Date([o[1],o[0],o[2]].join("/"));if(a>=n&&s<=i)return!0}function r(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;t&&m.test(t)&&o()}))}function o(){setTimeout((function(){u(g,(function(){t(),l.val(f)||a("1")}))}),v)}function a(t){l.set(f,t,{domain:e.meta.cookieDomain,path:"/"})}function s(t){u(["window.ga","window.ga.getByName",c],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function c(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var u=n(3),l=n(6),d=n(1),p=e.data,f=(p.thresholdSessionMaximum,p.thresholdPageViewMaximum,"t009-nonBouncer"),m=/computer|tablet/i,v=2e3,g="body",h=-1!==window.location.pathname.indexOf("/step1-rates"),b=GetURLParameter("fini"),y=GetURLParameter("fout"),w=new Date("05/22/2020"),x=new Date("12/31/2020"),_=["PT08.MAVIL","PT08.CARVO","PT08.LAGOS","PT08.PORTI","PT08.VILAM"];return h&&(function(){console.log("previousRequirements"),u(["window.utag_data.products_id","window.utag_data.businessType",function(){return"B2C"===window.utag_data.businessType}],(function(t,n){-1!=d.inArray(t[0],_)&&i(b,y,w,x)&&(e.state.set("firstWindow",!0),r())}))})(),{onActivation:function(){s("Rewarding Weekends")}}}}),(function(e,t,n){e.exports=function(e){function t(e,t,n,r,o,a){B++;var s=1===e,c=5===e,u=t&&""!==t,l=n&&""!==n,d=r&&""!==r,p=o&&""!==o,f='\n      <div class="'+(c?"t009-fivethTile":"t009-tile")+" "+(s?"t009-firstTile":"")+" t009-tile"+B+'">\n        '+(u?'<div class="t009-tileTitle '+(s?"t009-firstTileTitle":"")+'">'+t+"</div>":"")+"\n        "+(l?'<div class="t009-tileText">'+n+"</div>":"")+"\n        "+(d?'<div class="t009-tileLink t009-tileLink'+e+'">'+r+'<span class="t009-tileTextArrow">&#9656;</span></div>':"")+" \n        "+(p?'<div class="t009-tileButton t009-tileButton'+e+'">'+o+"</div>":"")+"\n      </div>\n    ";return a&&i(document).on("click",".t009-tileButton"+e+", .t009-tileLink"+e,(function(){setTimeout((function(){if(d){window.open(a,"_blank").focus()}else window.location.href=a}),250)})),f}var i=n(1);console.log("[Qubit] Promo: Resorts Portugal");var r=e.data,o=r.textColor,a=r.bannerColor,s=r.mainImage,c=r.isTile1,u=r.isTile2,l=r.isTile3,d=r.isTile4,p=r.isTile5,f=r.title1,m=r.text1,v=r.linkText1,g=r.buttonText1,h=r.URL1,b=r.title2,y=r.text2,w=r.linkText2,x=r.buttonText2,_=r.URL2,k=r.title3,T=r.text3,I=r.linkText3,A=r.buttonText3,S=r.URL3,E=r.title4,C=r.text4,R=r.linkText4,j=r.buttonText4,M=r.URL4,N=r.title5,O=r.text5,P=r.linkText5,L=r.buttonText5,q=r.URL5,D="\n    .t009-banner a {\n      color: "+o+";\n      text-decoration: underline;\n    }\n    .t009-banner {\n      height: 150px;\n      position: fixed;\n      bottom: -150px;\n      background-color: "+a+";\n      color: "+o+";\n      z-index: 999;\n      font-family: Gotham;\n    }\n      .t009-bannerContent {\n        position: relative;\n        height: 100%;\n      }\n        .t009-bannerCloseContent {\n          width: 20px;\n          height: 100%;\n          display: inline-block;\n        }\n        .t009-bannerClose {\n          cursor: pointer;\n          position: absolute;\n          top: 6px;\n          right: 10px;\n          color: "+o+";\n        }\n        .t009-preImageTile {\n          display: inline-block;\n          height: 100%;\n          width: auto;\n          max-width: 400px;\n          vertical-align: top;\n        }\n          .t009-preImageTile > img {\n            height: 100%;\n          }\n        .t009-tile {\n          vertical-align: top;\n          width: 220px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n        .t009-firstTile {\n          border-left: none !important;\n        }\n          .t009-tileTitle {\n            margin-top: 8px;\n            font-size: 15px;\n            text-transform: uppercase;\n            font-weight: bold;\n          }\n          .t009-tileText {\n            margin-bottom: 15px;\n            font-size: 13px;\n            line-height: 16px;\n          }\n          .t009-tileButton {\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n            background-color: white;\n            color: "+a+";\n            padding: 5px 10px;\n            border-radius: 6px;\n            font-weight: bold;\n            width: 80%;\n            text-transform: uppercase;\n          }\n          .t009-firstTileTitle {\n            font-family: Gotham;\n            font-size: 20px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            height: 80px;\n          }\n          .t009-tileLink {\n            text-decoration: underline;\n            cursor: pointer;\n            margin-top: 5px;\n          }\n          .t009-tileTextArrow {\n            text-decoration: none;\n            display: inline-block;\n            margin-left: 5px;\n          }\n        .t009-fivethTile {\n          vertical-align: top;\n          width: 420px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n          .t009-fivethTileContent {\n            \n          }\n        \n    .t009-tile5 {\n      display: none !important;\n    }\n    @media screen and (max-width: 1280px) {\n      .t009-tile4 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 1030px) {\n      .t009-tile3 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 780px) {\n      .t009-tile2 {\n        display: none !important;\n      }\n    } \n    @media screen and (max-width: 530px) {\n      .t009-banner {\n        display: none !important;\n      }\n    } \n\n    .t009-showAnimation {\n      -webkit-animation: t009-showAnimation 3s forwards;\n    }\n    @-webkit-keyframes t009-showAnimation {\n      0% {\n        bottom: -150px;\n      }\n      100% {\n        bottom: 0px;\n      }\n    }    \n  ",B=0,H=(function(){return i('\n      <div class="t009-banner">\n        <div class="t009-bannerContent">\n          <div class="t009-preImageTile">\n            <img src="'+s+'" alt=""/>\n          </div>\n          '+(c?t(1,f,m,v,g,h):"")+"\n          "+(u?t(2,b,y,w,x,_):"")+"\n          "+(l?t(3,k,T,I,A,S):"")+"\n          "+(d?t(4,E,C,R,j,M):"")+"\n          "+(p?t(5,N,O,P,L,q):"")+'\n          <div class="t009-bannerCloseContent"><div id="t009-close" class="t009-bannerClose">\u2715</div></div>\n        </div>\n      </div>\n    ')})();H.click((function(t){t&&t.target&&"t009-close"===t.target.id?(H.fadeOut("1000"),e.emitCustomGoal("romanPass-bannerClose")):e.emitCustomGoal("romanPass:banner:clicked")})),(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(D),H.hide(),i("body").append(H),H.fadeIn("1000").addClass("t009-showAnimation")}}),(function(e,t,n){e.exports=function(e,t){function i(t){e.log.info("CAPITA: setSession"),sessionStorage.setItem(""+g,t)}function r(t){e.log.info("CAPITA: setcookie");var n=new URL(window.location.href),i=window.utag_data.search.city,r=n.searchParams.get("fini"),o=n.searchParams.get("fout"),a={searchURL:t,$inDate:r,$outDate:o,$city:i};f.set(""+g,JSON.stringify(a),{path:"/",expires:(new Date).setYear((new Date).getFullYear()+1)})}function o(e){var t=e.stashData;l("CAPITA: checkDuplicateonConfirmation");var n=JSON.parse(f.val(""+g)),i=t.filter((function(e){return e.url!==n.searchURL})),r=n.$city,o=n.$inDate,a=n.$outDate,s=i.filter((function(e){var t=new URL(e.url),n=e.city,i=t.searchParams.get("fini"),s=t.searchParams.get("fout");return n!==r||i!==o||s!==a}));A(s)}n(2)(60);var a=e.state,s=e.log,c=e.poll,u=e.uv,l=s.info,d=n(1),p=n(5),f=n(6),m=e.getBrowserState().value.ua.deviceType,v="CAPITA:",g="MIG002-Recent-Searches",h=[".m-carousel-search"],b=n(77),y=e.meta,w=y.trackingId,x=y.visitorId,_=b("kv",w),k=x+":recentSearches07",T=function(e){(e.warn?s.warn:s.error)("Capita:",e?e.message:"Unspecified error")},I=function(e){var t=new Error(e);return t.warn=!0,t},A=function(e){l(v+"setStash"),_.set(k,JSON.stringify(e))},S=function(){return l(v+"getStash"),new p(function(e,t){_.get(k).then((function(t){var n=JSON.parse(t);e(n)}))["catch"]((function(t){return e({error:t})}))})},E=function(){return l(v+"checkPageType"),new p(function(e,t){u.once(/trView/i,(function(n){/(home|search|Booking process|Confirmation)/i.test(n.type)?e(n.type):t(new I("not a valid page"))})).replay()})},C=function(){return l(v+"getStashData"),new p(function(e,t){S().then((function(t){e({stashData:t})}))})},R=function(e){var t=e.stashData;return l(v+"removeExiredSearches"),new p(function(e,n){if(t.error||0===t.length)n(new I("stash data for this id not found or Stash Data is empty"));else{e({stashData:t.filter((function(e){var t,n,i,r=e.date,o=r.split("-")[0].trim(),a=o.split("/");return a[0].length>=4?(t=a[2],n=a[1],i=a[0]):(t=a[0],n=a[1],i=a[2]),(new Date).setHours(0,0,0,0)<=new Date(n+"/"+t+"/"+i).setHours(0,0,0,0)}))})}})},j=function(e){var t=e.stashData;return new p(function(e,n){t.error||0===t.length?n(new I("pollForElemet: stash data for this id not found or Stash Data is empty")):c(h).then((function(n){var i=n[0];e({$anchor:i,stashData:t})}))})},M=function(e){var t=e.stashData;return l(v+"getBookingData"),new p(function(e,n){c(["window.utag_data","window.utag_data.search","window.utag_data.search.type","window.utag_data.search.idHotel","window.utag_data.search.city","window.utag_data.search.date",function(){return"Destination"===window.utag_data.search.type||"Hotel"===window.utag_data.search.type}]).then((function(n){var i=(n[0],n[1]),r=(n[2],n[3],""),o="";if(/hotel/i.test(i.type)&&c([".js-hotel-gallery-std",".title-hotel"]).then((function(n){var a=n[0],s=n[1],c=d(a).find(".slick-active");r=d(c).find("img").attr("src");var u=d(s).find("h1");if(o=d(u).text(),r||""!==r||null!==r||o||""!==o){var l=__assign__({},i,{url:window.location.href,imageUrl:r,title:o});e({searchData:l,stashData:t})}})),/destination/i.test(i.type)){var a=new URL(window.location.href),s=a.searchParams.get("destinationId");if(r="https://www.nh-hotels.de/images_ns/qubit/recentSearches/cities/"+s+".jpg",o=i.city,r||""!==r||null!==r||o||""!==o){var u=__assign__({},i,{url:window.location.href,imageUrl:r,title:o});e({searchData:u,stashData:t})}}}))})},N=function(e){var t=e.searchData,n=e.stashData;if(l(v+"structureBookingData"),"undefined"!==t.date||n.date)if(n.error){var i=[];i.push(t),A(i),r(t.url)}else{for(var o=n.length,a=(t.type,[]),s=0;s<o;s++)n[s].idHotel===t.idHotel&&n[s].city===t.city||a.push(n[s]);a.length>=4&&a.pop(),a.unshift(t),A(a),r(t.url)}else l(v+"Error in udata")},O=function(e){var n=e.$anchor,i=e.stashData;i.length?(a.set("stashData",i),a.set("config",{_comp:v,info:l,ticket:g,$:d,$anchor:n,deviceType:m}),t()):l("CAPITA: no data")};!(function(){var e=function(e){if(/home/i.test(e))C().then(R).then(j).then(O)["catch"](T);else if(/search results/i.test(e)||/step1-rates/gi.test(window.location.href)){var t=sessionStorage.getItem(""+g);if("Home"!==t)return void l("CAPITA: not going to fire");C().then(M).then(N)["catch"](T)}else/booking\/confirmation/i.test(window.location.href)&&C().then(o)["catch"](T);i(e)};E().then(e)["catch"](T)})()}}),(function(e,t){e.exports=function(e){function t(e,t){var n,i,r,o=e.split("/");o[0].length>=4?(n=o[2],i=parseInt(n),r=o[1]):(n=o[0],i=parseInt(n),r=o[1]);var a={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};return 1===i||21===i||31===i?n+="st":2===i||22===i?n+="nd":3===i||23===i?n+="rd":i>3&&(n+="th"),n+" "+a[r]}function n(e){return/hotel/i.test(e)?d+"-slide-left hotel-image":d+"-slide-left dest-image"}function i(){l(u+"createSlide");var e="";return v.map((function(i,r){if(3!==r){var o=i.title,a=i.adults,s=i.children,c=i.babies,u=i.date,l=i.imageUrl,p=i.url,f=i.type;if(!/null\./.test(l)){var m=l.replace(/\|[0-9]{3}:[0-9]{3}/g,"|400:380"),v=u.split("-");e+="\n            <a class='"+d+"-slide' href="+p+' style="text-decoration:none">\n              <div class = "'+n(f)+'">\n                  <img src="'+m+'" alt="'+o+"\"/>\n              </div>\n              <div class='"+d+"-slide-right'>\n                  <div class='"+d+"-slide-details'>\n                    <div class=\""+d+'-slide-title">\n                      '+o+'\n                    </div>\n                    <div class="'+d+'-slide-arrow">\n                      <svg width="12" height="12" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M13.395 7.54L20.49 0l30.304 32.213L20.49 64.43l-7.095-7.54 23.21-24.677L13.395 7.54z" fill="#003A70" fill-rule="evenodd"></path>\n                      </svg>\n                    </div>\n                    <div>\n                      <div class="'+d+"-slide-date "+d+'-slide-guests">\n                        '+t(v[0],f)+" - "+t(v[1],f)+"<br>\n                        "+a+" adults | "+s+" children | "+c+" babies\n                      </div>\n                    </div>\n                  </div>\n              </div>\n            </a>\n          "}}})),e}function r(){var t='\n      <div id="'+d+"\" class='"+d+"'>\n        <div class='"+d+"-slider-title'><span>"+e.data.title.trim()+"</span></div>\n        <div class='"+d+"-slider'>"+i()+"</div>\n      </div>\n    ";p(t).insertAfter(f)}function o(){e.poll("."+d).then((function(t){var n='\n          <div class="'+d+'-scroll-to">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M11.3191 13.3921C11.0056 13.3921 10.7705 13.161 10.7705 12.853V7.96048C10.7705 7.65243 11.0056 7.42139 11.3191 7.42139C11.6326 7.42139 11.8677 7.65243 11.8677 7.96048V12.853C11.8677 13.161 11.6326 13.3921 11.3191 13.3921Z" fill="#999999"/>\n              <path d="M13.1616 15.718L11.2456 13.8578C10.9741 13.7011 10.8861 13.3836 11.0402 13.1168C11.1943 12.85 11.5135 12.7674 11.785 12.924L13.701 14.7843C13.9725 14.941 14.0605 15.2585 13.9064 15.5253C13.7523 15.7921 13.4331 15.8747 13.1616 15.718Z" fill="#999999"/>\n              <path d="M9.53316 2.9523C6.8083 3.68184 4.54405 5.524 3.27611 8.05626C3.14673 8.33011 3.26438 8.61756 3.50348 8.75289C3.78043 8.87809 4.07322 8.75983 4.21257 8.52318C5.35113 6.26477 7.39037 4.64233 9.81247 3.99385C14.4674 2.74755 19.2395 5.41693 20.4565 9.95511C21.6735 14.4933 18.8765 19.1892 14.2594 20.4253C9.60438 21.6716 4.87015 18.9921 3.65317 14.4539C3.57337 14.1564 3.28644 13.994 2.98368 14.075C2.68092 14.1561 2.5137 14.4401 2.5935 14.7376C3.96011 19.8338 9.31601 22.8652 14.5387 21.4669C19.7613 20.0686 22.8828 14.7675 21.5162 9.6714C20.1496 4.57524 14.7558 1.55402 9.53316 2.9523Z" fill="#999999"/>\n              <path d="M2.6116 4.36827C2.30884 4.44933 2.14162 4.73331 2.22142 5.0309L3.26882 8.93674C3.34863 9.23433 3.63555 9.39672 3.93832 9.31566L8.44195 8.10989C8.74471 8.02883 8.91193 7.74484 8.83213 7.44725C8.75233 7.14966 8.4654 6.98727 8.16264 7.06833L4.18885 8.13225L3.28109 4.74719C3.20129 4.4496 2.91437 4.2872 2.6116 4.36827Z" fill="#999999"/>\n            </svg>\n            <a>'+e.data.recentSearch.trim()+"</a>\n          </div>\n        ";p(n).appendTo(".search-bar-content"),e.poll(".Mig001-wrapper").then((function(e){p("."+d+"-scroll-to").remove(),p(e).prepend(n),p("."+d+"-scroll-to").addClass(d+"-m1-exp-present")}))}))}function a(){p("."+d+"-scroll-to").click((function(e){var t="tablet"===m?400:200,n="#"+d,i=p(n).offset();p("html, body").stop().animate({scrollTop:i.top-t},1e3),e.preventDefault()}))}function s(){l(u+"emitGoals"),e.poll("."+d+"-slider").then((function(t){p("."+d+"-slide").on("click",(function(){e.emitCustomGoal("mig002:searchAgain:clicked")}))}))}var c=e.state.get("config"),u=c._comp,l=c.info,d=c.ticket,p=c.$,f=c.$anchor,m=c.deviceType,v=e.state.get("stashData");!(function(){l(u+"runVariation"),r(),o(),a(),s()})(),l(v)}}),(function(e,t,n){e.exports=n(4)('.MIG002-Recent-Searches {\n  color: #003A70;\n}\n.MIG002-Recent-Searches-slider-title span {\n  font-size: 18px;\n  font-weight: 600;\n  font-family: "Gotham", Helvetica, Arial, sans-serif;\n}\n.MIG002-Recent-Searches-slider {\n  list-style: none;\n  display: flex;\n  margin-bottom: 45px;\n  flex-wrap: wrap;\n}\n.MIG002-Recent-Searches-slide {\n  display: grid;\n  grid-template-columns: 1.1fr 1.5fr;\n  width: 337px;\n  height: 120px;\n  margin-right: 30px;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);\n  margin-top: 20px;\n}\n@media (max-width: 768px) {\n  .MIG002-Recent-Searches-slide {\n    margin-right: 20px;\n  }\n}\n.MIG002-Recent-Searches-slide-left {\n  overflow: hidden;\n}\n.MIG002-Recent-Searches-slide .hotel-image img {\n  width: 100%;\n  margin-top: -7px;\n}\n.MIG002-Recent-Searches-slide .dest-image img {\n  max-width: 200%;\n  transform: translatex(-25%);\n}\n.MIG002-Recent-Searches-slide-title {\n  color: #003A70;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 18px;\n}\n.MIG002-Recent-Searches-slide-details {\n  position: relative;\n  padding: 0px 10px 0px 10px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n}\n.MIG002-Recent-Searches-slide-arrow {\n  position: absolute;\n  right: 7px;\n  color: #003A70;\n  font-family: monospace;\n  font-weight: 700;\n  font-size: 28px;\n}\n.MIG002-Recent-Searches-slide-date,\n.MIG002-Recent-Searches-slide-guests {\n  font-size: 10px;\n  line-height: 12px;\n  color: #003A70;\n  font-weight: 600;\n}\n.MIG002-Recent-Searches-scroll-to {\n  padding: 10px 0px 0px 0px;\n  display: flex;\n  align-items: flex-end;\n}\n.MIG002-Recent-Searches-scroll-to a {\n  padding: 0px 5px;\n}\n.MIG002-Recent-Searches-m1-exp-present {\n  padding: 3px 0px 0px 0px;\n  align-items: center;\n  margin-right: 40px;\n}\n')}),(function(e,t,n){e.exports=function(e,t){function i(e){c("CAPITA: setCookie");var t=window.location.href;if(sessionStorage.setItem(d+"-currentUrl",JSON.stringify(t)),e.error||0===e.length)y([window.location.href]);else{var n=new URL(window.location.href).searchParams.get("hotelId"),i=e.filter((function(e){return new URL(e).searchParams.get("hotelId")!==n}));i.push(window.location.href),y(i)}}function r(e){c("CAPITA: removeOnConfirmation");var t=sessionStorage.getItem(d+"-currentUrl");if(!e.error&&0!==e.length||null!==t){var n=JSON.parse(t),i=e.filter((function(e){return e!==n}));y(i)}else c("CAPITA: no data")}console.log("[Qubit] Recent Searches Hotel Page"),n(2)(108);var o=e.state,a=e.log,s=e.poll,c=a.info,u=n(1),l=n(5),d="T027_recent_search",p=[".js-track-book-hp","#modal-hotel-booking","#modal-hotel-booking .search-btn"],f=n(77),m=e.meta,v=m.trackingId,g=m.visitorId,h=f("kv",v),b=g+":recentSearcheshotelpage",y=function(e){c("CAPITA: setStash"),h.set(b,JSON.stringify(e))},w=function(){return c("CAPITA: getStash"),new l(function(e,t){h.get(b).then((function(t){var n=JSON.parse(t);e(n)}))["catch"]((function(t){return e({error:t})}))})},x=function(e){(e.warn?a.warn:a.error)("Capita:",e?e.message:"Unspecified error")},_=function(){return c("CAPITA getStashData"),new l(function(e,t){w().then((function(t){e(t)}))})},k=function(e){return c("CAPITA: checkHotelInCookie"),new l(function(t,n){s([function(){return window.utag_data.products_id!==[]||window.utag_data.search.type}]).then((function(){if(e.error||0===e.length)t(!1);else{var n=window.utag_data.products_id[0],i=e.filter((function(e){var t,i,r,o=new URL(e),a=o.searchParams.get("hotelId"),s=o.searchParams.get("fini"),c=s.split("/");return t=c[0],i=c[1],r=c[2],a===n&&(new Date).setHours(0,0,0,0)<=new Date(i+"/"+t+"/"+r).setHours(0,0,0,0)}));t(i.length?i[0]:!1)}}))})},T=function(e){return c("CAPITA: pollForElement"),new l(function(t,n){s(p).then((function(n){var i=n[0],r=n[1],o=n[2];t({$btn:i,$modal:r,$submitBtn:o,url:e})}))})},I=function(e){var n=e.$btn,i=e.$modal,r=e.$submitBtn,l=e.url;o.set("ele",{$btn:n,$modal:i,$submitBtn:r,url:l}),o.set("config",{state:o,log:a,poll:s,info:c,$:u,ticket:d}),t()};!(function(){c("CAPITA: run"),/step1-rates/.test(window.location.href)?_().then(i)["catch"](x):/\/hotel\//.test(window.location.href)?_().then(k).then(T).then(I)["catch"](x):/booking\/confirmation/i.test(window.location.href)&&_().then(r)["catch"](x)})()}}),(function(e,t){e.exports=function(e){function t(e){var t,n,i,r=e.split("/");t=r[0],n=parseInt(t),i=r[1];var o={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};return 1===n||21===n||31===n?t+="st":2===n||22===n?t+="nd":3===n||23===n?t+="rd":n>3&&(t+="th"),t+" "+o[i]}var n=e.state.get("ele"),i=n.$btn,r=n.$submitBtn,o=n.url,a=e.state.get("config"),s=a.info,c=a.$,u=a.ticket,l=function(){s("CAPITA: renderRecentSearch");var n=new URL(o),i=n.searchParams.get("fini"),a=n.searchParams.get("fout"),l=n.searchParams.get("nadults1"),d=n.searchParams.get("nchilds1"),p=n.searchParams.get("nbabies1"),f='\n      <div class="'+u+"\">\n          <div class='"+u+"-slider-title'><span>"+e.data.title+"</span></div>\n          <a class='"+u+"-slide' href="+o+' style="text-decoration:none">\n            <div class=\''+u+"-slide-right'>\n                <div class='"+u+"-slide-details'>\n                  <div class=\""+u+'-slide-arrow">\n                    <svg width="12" height="12" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M13.395 7.54L20.49 0l30.304 32.213L20.49 64.43l-7.095-7.54 23.21-24.677L13.395 7.54z" fill="#003A70" fill-rule="evenodd"></path>\n                    </svg>\n                  </div>\n                  <div>\n                    <div class="'+u+"-slide-date "+u+'-slide-guests">\n                      '+t(i)+" - "+t(a)+"<br>\n                      "+l+" adults | "+d+" children | "+p+" babies\n                    </div>\n                  </div>\n                </div>\n            </div>\n          </a>\n      </div>\n    ";c(f).insertBefore(r),c("."+u+"-slide").on("click",(function(){e.emitCustomGoal("t027:recentsearch:clicked")})),c(r).on("click",(function(){e.emitCustomGoal("t027:searchCTA:clicked")}))},d=function(){s("CAPITA: cloneandRenderButton"),c('<div class="'+u+'-btn">'+c(i).text()+"</div>").insertBefore(i);var e=c(i).prop("attributes"),t=c("."+u+"-btn");c.each(e,(function(){"class"!==this.name&&c(t).attr(this.name,this.value)})),c(i).css("display","none"),o&&l()};!(function(){s("CAPITA: runVariation"),d()})()}}),(function(e,t,n){e.exports=n(4)('.T027_recent_search {\n  color: #003A70;\n  position: absolute;\n  top: 36px;\n  right: 80px;\n}\n@media (max-width: 1000px) {\n  .T027_recent_search {\n    position: static;\n  }\n}\n.T027_recent_search-slider-title span {\n  font-size: 18px;\n  font-family: "Gotham", Helvetica, Arial, sans-serif;\n}\n.T027_recent_search-slider {\n  list-style: none;\n  display: flex;\n  margin-bottom: 45px;\n  flex-wrap: wrap;\n}\n.T027_recent_search-slide {\n  display: grid;\n  width: 250px;\n  height: 65px;\n  margin-right: 30px;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n  margin-top: 20px;\n}\n@media (max-width: 768px) {\n  .T027_recent_search-slide {\n    margin-right: 20px;\n  }\n}\n.T027_recent_search-slide-left {\n  overflow: hidden;\n}\n.T027_recent_search-slide-title {\n  color: #003A70;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 18px;\n}\n.T027_recent_search-slide-details {\n  position: relative;\n  padding: 0px 10px 0px 10px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n}\n.T027_recent_search-slide-arrow {\n  position: absolute;\n  right: 7px;\n  color: #003A70;\n  font-family: monospace;\n  font-weight: 700;\n  font-size: 28px;\n}\n.T027_recent_search-slide-date,\n.T027_recent_search-slide-guests {\n  font-size: 10px;\n  line-height: 12px;\n  color: #003A70;\n  font-weight: 600;\n}\n.T027_recent_search-btn {\n  display: inline-block;\n  padding: 20px;\n  width: 100%;\n  min-height: 18px;\n  background-color: #000000;\n  border-radius: 3px;\n  border: 0;\n  font-family: "Gotham", Helvetica, Arial, sans-serif;\n  font-size: 16px;\n  font-size: 1rem;\n  text-align: center;\n  text-decoration: none !important;\n  line-height: 20px;\n  color: #ffffff;\n  cursor: pointer;\n  transition: all 0.3s ease 0s;\n  background: #003a70;\n}\n@media (min-width: 768px) {\n  .T027_recent_search-btn {\n    display: block;\n    float: right;\n    width: auto;\n    margin-bottom: 0;\n    min-width: 41.66666667%;\n  }\n}\n@media (min-width: 992px) {\n  .T027_recent_search-btn {\n    float: none;\n    min-width: 25%;\n    margin-top: 6px;\n    font-family: "Lucida Grande", "Lucida Sans Unicode", sans-serif;\n    font-size: 14px;\n    font-size: 0.875rem;\n    padding: 15px 20px;\n  }\n}\n')}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/feel-safe/tivoli")&&i([".logo"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Landing Tivoli Styles");var t=n(1);t(".logo").attr("src","https://assets.tivolihotels.com/image/upload/q_auto,f_auto/media/minor/tivoli/logos/tivoli-logo-white.png"),t(".logo").parent().attr("href","https://www.tivolihotels.com/")}}),(function(e,t,n){e.exports=n(4)(".bg-color-primary {\n  background-color: #00163a !important;\n}\n.menuNav-one {\n  background: #00163a;\n}\n.btn.btn-primary {\n  background: #00163a;\n  border-color: #9d2236;\n}\n.btn.btn-primary:hover {\n  border-color: #9d2236 !important;\n  background: #c72840;\n}\n.block-h1 .h1 {\n  color: #00163a;\n}\n.light-skin {\n  color: #00163a !important;\n}\n.block-grid .grid-elem[data-size] .light-skin small {\n  color: #00163a;\n}\n.btn-menu-right {\n  background-color: #00163a;\n}\n.menuNav-one .box-men01 button.goMenu {\n  background-color: #00163a;\n}\n.header-mob header {\n  background-color: #00163a;\n}\n.text-color-blue-dark {\n  color: #00163a !important;\n}\n.menuNav-one .box-men02 .logo {\n  height: 45px;\n  width: auto;\n  float: left;\n}\n.menuNav-one .box-men02 .logo {\n  margin: -5px 0 0 0;\n  max-height: 45px;\n  width: auto;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){return h(".track-select-room").length>2}function r(){/booking\/step1-rates/i.test(y)?o():/booking\/step2/i.test(y)&&e.emitCustomGoal("t008:step2:seen")}function o(){f.hotelIDs?v("window.utag_data.idHotel",(function(e){-1==f.hotelIDs.indexOf(e)&&a()})):a()}function a(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;k.test(t)&&u()}))}function s(){v(["window.utag_data.products_id"],(function(e){-1==h.inArray(e[0],m)&&c()}))}function c(){var e=new Date,t=I.split("/"),n=new Date([t[1],t[0],t[2]].join("/"));parseInt((n-e)/864e5,10)>=6&&r()}function u(){v(T,(function(e,t,n,i){for(var r=x.roomCategoryCode||[],o=x.ratePriceCode||[],a=x.regimen||[],s=0;s<t.length;s++){var c=t.eq(s).val(),u=n.eq(s).val(),p=i.eq(s).val(),f=l(r,c),m=l(o,u),v=l(a,p);f&&m&&v&&w.push(e.eq(s))}w.length>0&&d()}))}function l(e,t){if(e&&0===e.length)return!0;for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function d(){g.val(b)||p("1"),e.state.set("config",{message:_,inputToHightlight:w}),t();for(var n=0;n<w.length;n++)w[n].parent().parent().parent().find(".vmiddle-element form button").click((function(){e.emitCustomGoal("t008:button:clicked")}))}function p(t,n){g.set(t,n,{domain:e.meta.cookieDomain,path:"/"})}var f={configPromo:{text:"Free Cancellation"}},m=["ITSA.AMALF"];n(2)(150,[],".nh-hotels.com");var v=n(3),g=n(6),h=n(1),b="x-t008-seen",y=window.location.pathname,w=[],x=f.configPromo,_=x.text,k=/computer/i,T=[".total-price",'form input[name="roomCategoryCode"]','form input[name="ratePriceCode"]','form input[name="regimen"]',i],I=GetURLParameter("fini");!(function(){"1"===g.val(b)&&(e.emitCustomGoal("t008:bonce:not-bounce"),p("2"))})(),s()}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Free cancelation tick");for(var t=e.state.get("config"),n=t.inputToHightlight,i=t.message,r='\n    <div class="t008-tooltip">\n      <div class="t008-tooltipContent">\n        <img src="https://www.nh-hotels.com/images_ns/qubit/free-cancellation-tick.png" width="10" height="10">\n        <span class="t008-text">'+i+"</span>\n      </div>\n    </div>\n  ",o=0;o<n.length;o++){var a=n[o];(a.closest(".tr-semiflexible-rates").length||a.closest(".tr-flexible-rates").length)&&a.closest(".row-rate.js-row-rate-height.lazy-mealplan").find(".lazy-meal-descript").after(r)}}}),(function(e,t,n){e.exports=n(4)(".t008-price {\n  color: #48a23f;\n  font-weight: bold;\n}\n.t008-tooltip {\n  color: #48a23f;\n  white-space: nowrap;\n  padding-top: 5px;\n  border-radius: 4px;\n  right: 0;\n}\n.t008-tooltip .t008-tooltipContent .t008-text {\n  text-transform: capitalize;\n  font-weight: bold;\n  font-family: Gotham;\n  font-size: 12px;\n  padding: 3px;\n  position: relative;\n  z-index: 100;\n}\n@media screen and (max-width: 1200px) {\n  .t008-tooltip {\n    margin-left: -20px;\n  }\n}\n@media screen and (max-width: 991px) {\n  .t008-tooltip {\n    margin-left: -16px;\n  }\n}\n@media screen and (max-width: 767px) {\n  .t008-tooltip {\n    display: none !important;\n  }\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/feel-safe/nhow")&&i([".logo"],(function(){t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Landing Nhow Styles");var t=n(1);t(".logo").attr("src","https://www.nhow-hotels.com/assets/uploads/sites/2/20190404091848/logo-nhow.png"),t(".logo").parent().attr("href","https://www.nhow-hotels.com/")}}),(function(e,t,n){e.exports=n(4)(".bg-color-primary {\n  background-color: #783cbc !important;\n}\n.menuNav-one {\n  background: #783cbc;\n}\n.btn.btn-primary {\n  background: #783cbc;\n  border-color: #9d2236;\n}\n.btn.btn-primary:hover {\n  border-color: #9d2236 !important;\n  background: #c72840;\n}\n.h1,\n.m-header-secondary .h2 {\n  color: #783cbc;\n}\n.light-skin {\n  color: #783cbc !important;\n}\n.block-grid .grid-elem[data-size] .light-skin small {\n  color: #783cbc;\n}\n.btn-menu-right {\n  background-color: #783cbc;\n}\n.menuNav-one .box-men01 button.goMenu {\n  background-color: #783cbc;\n}\n.header-mob header {\n  background-color: #783cbc;\n}\n.text-color-blue-dark {\n  color: #783cbc !important;\n}\n.menuNav-one .box-men02 .logo {\n  margin: -5px 0 0 0;\n  max-height: 45px;\n  width: auto;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(){p.check(),C?r():x("T016 - The page is not a booking one")}function r(){w("T016 - in the initProcess function"),o().then(a).then(s)}function o(){return w("T016 - in the getDeviceType function"),new v(function(e,t){b().then((function(t){/computer/i.test(t.ua.deviceType)&&e()}))})}function a(){return w("T016 - in the pollForBanner function"),f([function(){var e=m(".block-alert"),t="block"===e.css("display")&&/no availability/i.test(e.text());return e.find("div span span").length>1&&t&&e},function(){var e=window.utag_data,t=e&&e.search;if(t){var n=t.occupation,i=m("#location").text().trim()||t.keyword,r=t.idHotel,o=t.nights,a=t.date;if(n&&"undefined"!==i&&r&&o&&a&&n.length&&i.length&&r.length&&a.length)return{occupation:n,hotelName:i,idHotel:r,nbNights:o,date:a}}},".form-control.js-check-in",".form-control.js-check-out"])}function s(e){var n=e[0],i=e[1];w("T016 - in the fire function");var r=i.hotelName,o=i.idHotel,a=i.nbNights,s=i.date,l=i.occupation,p=c(s),f=u(l);p&&f&&window.__qubit.amd.require(["//d1m54pdnjzjnhe.cloudfront.net/js-libs/slick/slick_requirable.1.6.min.js"],(function(e){d({$blockAlert:n,hotelName:r,idHotel:o,nbNights:a,dates:p,occupations:f,Slick:e}),t()}))}function c(e){var t=e,n=t.split("-");if(n.length>1){var i=new Date(l(n[0].trim())),r=new Date(l(n[1].trim())),o=i.getTime(),a=r.getTime();if(o&&a)return{checkinDay:i,checkoutDay:r,checkinTS:o,checkoutTS:a}}else x("T016 - failed in the formatDates function")}function u(e){var t=e.split(",");if(t.length>3){return{nbRoom:parseInt(t[0],10),nbAdult:parseInt(t[1],10),nbChild:parseInt(t[2],10),nbBaby:parseInt(t[3],10)}}x("T016 - failed in the formatOccupation function")}function l(e){var t=e.split("/");if(t.length>2)return t[1]+"/"+t[0]+"/"+t[2]}function d(e){var t=_.get("xp-config")||{};_.set("xp-config",g.assign(t,e))}n(2)(108);var p=n(666)(e),f=n(37),m=n(1),v=n(5),g=n(0),h=e.data,b=e.getBrowserState,y=e.log,w=y.info,x=y.warn,_=e.state,k=h.isRestrictedIPsEnable,T=window.location,I=T.href,A=T.pathname,S=/&b2b=true/i.test(I)||/&eventTool=true/i.test(I),E=/voucherCode=/i.test(I),C=/\/booking\/step1/i.test(A),R=["213.78.70.50","213.78.70.51","213.78.70.52","213.78.70.53","10.2.22.25","89.167.129.49","192.168.1.38","83.56.220.78"];return E||S?x("T016 - Wrong URL parameters detected"):k?(function(){e.getVisitorState().then((function(e){var t=e.ipAddress;R.indexOf(t)>-1?(w("T016 - Your IP is valid"),i()):x("T016 - Your IP is not valid")}))})():i(),{onActivation:function(){p.set()}}}}),(function(e,t,n){e.exports=function(e){function t(){r("1")&&(o("2"),e.emitCustomGoal("no-bounce"))}function i(){r("2")||o("1")}function r(e){return a.val(s)===e}function o(t){a.set(s,t,{path:"/",domain:e.meta.cookieDomain})}var a=n(6),s="qb_"+e.meta.experienceId+"_bounce";return{check:t,set:i}}}),(function(e,t,n){e.exports=function(e){function t(){var e=Math.round((fe+me)/2);if(pe!==e&&me<=fe&&ve<=fe&&Q){var t=i(e,fe,me,ve);q("T016 - TOP suggested occupation is: ",t),_(ue,le,t).then((function(e){var n=e.data,i=e.nbPeopleURLParameters;n&&n.code&&666===n.code?(D("T016 - Not in a TOP situation, check availability code returned is 666 => Next step: MLOS check"),a()):(q("T016 - In a TOP situation"),r(t,i))}))["catch"]((function(){D("T016 - Not in a TOP situation, check availability failed => Next step: MLOS check"),a()}))}else D("T016 - Not in a TOP situation, TOPConditions failed => Next step: MLOS check"),a()}function i(e,t,n,i){for(var r={},o=t,a=1;a<=e;a++)r[a]={adults:0,childs:0,babies:0},i&&1===a&&(r[a].babies=i),n&&e-n<a&&(r[a].childs=1),t&&r[a].childs&&(r[a].adults=1,o--);for(var s=1;s<=e;s++)r[s].adults||(o>1?(r[s].adults=2,o-=2):(r[s].adults=1,o--));return r}function r(e,t){var n=M(".form-control.js-check-in").text().trim(),i=M(".form-control.js-check-out").text().trim(),r=t.join("&"),a=S(/(nadults|nchilds|nbabies)/i,r),s=M('\n      <div class="t016-TOP">\n        <div class="t016-TOP-content">\n          <div class="t016-TOP-location t016-TOP-inlineBlock">\n            <div class="t016-TOP-title">Location:</div>\n            <div>'+ie+'</div>\n          </div>\n          <div class="t016-TOP-in t016-TOP-inlineBlock">\n            <div class="t016-TOP-title">Check-in:</div>\n            <div>'+n+'</div>\n          </div>\n          <div class="t016-TOP-out t016-TOP-inlineBlock">\n            <div class="t016-TOP-title">Check-out:</div>\n            <div>'+i+'</div>\n          </div>\n          <div class="t016-TOP-occ t016-TOP-inlineBlock">\n            <div class="t016-TOP-title">Occupancy:</div>\n            '+o(e)+'\n          </div>\n          <div class="t016-TOP-button t016-TOP-inlineBlock">\n            <a href="'+a+'">\n              <div class="t016-TOP-buttonContent">\n                Select\n              </div>\n            </a>\n          </div>\n        </div>\n      </div>\n    ');P("t016:suggestion:viewed","Case2-TOP"),Ae.text($),Te.parent().parent().append(s),s.find(".t016-TOP-buttonContent").click((function(){P("t016:suggestion:clicked","Case2-TOP")}))}function o(e){var t="";for(var n in e){var i=e[n].adults,r=e[n].childs,o=e[n].babies;t=t+'\n        <div class="t016-bold">\n          1 room /\n          '+i+" "+(i<2?"adult":"adults")+",\n          "+r+" "+(r<2?"child":"children")+",\n          "+o+" "+(o<2?"baby":"babies")+" "+(e[parseInt(n,10)+1+""]?"+":"")+"\n        </div>\n      "}return t}function a(){var e=1===parseInt(oe);J&&e?s(se,ce,ue,le):(D("T016 - Not in a MLOS situation, isOneNightSituation failed => Next step: Random dates check"),d())}function s(e,t,n,i){var r=new Date(n),o=new Date(i);r=r.setDate(r.getDate()-1),o=o.setDate(o.getDate()+1),j.all([_(r,i,xe),_(n,o,xe)]).then((function(e){var t=e[0],a=e[1],s=t.data,u=a.data;if(666===s.code&&666===u.code)D("T016 - Not in a MLOS situation, availability failed => Next step: Random dates check"),d();else{q("T016 - In a MLOS situation, the new suggested hotels are: ",{hotel1Data:s,hotel2Data:u});var l={};666!==s.code&&(l.hotel1={checkin:r,checkout:i}),666!==u.code&&(l.hotel2={checkin:n,checkout:o}),P("t016:suggestion:viewed","Case3-MLOS"),c(l),Ae.text(W)}}))["catch"]((function(){D("T016 - Not in a MLOS situation, availability failed => Next step: Random dates check"),d()}))}function c(e,t){var n=M('\n      <div class="t016-MLOS">\n        '+l(e,t)+"\n      </div>\n    ");n.find(".t016-MLOS-buttonContent").click((function(){P("t016:suggestion:clicked",t?"Case4-weekendDates":"Case3-MLOS")})),Te.parent().parent().append(n)}function u(){return"\n      "+pe+" "+(ve<2?"room":"rooms")+" /\n      "+fe+" "+(fe<2?"adult":"adults")+",\n      "+me+" "+(me<2?"child":"children")+",\n      "+ve+" "+(ve<2?"baby":"babies")+"\n    "}function l(e,t){var n="";for(var i in e){var r=e[i],o="hotel1"===i,a=o?"fini":"fout",s=E(r.checkin),c=E(r.checkout),l=o?s:c,d=t?new RegExp("fini|fout","i"):new RegExp(a,"i"),p=S(d,t?"fini="+s+"&fout="+c:a+"="+l);n=n+"\n        "+(e.hotel1&&e.hotel2?'<div class="t016-MLOS-suggestion-'+(o?"1":"2")+'">Suggestion '+(o?"1":"2")+"</div>":"")+'\n        <div class="t016-MLOS-content">\n          <div class="t016-MLOS-location t016-MLOS-inlineBlock">\n            <div class="t016-MLOS-title">Location:</div>\n            <div>'+ie+'</div>\n          </div>\n          <div class="t016-MLOS-dates-in">\n            <div class="t016-MLOS-title">Check-in:</div>\n            <div class="'+(o||t?"t016-MLOS-dates-bold":"")+' t016-MLOS-dates-85">'+s+'</div>\n          </div>\n          <div class="t016-MLOS-dates-out">\n            <div class="t016-MLOS-title">Check-out:</div>\n            <div class="'+(!o||t?"t016-MLOS-dates-bold":"")+' t016-MLOS-dates-85">'+c+'</div>\n          </div>\n          <div class="t016-MLOS-occ t016-MLOS-inlineBlock">\n            <div class="t016-MLOS-title">Occupancy:</div>\n            <div>'+u()+'</div>\n          </div>\n          <div class="t016-MLOS-button t016-MLOS-inlineBlock">\n            <a href="'+p+'">\n              <div class="t016-MLOS-buttonContent" data-type="'+a+'" data-date="'+l+'">\n                Select\n              </div>\n            </a>\n          </div>\n        </div>\n      '}return n}function d(){var e=5===se.getDay()||6===se.getDay(),t=0===ce.getDay();if(e&&t&&Y){q("T016 - weekend situation, is a weekend");var n=Date.now(),i=new Date(ue),r=new Date(le),o=new Date(ue),a=new Date(le);i=i.setDate(i.getDate()-7),r=r.setDate(r.getDate()-7),o=o.setDate(o.getDate()+7),a=a.setDate(a.getDate()+7);if(i<n||r<n){q("T016 - weekend situation, check the next two weeks availability");var s=new Date(ue),c=new Date(le);s=s.setDate(s.getDate()+14),c=c.setDate(c.getDate()+14),p(o,a,s,c)}else q("T016 - weekend situation, check the previous and the next week availability"),p(i,r,o,a)}else D("T016 - Not in a weekend situation => Next step: BBHA check"),G?f():w()}function p(e,t,n,i){j.all([_(e,t,xe),_(n,i,xe)]).then((function(r){var o=r[0],a=r[1],s=o.data,u=a.data;if(666===s.code&&666===u.code)G?f():w();else{q("T016 - In a weekend situation, the new suggested hotels are: ",{hotel1Data:s,hotel2Data:u});var l={};666!==s.code&&(l.hotel1={checkin:e,checkout:t}),666!==u.code&&(l.hotel2={checkin:n,checkout:i}),P("t016:suggestion:viewed","Case4-weekendDates"),Ae.text(K),c(l,!0)}}))["catch"]((function(){G?f():w()}))}function f(){var e=[];N([function(){for(var t=M("#near-hotel .card .js-dispo-show"),n=0;n<t.length;n++){var i=t.eq(n);"none"!==i.css("display")&&e.push(i)}return e.length&&e}],{timeout:5e3}).then((function(e){var t=e[0];q("T016 - In a BBHA situation => hotels to push are: ",t),m(t).then(v)}))["catch"]((function(){D("T016 - Not in a BBHA situation, availability failed => Next step: Show no alternative message"),w()}))}function m(e){return new j(function(t,n){q("T016 - Retrieving Hotel Dispo for BBHA Ribbon"),M.ajax({url:Z,type:"get",dataType:"json",headers:{"X-Header-Project":"NHBot-Product"}}).done((function(n){t({nearHotels:e,dispoRes:n})})).fail((function(){t({nearHotels:e})}))})}function v(e){var t=e.nearHotels,n=e.dispoRes;q("T016 - In the appendBBHARecs function");var i=M('\n      <div class="t016-BBHA-content">\n        <div class="t016-BBHA-recs">\n          '+h(t,n)+"\n        </div>\n      </div>\n    "),r=g(i);P("t016:suggestion:viewed","Case1-BBHA"),Ae.addClass("t016-bold").text(i.find(".t016-BBHA-rec").length>1?z:""),Te.append(r),y(),M(document).one("click",".t016-BBHA-rec",(function(){P("t016:suggestion:clicked","Case1-BBHA")}))}function g(e){for(var t=e.find(".icon-poi"),n=e.find(".brand-logo"),i=e.find(".pull-lefts"),r=e.find("form small"),o=e.find('button[type="submit"]'),a=0;a<t.length;a++){var s=t.eq(a),c=n.eq(a),u=i.eq(a),l=r.eq(a),d=o.eq(a);s.addClass("t016-cantSeeMe"),c.addClass("t016-slider-left-side"),u.addClass("t016-blueColor"),l.text("VAT and City taxes included").insertBefore(d),d.text("Select")}return e}function h(e,t){for(var n="",i=t&&t[re],r=0;r<e.length;r++){var o=e[r],a=o.parents(".card"),s=a.attr("id"),c=i&&i.bestBrotherHotel===s;n=n+'\n        <div class="t016-BBHA-rec">\n          '+(c&&i.unavailableDates&&b(i.unavailableDates)||c&&!i.unavailableDates||!V?Se:"")+"\n          "+a.prop("innerHTML")+"\n        </div>\n      "}return n}function b(e){for(var t=!0,n=0;n<e.length;n++){var i=e[n].split("-");if(i&&i.length>1){var r=i[0],o=i[1],a=r.getTime(),s=o.getTime();if(!(ue<a&&le<s&&ue>a&&le>s)){t=!1;break}}}return t}function y(){ge(M),M(".t016-BBHA-recs").slick({slidesToShow:3,slidesToScroll:1,arrows:!0,prevArrow:'<button class="t016-prevArrow"><svg width="24" height="24" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><title>flecha 1 izquierda</title><desc>Created with Sketch.</desc><path d="M51.4 7.54L44.304 0 14 32.213 44.305 64.43l7.094-7.54-23.21-24.677L51.4 7.54z" fill="#5a5d66" fill-rule="evenodd"></path></svg></button>',nextArrow:'<button class="t016-nextArrow"><svg width="24" height="24" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><title>flecha 1 derecha</title><desc>Created with Sketch.</desc><path d="M13.395 7.54L20.49 0l30.304 32.213L20.49 64.43l-7.095-7.54 23.21-24.677L13.395 7.54z" fill="#5a5d66" fill-rule="evenodd"></path></svg></button>',responsive:[{breakpoint:950,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]})}function w(){P("t016:suggestion:viewed","no-suggestion"),Ae.html('<div class="t016-noReco">'+F+"</div>")}function x(){return new j(function(e,t){q("T016 - Getting the tcm value..."),M.ajax({type:"GET",url:we,dataType:"json",contentType:"application/json",headers:{"X-Header-Project":"NHBot-Product"},success:function(t){R=t&&t.displayBean&&t.displayBean.hotelTcm,q("T016 - The tcm value is: "+R),R&&e()}})})}function _(e,t,n){return new j(function(i,r){q("T016 - Checking the Availability...");var o=k(e,t,n),a=o.payload,s=o.nbPeopleURLParameters;M.ajax({type:"POST",url:ye,dataType:"json",data:JSON.stringify(a),contentType:"application/json",headers:{"X-Header-Project":"NHBot-Product"},success:function(e){i({data:e,nbPeopleURLParameters:s})},error:function(){w()}})})}function k(e,t,n){var i=T(e,t,n),r=i.backingBeanInfo,o=i.roomSearchData,a=i.nbPeopleURLParameters,s={searchData:{requestorInfo:{},hotelSearchData:[{hotelCode:re,roomSearchData:o}],familyFriendsB2E:!1},contracts:["NHWEB","NHWEB_NHR"],isOptimicedCall:!0,backingBeanInfo:r,hotelFrontCode:R};return q("T016 - Payload used is: ",s),{payload:s,nbPeopleURLParameters:a}}function T(e,t,n){var i=[],r=[],o={fini:e,fout:t,nadults1:2,nchilds1:1,idHotel:re};for(var a in n){var s=n[a].adults,c=n[a].childs,u=n[a].babies,l={startDate:e,endDate:t,paxCombination:{paxList:I(s,c,u)}};i.push(l),o["nadults"+a]=s,o["nchilds"+a]=c,o["nbabies"+a]=u,r.push("nadults"+a+"="+s),r.push("nchilds"+a+"="+c),r.push("nbabies"+a+"="+u)}return{roomSearchData:i,backingBeanInfo:o,nbPeopleURLParameters:r}}function I(e,t,n){var i=A(e,1),r=A(t,4),o=A(n,3);return i.concat(r,o)}function A(e,t){for(var n=[],i=0;i<e;i++){var r={paxType:t,age:null};n.push(r)}return n}function S(e,t){return he.filter((function(t){return!e.test(t)})).join("&").replace("&","?")+"&"+t||"#"}function E(e){return new Date(e).toLocaleDateString("fr-FR")}function C(e,t){var n=new RegExp(t+"=(\\d+)"),i=n.exec(e);return i&&i[1]}var R,j=n(5),M=n(1),N=n(37),O=e.data,P=e.emitMetric,L=e.log,q=L.info,D=L.warn,B=e.state,H=O.experienceTitle,U=O.waitingMessage,F=O.failMessage,z=O.BBHASuccessMessage,G=O.isBBHACheckEnable,V=O.isBBHARibbonNotForced,$=O.TOPSuccessMessage,Q=O.isTOPCheckEnable,W=O.MLOS1NightMessage,J=O.isMLOSCheckEnable,K=O.randomWeekendMessage,Y=O.isWeekendSituationEnable,X=O.availabilityEnpoint,Z=O.dispoJSON,ee=O.flowInformationEnpoint,te=B.get("xp-config"),ne=te.$blockAlert,ie=te.hotelName,re=te.idHotel,oe=te.nbNights,ae=te.dates,se=ae.checkinDay,ce=ae.checkoutDay,ue=ae.checkinTS,le=ae.checkoutTS,de=te.occupations,pe=de.nbRoom,fe=de.nbAdult,me=de.nbChild,ve=de.nbBaby,ge=te.Slick,he=window.location.href.split(/&|\?|#/),be=H.replace("{{hotelName}}",ie),ye=X.replace("{{hotelId}}",re),we=ee.replace("{{hotelId}}",re),xe=(function(e){for(var t={},n=window.location.href,i=1;i<=e;i++)t[i]={adults:parseInt(C(n,"nadults"+i))||0,childs:parseInt(C(n,"nchilds"+i))||0,babies:parseInt(C(n,"nbabies"+i))||0};return t})(pe),_e="https://www.nh-hotels.com/system/nhGroup/img/loading.gif",ke=ne.find("div span span"),Te=ke.parent(),Ie=ke.eq(0),Ae=ke.eq(1),Se='\n    <div class="t016-BBHA-badge">\n      <div class="t016-BBHA-badgeSkew"></div>\n      <div class="t016-BBHA-wrap">\n        <span class="t016-BBHA-badgeMessage">Recommended</span>\n      </div>\n    </div>\n  ';!(function(){Ie.text(be).addClass("t016-blueColor"),Ae.html("\n      <div>"+U+'</div>\n      <div class="t016-textalignCenter"><img src="'+_e+'" alt="loading"/></div>\n    '),Q?x().then(t)["catch"]((function(){D("T016 - Error TOP catched => Next step: MLOS check"),a()})):(D("T016 - isTOPCheckEnable is not at true => Next step: MLOS check"),x().then(a))})()}}),(function(e,t,n){e.exports=n(4)('#alert2 {\n  padding-bottom: 5px !important;\n}\n#alert2 > div span .small {\n  margin-top: 15px;\n  font-size: 16px;\n  color: #7D7D7D;\n}\n.t016-bold {\n  font-weight: bold !important;\n}\n.t016-textalignCenter {\n  text-align: center;\n}\n.t016-blueColor {\n  color: #003A70;\n}\n.t016-cantSeeMe {\n  display: none !important;\n}\n.t016-slider-left-side {\n  max-width: 30%;\n  padding: 0px 10px;\n  vertical-align: middle;\n  display: inline-block !important;\n}\n.t016-MLOS-suggestion-1 {\n  font-size: 16px;\n  line-height: 25px;\n  color: #7D7D7D;\n  margin-bottom: 5px;\n}\n.t016-MLOS-suggestion-2 {\n  font-size: 16px;\n  line-height: 25px;\n  color: #7D7D7D;\n  margin-bottom: 5px;\n  margin-top: 20px !important;\n}\n.t016-BBHA-content {\n  margin-top: 20px;\n}\n.t016-BBHA-content .t016-prevArrow {\n  z-index: 2;\n  top: 40%;\n  left: -30px;\n  border: none;\n  background: none;\n  position: absolute;\n}\n.t016-BBHA-content .t016-nextArrow {\n  z-index: 2;\n  top: 40%;\n  right: -30px;\n  border: none;\n  background: none;\n  position: absolute;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide {\n  margin: 10px;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec {\n  height: 100%;\n  padding-bottom: 20px;\n  background-color: white;\n  box-shadow: 0px 5px 14px rgba(0, 0, 0, 0.2);\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec div.image {\n  height: 193px;\n  min-height: 193px;\n  max-height: 193px;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info {\n  min-height: 130px;\n  max-height: 130px;\n  padding: 10px;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info .pull-left {\n  width: 65%;\n  vertical-align: top;\n  float: none !important;\n  display: inline-block !important;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info .pull-left p.h4 {\n  font-size: 1.6rem !important;\n  margin-top: 0px !important;\n  margin-bottom: 5px;\n  padding-bottom: 0 !important;\n  line-height: 2rem !important;\n  text-align: left !important;\n  display: -webkit-box;\n  -webkit-line-clamp: 3 !important;\n  -webkit-box-orient: vertical !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info a {\n  margin-top: 5px;\n  line-height: 16px;\n  display: inline-block;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info a span {\n  float: left;\n  display: inline-block;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info > p,\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .info .trip-rating {\n  display: none;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price {\n  min-height: 120px;\n  max-height: 120px;\n  text-align: center;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price .h3 {\n  padding-bottom: 0px !important;\n  margin-bottom: 0px !important;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price .h3 .js-preciototal {\n  color: black;\n  display: inline-block;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price .h3 small {\n  color: black;\n  font-size: 1.1rem;\n  display: inline-block;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price .h3 small .js-currency {\n  top: 0px !important;\n  font-size: 100% !important;\n}\n.t016-BBHA-content .t016-BBHA-recs .slick-track .slick-slide > div .t016-BBHA-rec .price form small {\n  margin-bottom: 10px !important;\n  font-size: 1rem !important;\n}\n.t016-BBHA-rec {\n  position: relative;\n}\n.t016-BBHA-rec .t016-BBHA-badge {\n  margin: 0 auto;\n  position: absolute;\n  top: -10px;\n  left: -8px;\n}\n.t016-BBHA-rec .t016-BBHA-badge > div {\n  height: 30px;\n}\n.t016-BBHA-rec .t016-BBHA-badge .t016-BBHA-badgeSkew {\n  height: 30px;\n  position: absolute;\n  background: #e69500;\n  width: 7%;\n  top: 6px;\n  z-index: 5;\n  left: 0%;\n  transform: skew(0deg, 20deg);\n}\n.t016-BBHA-rec .t016-BBHA-badge .t016-BBHA-wrap {\n  padding: 0 3px;\n  background: #fec942;\n  position: relative;\n  display: block;\n  width: 100%;\n  left: 50%;\n  padding: 4px 10px;\n  margin-left: -50%;\n  z-index: 10;\n  text-align: center;\n}\n.t016-BBHA-rec .t016-BBHA-badge .t016-BBHA-wrap .t016-BBHA-badgeMessage {\n  display: inline-block;\n  float: left;\n  line-height: 22px;\n  font-size: 14px;\n  color: #f1f1f1;\n  font-weight: bold;\n}\n@media all and (max-width: 1020px) {\n  .t016-BBHA-badgeSkew {\n    left: 0%;\n    transform: skew(0deg, 25deg);\n  }\n}\n@media all and (max-width: 680px) {\n  .t016-BBHA-badgeSkew {\n    left: 0%;\n    transform: skew(0deg, 30deg);\n  }\n}\n@media all and (max-width: 460px) {\n  .t016-BBHA-badgeSkew {\n    left: 0%;\n    transform: skew(0deg, 40deg);\n  }\n}\n.t016-TOP {\n  padding: 30px 30px;\n}\n.t016-TOP .t016-TOP-content {\n  display: table;\n  font-size: 14px;\n  line-height: 18px;\n  padding: 18px 18px;\n  text-align: center;\n  vertical-align: middle;\n  background-color: white;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n}\n.t016-TOP .t016-TOP-content .t016-TOP-inlineBlock {\n  vertical-align: middle;\n  display: inline-block;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-inlineBlock a:hover {\n  text-decoration: none;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-title {\n  color: #7D7D7D;\n  font-size: 11px;\n  line-height: 11px;\n  margin-bottom: 12px;\n}\n.t016-TOP .t016-TOP-content .t016-bold {\n  font-weight: bold;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-location {\n  width: 27%;\n  text-align: left;\n  height: 100%;\n  line-height: 21px;\n  display: table-cell;\n  vertical-align: top;\n  padding: 0px 15px 5px 0px;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-in {\n  width: 12%;\n  text-align: left;\n  border-left: 1px solid;\n  height: 100%;\n  line-height: 21px;\n  vertical-align: top;\n  display: table-cell;\n  padding: 0px 0px 5px 13px;\n  border-color: #f4f4f4;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-out {\n  width: 12%;\n  text-align: left;\n  border-right: 1px solid;\n  height: 100%;\n  line-height: 21px;\n  display: table-cell;\n  vertical-align: top;\n  padding: 0px 13px 5px 10px;\n  border-color: #f4f4f4;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-occ {\n  width: 33%;\n  height: 100%;\n  display: table-cell;\n  text-align: left;\n  line-height: 21px;\n  vertical-align: top;\n  padding: 0px 15px 5px 15px;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-button {\n  display: table-cell;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-button .t016-TOP-buttonContent {\n  cursor: pointer;\n  width: 156px;\n  padding: 10px 35px;\n  border-radius: 3px;\n  color: white;\n  background-color: #053b6e;\n  border: 1px solid #04305a;\n  font-family: "Lucida Grande", "Lucida Sans Unicode", sans-serif;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-button a {\n  font-weight: normal !important;\n  color: white !important;\n}\n.t016-TOP .t016-TOP-content .t016-TOP-button a:hover {\n  text-decoration: none;\n}\n@media only screen and (max-width: 1200px) {\n  .t016-TOP-out,\n  .t016-TOP-in {\n    display: none !important;\n  }\n  .t016-TOP-occ {\n    width: 40% !important;\n  }\n  .t016-TOP-location {\n    width: 40% !important;\n  }\n}\n.t016-MLOS {\n  padding: 30px 30px;\n}\n.t016-MLOS .t016-MLOS-content {\n  width: 100%;\n  margin: auto;\n  display: table;\n  font-size: 14px;\n  line-height: 18px;\n  padding: 5px 15px;\n  text-align: center;\n  vertical-align: middle;\n  background-color: white;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-inlineBlock {\n  vertical-align: middle;\n  display: inline-block;\n}\n.t016-MLOS .t016-MLOS-content .t016-bold {\n  font-weight: bold;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-title {\n  color: #7D7D7D;\n  font-size: 11px;\n  line-height: 11px;\n  margin-bottom: 12px;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-location {\n  width: 30%;\n  vertical-align: top;\n  text-align: left;\n  padding: 5px 15px 5px 0px;\n  display: table-cell;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-occ {\n  width: 30%;\n  height: 100%;\n  display: table-cell;\n  text-align: left;\n  line-height: 21px;\n  vertical-align: top;\n  padding: 5px 15px 5px 15px;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-MLOS .t016-MLOS-content > div {\n  margin-bottom: 5px;\n}\n.t016-MLOS .t016-MLOS-content > div > span a,\n.t016-MLOS .t016-MLOS-content > div > div a {\n  color: #04305a;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-dates-bold {\n  font-weight: bold;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-dates-85 {\n  min-width: 85px;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-dates-in {\n  width: 12%;\n  text-align: left;\n  border-left: 1px solid;\n  height: 100%;\n  line-height: 21px;\n  vertical-align: top;\n  display: table-cell;\n  padding: 5px 15px 5px 20px;\n  border-color: #f4f4f4;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-dates-out {\n  width: 12%;\n  text-align: left;\n  border-right: 1px solid;\n  height: 100%;\n  line-height: 21px;\n  display: table-cell;\n  vertical-align: top;\n  padding: 5px 15px 5px 20px;\n  border-color: #f4f4f4;\n  color: #333333;\n  font-size: 14px;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-dates-out {\n  margin-left: 10px;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-button {\n  display: table-cell;\n  width: 100%;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-button .t016-MLOS-buttonContent {\n  cursor: pointer;\n  padding: 10px 35px;\n  border-radius: 3px;\n  color: white;\n  background-color: #053b6e;\n  border: 1px solid #04305a;\n  font-family: "Lucida Grande", "Lucida Sans Unicode", sans-serif;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-button a {\n  font-weight: normal !important;\n  color: white !important;\n}\n.t016-MLOS .t016-MLOS-content .t016-MLOS-button a:hover {\n  text-decoration: none;\n}\n@media only screen and (max-width: 1200px) {\n  .t016-MLOS-location {\n    width: 40% !important;\n  }\n  .t016-MLOS-occ {\n    width: 40% !important;\n    border-right: none !important;\n    padding: 5px 15px 5px 15px!important;\n  }\n}\n.t016-noReco {\n  margin-bottom: 25px;\n}\n@media only screen and (max-width: 699px) {\n  .t016-MLOS-location {\n    border: none !important;\n    width: 100% !important;\n  }\n  .t016-MLOS-occ {\n    padding: 0px !important;\n    display: block !important;\n    width: 100% !important;\n  }\n  .t016-MLOS-dates-out {\n    margin-left: 0px !important;\n  }\n}\n')}),(function(e,t,n){e.exports=function(e,t){function i(e){m(["window.utag_data.search.nights","window.utag_data.search.daysInAdvance",".lazy-no-voucher-hide"],(function(t,n){r(e,w,t,n),p&&a(p)}))}function r(e,t,n,i){v.each(e,(function(e,r){v.each(r.hotels,(function(e,a){-1!=v.inArray(t,a.ids)&&o(a,r,n,i)}))}))}function o(e,t,n,i){var r=c(e.bookingWindowLow,e.bookingWindowTop),o=s(y,b,e.travelWindowLow,e.travelWindowTop),a=u(n,e.mlos),f=d(y,b,e.blackoutDates),m=l(i,e.mabw);console.log("checkBookingWindow: "+r),console.log("checkTravelWindow: "+o),console.log("checkMLOS: "+a),console.log("checkBlackoutDates: "+f),console.log("checkDaysInAdvance: "+m),r&&o&&a&&!f&&m&&(p=t)}function a(n){console.log("Campa\xf1a asociasda: "+n.title+", con voucherCode: "+n.voucherCode),-1==v.inArray(x,n.domains)&&0!=n.domains.length||-1==v.inArray(f,n.countries)&&0!=n.countries.length||1!=n.desktop||(e.state.set("voucherCode",n.voucherCode),t())}function s(e,t,n,i){var r=e.split("/"),o=t.split("/"),a=new Date([r[1],r[0],r[2]].join("/")),s=new Date([o[1],o[0],o[2]].join("/")),c=new Date(n),u=new Date(i);return a>=c&&s<=u}function c(e,t){var n=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());return n<=new Date(t)&&n>=new Date(e)}function u(e,t){return e<=t}function l(e,t){return e>=t}function d(e,t,n){var i=e.split("/"),r=t.split("/"),o=!1;return e=new Date([i[1],i[0],i[2]].join("/")),t=new Date([r[1],r[0],r[2]].join("/")),v.each(n,(function(n,i){i=new Date(i),i.getTime()<=t.getTime()&&i.getTime()>=e.getTime()&&(o=!0)})),o}n(2)(150,[],".nh-hotels.com");var p,f,m=n(3),v=n(1),g=-1!==window.location.pathname.indexOf("booking/step1"),h=(window.location.pathname.indexOf("booking/hotels"),GetURLParameter("voucherCode")),b=GetURLParameter("fout"),y=GetURLParameter("fini"),w=GetURLParameter("hotelId"),x=window.location.host.split(".")[2],_=["FLASHSALE","POSSALE","POSSALE1","POSSALE2"];-1!=v.inArray(h,_)&&m([".promo-group",".lazy-no-voucher-hide"],(function(){v(".promo-group").remove(),v(".lazy-no-voucher-hide").remove()})),g&&(h?-1!=v.inArray(h,_)&&m([".promo-group"],(function(){v(".promo-group").remove()})):(function(){v.when(v.get("https://www.nh-hotels.com/images_ns/qubit/todayOnlyConfig.json")).done((function(e){i(e)}))})())}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Matching with OTAss");var t=e.state.get("voucherCode"),n=window.location.href.toString()+"&voucherCode="+t;window.location.replace(n)}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3),r=n(1),o=[],a=["Google-HotelAdsVerifier/2.0","Google-HotelAdsVerifier","trivago-AdvertiserQualityAgent/1.0","tEB"],s=["8565112","8431996","8435709","20236471","20405652","20197854","8432193","21808499","22551117","22700061"],c=-1!==window.location.pathname.indexOf("/booking/step1-rates"),u=window.location.search.indexOf("campid")>0,l=getCookie("campidCookie"),d=-1!=r.inArray(l,s);!c||u||d||i(["window.utag_data.search.idHotel","window.navigator.userAgent",".cnt-loading-rd-solid","#lazy-content",function(){return"B2C"===window.utag_data.businessType},function(){return"undefined"!=typeof window.utag_data.products_price}],(function(e,n){-1==r.inArray(e,o)&&-1==r.inArray(n,a)&&t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Amigo 2.0 Intro");var t=n(1),i=(n(3),document.createElement("script"));i.src="https://tag.getamigo.io/js/9fad2876728b7851edb4f38fc329f2fbbd26ef2b5ccdb77ea4f78f5a89e675a4/load.js?v="+Math.round((new Date).getTime()/1e3);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),e.poll(["#amigo-grid-b-variant",".amigo-rates-wrapper"],{timeout:6e3}).then((function(e){e[0],console.log("AMIGO IS THERE"),t(".room-display .nav-tabs").css("height","auto"),t("#lazy-content").attr("style","display: block !important"),t(".cnt-loading-rd-solid").attr("style","display: none !important")}))["catch"]((function(e){console.log(" CATCH AMIGO VARIANTE"),console.log("est\xe1 visible"),t(".room-display .nav-tabs").css("height","auto"),t(".cnt-loading-rd-solid").attr("style","display: none !important"),t("#lazy-content").attr("style","display: block !important")})),e.poll(["#amigo-grid-control"],{timeout:6e3}).then((function(e){e[0],console.log("AMIGO IS THERE"),t(".room-display .nav-tabs").css("height","auto"),t(".cnt-loading-rd-solid").attr("style","display: none !important"),t("#lazy-content").attr("style","display: block !important")}))["catch"]((function(e){console.log("CATCH AMIGO CTRL"),console.log("esta visible"),t(".room-display .nav-tabs").css("height","auto"),t(".cnt-loading-rd-solid").attr("style","display: none !important"),t("#lazy-content").attr("style","display: block !important")}))}}),(function(e,t,n){e.exports=n(4)(".cnt-loading-rd-solid {\n  display: block !important;\n}\n#lazy-content {\n  display: none !important;\n}\n.room-display .nav-tabs {\n  height: 300px;\n}\n/*.amigo-ex-cancellation-text, .amigo-ex-description-section-title, .amigo-ex-included-tag-text, .amigo-ex-description  {\n\n  font-family: Lucida Sans Regular !important;\n\n}\n\n.amigo-ex-description-section-title  {\n   font-family: Lucida Sans Regular !important;\n}\n\n.amigo-ex-cancellation-text {\n  font-family: Lucida Sans Regular !important;  \n}*/\n.amigo-ex-per-night-pricing {\n  margin: 10px 0 -10px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.nl");var i=n(3),r=(n(1),-1!==window.location.pathname.indexOf("/step2-personal-data"));-1!==window.location.pathname.indexOf("/step1-rates")&&"NLNB.KONIN"==GetURLParameter("hotelId")&&"0084912900"==GetURLParameter("evId")&&i([".modal-body.lazy-conditions"],(function(){e.state.set("isRoomDisplay",!0),t()})),r&&i(["window.utag_data.resTarifa","window.utag_data.idHotel","window.utag_data.eventID","#room-01-comments","#modal-conditions-room"],(function(n,i,r){"BGR_MC_XXL"==n&&"NLNB.KONIN"==i&&"0084912900"==r&&(e.state.set("isCheckOut",!0),t())}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Model Expo [CGW]");var t=n(1);e.state.get("isRoomDisplay")&&setTimeout((function(){t(".modal-body.lazy-conditions").each((function(){t(this).find("p").first().text("For World Model Expo 2021 guests: The hotel will be crediting the due amount 3 months before the event. ")})),t(".modal-body.lazy-conditions").each((function(){t(this).find("p").last().text("For World Model Expo 2021 guests: The hotel will be crediting the due amount 3 months before the event. ")}))}),2500),e.state.get("isCheckOut")&&(t("#modal-conditions-room p:first").text("For World Model Expo 2021 guests: The hotel will be crediting the due amount 3 months before the event. "),t("#modal-conditions-room p:last").text("For World Model Expo 2021 guests: The hotel will be crediting the due amount 3 months before the event. "));t("#room-01-comments").closest(".row").hide(),t("#room-01-comments").val(""),t("#GDPR_flag_2").on("change",(function(){this.checked&&t("#room-01-comments").val("Additional conditions for World Model Expo 2021 guests, please note that the credit card used to guarantee the booking will be charged the due amount 3 months before the event.")}))}}),(function(e,t,n){e.exports=function(e,t){function i(){return""!=o(".lazy-meal-descript").text()}n(2)(150,[],".nh-hotels.nl");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/step2-personal-data"),s=-1!==window.location.pathname.indexOf("/step1-rates"),c=GetURLParameter("voucherCode");s&&("PERS"!=c.substring(0,4)&&"DPG"!=c.substring(0,3)||r([".block-aside-rewards",".block-aside-why-us",".link.js-get-form-values.js-change-copy.inactiveLink",".phoneHeader",".icon-phone",".lazy-promotionCode",".lazy-rate-title",i,".track-select-room",".row-rate"],(function(){e.state.set("isRoomDisplay",!0),e.state.set("voucherCode",c),t()}))),a&&r(["window.utag_data.resTarifa","#room-01-comments",".js-change-copy",".phoneHeader",".icon-phone",".box-checkout.m-checkout-data-rewards","#faqs-aside","#promotional-code-number"],(function(n){"PK_PERSG18"!=n&&"PK_PERSG20"!=n||(e.state.set("isCheckOut",!0),t())}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Persgroep 2020");var t=n(1);if(e.state.get("isRoomDisplay")&&(t(".block-aside-rewards").hide(),t(".block-aside-why-us").parent().hide(),t(".link.js-get-form-values.js-change-copy.inactiveLink").hide(),t(".phoneHeader").parent().hide(),t(".icon-phone").parent().parent().parent().hide(),t(".lazy-promotionCode").next().remove(),"PERS"==e.state.get("voucherCode").substring(0,4)&&t('input[value="PK_PERSG20"]').closest(".row-rate").hide(),"DPG"==e.state.get("voucherCode").substring(0,3)&&t('input[value="PK_PERSG18"]').closest(".row-rate").hide()),e.state.get("isCheckOut")){t("#faqs-aside").parent().parent().hide(),t(".js-change-copy").hide(),t(".phoneHeader").parent().hide(),t(".icon-phone").parent().parent().parent().hide(),t(".box-checkout.m-checkout-data-rewards").hide();var i;"PERS"==t("#promotional-code-number").val().substring(0,4)&&(i="Hotelvoucher \u2013 purchased via AD, de Volkskrant, Het Parool or Trouw. Valid for an overnight stay including breakfast. You \u2018pay\u2019 the overnight stay, breakfast and tourist tax by making the reservation online with your unique code."),"DPG"==t("#promotional-code-number").val().substring(0,3)&&(i="Voucher purchased through the web shop of a newspaper or magazine. Valid for an overnight stay including breakfast and tourist tax. You \u2018pay\u2019 your overnight stay by means of your unique voucher code."),t("#room-01-comments").closest(".row").hide(),t("#room-01-comments").val(""),t("#GDPR_flag_2").on("change",(function(){this.checked&&t("#room-01-comments").val(i)}))}}}),(function(e,t,n){e.exports=function(e,t){function i(){return o(".track-select-room").length>2}n(2)(150,[],".nh-hotels.nl");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/step2-personal-data"),s=-1!==window.location.pathname.indexOf("/step1-rates"),c=['form input[name="roomCategoryCode"]','form input[name="ratePriceCode"]','form input[name="regimen"]',".lazy-meal-descript",i];s&&r(c,(function(){var n=!1;o(".lazy-meal-descript").each((function(){"-"==o(this).text().substring(0,1)&&(n=!0)})),1==n&&(e.state.set("isRoomDisplay",!0),t())})),a&&r(["window.utag_data.idHotel","window.utag_data.resTarifa","window.utag_data.resMealPlan","window.utag_data.resTipoHabitaciona","#room-01-comments"],(function(){e.state.set("isCheckOut",!0),t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Package info ahead [Checkout]");var t=n(1);if(e.state.get("isRoomDisplay")){var i=[];t(".row-rate").each((function(){var e=t(this).find(".vmiddle-element form");if("-"==t(this).find(".lazy-meal-descript").text().substring(0,1)){var n=new Object;n.code=GetURLParameter("hotelId")+"-"+e.children('input[name="ratePriceCode"]').val()+"-"+e.children('input[name="roomCategoryCode"]').val()+"-"+e.children('input[name="regimen"]').val(),n.text=t(this).find(".lazy-meal-descript").text().substring(1),i.push(n)}})),sessionStorage.setItem("paquetes",JSON.stringify(i))}if(e.state.get("isCheckOut")&&sessionStorage.getItem("paquetes")){var r=JSON.parse(sessionStorage.getItem("paquetes")),o=window.utag_data.idHotel+"-"+window.utag_data.resTarifa+"-"+window.utag_data.resTipoHabitaciona+"-"+window.utag_data.resMealPlan,a=r.find((function(e){return e.code===o}));sessionStorage.removeItem("paquetes"),a&&(a.text=a.text.substring(1),""===a.text.charAt(0)&&(a.text=a.text.substring(1)),a.text.length<=250&&(t("#room-01-comments").closest(".row").hide(),t("#room-01-comments").val(""),t("#GDPR_flag_2").on("change",(function(){this.checked&&t("#room-01-comments").val(a.text)}))))}}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/ci-online")&&(console.log("salta"),console.log(window.location),console.log(GetURLParameter("client")),i(["body"],(function(){t()})))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Prueba bookingg");n(1)}}),(function(e,t,n){e.exports=function(e,t){function i(){e.poll([".search-bar-content",".search-btn"]).then((function(n){var i=n[0],r=n[1];e.state.set("state",{$searchbar:i,$insertEle:r}),t()}))}n(2)(120),(function(){e.uv.once(/trView/,(function(e){/home/i.test(e.type)&&i()})).replay()})()}}),(function(e,t,n){e.exports=function(e){function t(t){var n;setTimeout((function(){0===(n=a(".search-bar-content").find(".has-error").length)&&t.choice.id!==undefined&&(e.uv.emit("trInteraction",{name:JSON.stringify(t),type:"Mig001 Visitor Pulse Response"}),e.emitCustomGoal(l+":survey-option:clicked"))}),0)}console.log("[Qubit] Visitor pulse");var i,r,o,a=n(1),s=e.state.get("state"),c=s.$insertEle,u=s.$searchbar,l="Mig001",d=(e.solution.questions[0],a('\n  \n  <div class="'+l+'-wrapper">\n      <div class="'+l+'-container checkbox js-gdpr-check">\n        <input type="checkbox" class="'+l+"-choice "+l+'-checkmark" name="'+l+'-travelerType" value="'+l+'-BusinessTraveller" id="'+l+"-Business\" data-id='1' data-value='Business'/>\n        <label class=\""+l+'-choice-container" for="'+l+'-Business">\n          '+e.solution.questions[0].name+"\n        </label>\n      </div>\n  </div>"));a(d).appendTo(u),a(".Mig001-checkmark").click((function(){r=a(this).parent().text().trim(),i=a(this).attr("id"),o=a(this).attr("data-id")})),a(c).on("click",(function(n){var a={survey:{id:e.meta.experimentId,totalQuestions:1},question:{id:e.solution.questions[0].id,order:1,text:e.solution.questions[0].name,type:"checkbox",totalChoices:1},choice:{id:i,order:o,text:r},value:{boolean:!0,string:r}};a&&t(a)}))}}),(function(e,t,n){e.exports=n(4)('.Mig001-wrapper {\n  display: flex;\n  margin-top: 7px;\n  margin-bottom: 0px !important;\n}\n.Mig001-wrapper .Mig001-question {\n  font-size: 14px !important;\n  margin-right: 45px;\n  margin-top: 9px;\n}\n.Mig001-wrapper .Mig001-container {\n  margin-bottom: 0px !important;\n}\n.Mig001-wrapper .Mig001-container .Mig001-choice-container {\n  font-size: 14px;\n  position: relative;\n  color: #7d7d7d !important;\n  margin-right: 15px;\n  margin-top: 5px !important;\n}\n.Mig001-wrapper .Mig001-container .Mig001-choice-container .Mig001-choice {\n  font-size: 14px !important;\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n  opacity: 0;\n}\n.Mig001-wrapper .Mig001-container .Mig001-choice-container .Mig001-checkmark {\n  position: absolute;\n  top: 7px;\n  right: 110%;\n  height: 19px;\n  width: 19px;\n  cursor: pointer;\n  border-radius: 50%;\n  border: solid 1px #b2b2b2;\n  background-color: white;\n}\n.Mig001-wrapper .Mig001-container .Mig001-choice-container input:checked + .Mig001-checkmark {\n  background-color: white;\n}\n/* Create the indicator (the dot/circle - hidden when not checked) */\n.Mig001-checkmark:after {\n  content: "";\n  position: absolute;\n  display: none;\n}\n/* Show the indicator (dot/circle) when checked */\n.Mig001-choice-container input:checked + .Mig001-checkmark:after {\n  display: block;\n}\n/* Style the indicator (dot/circle) */\n.Mig001-choice-container .Mig001-checkmark:after {\n  top: 5px;\n  left: 5px;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background: #003A70;\n}\n@media (max-width: 1199px) {\n  .search-btn {\n    order: 1;\n  }\n}\n')}),(function(e,t,n){e.exports=function(e,t){function i(){e.getBrowserState().then((function(e){var t=e&&e.ua&&e.ua.deviceType;t&&m.test(t)&&r()}))}function r(){setTimeout((function(){l(g,(function(){t(),d.val(f)||s("1")}))}),v)}function o(){$("input[name=ratePriceCode][value=NHR_PACKDN], input[name=ratePriceCode][value=PACK_DYN]").parent().find(".track-select-room").click((function(){console.log("Click romano"),e.emitCustomGoal("romanPass:Price-clicked")}))}function a(){"1"===d.val(f)&&(e.emitCustomGoal("romanPass:bounce:not-bounce"),s("2"))}function s(t){d.set(f,t,{domain:e.meta.cookieDomain,path:"/"})}function c(t){l(["window.ga","window.ga.getByName",u],(function(){var n=e.meta.variationIsControl?"control":"variation";ga("gap.send","event","Qubit",t,n,{nonInteraction:!0})}))}function u(){if(window.ga.getByName("gap"))return!0}n(2)(150,[],"nh-hotels.com");var l=n(3),d=n(6),p=e.data,f=(p.thresholdSessionMaximum,p.thresholdPageViewMaximum,"t009-nonBouncer"),m=/computer|tablet/i,v=2e3,g="body";return-1!==window.location.pathname.indexOf("/confirmation")&&(function(){l(["body"],(function(){a(),o(),i()}))})(),{onActivation:function(){c("Banner: Roman Pass")}}}}),(function(e,t,n){e.exports=function(e){function t(e,t,n,r,o,a){B++;var s=1===e,c=5===e,u=t&&""!==t,l=n&&""!==n,d=r&&""!==r,p=o&&""!==o,f='\n      <div class="'+(c?"t009-fivethTile":"t009-tile")+" "+(s?"t009-firstTile":"")+" t009-tile"+B+'">\n        '+(u?'<div class="t009-tileTitle '+(s?"t009-firstTileTitle":"")+'">'+t+"</div>":"")+"\n        "+(l?'<div class="t009-tileText">'+n+"</div>":"")+"\n        "+(d?'<div class="t009-tileLink t009-tileLink'+e+'">'+r+'<span class="t009-tileTextArrow">&#9656;</span></div>':"")+" \n        "+(p?'<div id="t009-button" class="t009-tileButton t009-tileButton'+e+'">'+o+"</div>":"")+"\n      </div>\n    ";return a&&i(document).on("click",".t009-tileButton"+e+", .t009-tileLink"+e,(function(){setTimeout((function(){if(d){window.open(a,"_blank").focus()}else window.location.href=a}),250)})),f}var i=n(1);console.log("[Qubit] BPC Business Travellers - Banner [Conf Page]");var r=e.data,o=r.textColor,a=r.bannerColor,s=r.mainImage,c=r.isTile1,u=r.isTile2,l=r.isTile3,d=r.isTile4,p=r.isTile5,f=r.title1,m=r.text1,v=r.linkText1,g=r.buttonText1,h=r.URL1,b=r.title2,y=r.text2,w=r.linkText2,x=r.buttonText2,_=r.URL2,k=r.title3,T=r.text3,I=r.linkText3,A=r.buttonText3,S=r.URL3,E=r.title4,C=r.text4,R=r.linkText4,j=r.buttonText4,M=r.URL4,N=r.title5,O=r.text5,P=r.linkText5,L=r.buttonText5,q=r.URL5,D="\n    .t009-banner a {\n      color: "+o+";\n      text-decoration: underline;\n    }\n    .t009-banner {\n      height: 150px;\n      position: fixed;\n      bottom: -150px;\n      background-color: "+a+";\n      color: "+o+";\n      z-index: 999;\n      font-family: Gotham;\n    }\n      .t009-bannerContent {\n        position: relative;\n        height: 100%;\n      }\n        .t009-bannerCloseContent {\n          width: 20px;\n          height: 100%;\n          display: inline-block;\n        }\n        .t009-bannerClose {\n          cursor: pointer;\n          position: absolute;\n          top: 6px;\n          right: 10px;\n          color: "+o+";\n        }\n        .t009-preImageTile {\n          display: inline-block;\n          height: 100%;\n          width: auto;\n          max-width: 400px;\n          vertical-align: top;\n        }\n          .t009-preImageTile > img {\n            height: 100%;\n          }\n        .t009-tile {\n          vertical-align: top;\n          width: 240px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n        .t009-firstTile {\n          border-left: none !important;\n        }\n          .t009-tileTitle {\n            height: 45px;\n            margin-top: 0px;\n            font-size: 15px;\n            text-transform: uppercase;\n            //font-weight: bold;\n          }\n          .t009-tileText {\n            margin-bottom: 10px;\n            font-size: 12px;\n            line-height: 16px;\n          }\n          .t009-tileButton {\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n            background-color: white;\n            color: "+a+";\n            padding: 5px 10px;\n            border-radius: 6px;\n            font-weight: bold;\n            width: 80%;\n            text-transform: uppercase;\n          }\n          .t009-firstTileTitle {\n            font-family: Gotham;\n            font-size: 19px;\n            text-transform: uppercase;\n            //letter-spacing: 1px;\n            height: 80px;\n          }\n          .t009-tileLink {\n            text-decoration: underline;\n            cursor: pointer;\n          }\n          .t009-tileTextArrow {\n            text-decoration: none;\n            display: inline-block;\n            margin-left: 5px;\n          }\n        .t009-fivethTile {\n          vertical-align: top;\n          width: 500px;\n          display: inline-block;\n          margin-top: 17px;\n          height: 83%;\n          border-left: 1px solid rgba(255, 255, 255, 0.2);\n          padding-left: 15px;\n          padding-right: 10px;\n        }\n          .t009-fivethTileContent {\n            \n          }\n        \n    .t009-tile5 {\n      display: none !important;\n    }\n    @media screen and (max-width: 1280px) {\n      .t009-tile4 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 1030px) {\n      .t009-tile3 {\n        display: none !important;\n      }\n    }\n    @media screen and (max-width: 780px) {\n      .t009-tile2 {\n        display: none !important;\n      }\n    } \n    @media screen and (max-width: 530px) {\n      .t009-banner {\n        display: none !important;\n      }\n    } \n\n    .t009-showAnimation {\n      -webkit-animation: t009-showAnimation 3s forwards;\n    }\n    @-webkit-keyframes t009-showAnimation {\n      0% {\n        bottom: -150px;\n      }\n      100% {\n        bottom: 0px;\n      }\n    }    \n  ",B=0,H=(function(){return i('\n      <div class="t009-banner">\n        <div class="t009-bannerContent">\n          <div class="t009-preImageTile">\n            <img src="'+s+'" alt=""/>\n          </div>\n          '+(c?t(1,f,m,v,g,h):"")+"\n          "+(u?t(2,b,y,w,x,_):"")+"\n          "+(l?t(3,k,T,I,A,S):"")+"\n          "+(d?t(4,E,C,R,j,M):"")+"\n          "+(p?t(5,N,O,P,L,q):"")+'\n          <div class="t009-bannerCloseContent"><div id="t009-close" class="t009-bannerClose">\u2715</div></div>\n        </div>\n      </div>\n    ')})();H.click((function(t){t&&t.target&&"t009-close"===t.target.id?(H.fadeOut("1000"),e.emitCustomGoal("button-close")):t&&t.target&&"t009-button"===t.target.id&&e.emitCustomGoal("button-clicked")})),(function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.body.appendChild(t)})(D),H.hide(),i("body").append(H),H.fadeIn("1000").addClass("t009-showAnimation")}}),(function(e,t,n){e.exports=n(4)(".t009-firstTile {\n  width: 180px !important;\n}\n")}),(function(e,t,n){e.exports=function(e,t){function i(e,t){var n=e.split("/");return new Date([n[1],n[0],n[2]].join("/"))<=new Date(t)}n(2)(150,[],".nh-hotels.nl");var r=n(3),o=n(1),a=-1!==window.location.pathname.indexOf("/step2-personal-data"),s=(window.location.pathname.indexOf("/step1-rates"),["PT08.MAVIL","PT08.CARVO","PT08.LAGOS","PT08.PORTI","PT08.VILAM"]);a&&r(["window.utag_data.idHotel","window.utag_data.revenue_plus_taxes",".lazy-fout","#room-01-comments",".js-change-copy"],(function(e,n,r){-1!=o.inArray(e,s)&&parseInt(n)>=500&&i(r.text(),"06/30/2021")&&t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] Voucher resorts");var t,i=n(1);parseInt(window.utag_data.revenue_plus_taxes)>=500&&parseInt(window.utag_data.revenue_plus_taxes)<1e3&&(t="50\u20ac credit voucher included for bookings between 500\u20ac and 999\u20ac. Vouchers can be used as a payment method of the 50% of a service price, as a maximum. Please check www.nh-hotels.com/deals/voucher-resorts for conditions of use, and services included"),parseInt(window.utag_data.revenue_plus_taxes)>=1e3&&parseInt(window.utag_data.revenue_plus_taxes)<1500&&(t="100\u20ac credit voucher included for bookings between 1000\u20ac and 1499\u20ac. Vouchers can be used as a payment method of the 50% of a service price, as a maximum. Please check www.nh-hotels.com/deals/voucher-resorts for conditions of use and services included"),parseInt(window.utag_data.revenue_plus_taxes)>=1500&&(t="150\u20ac credit voucher included for bookings of 1.500\u20ac or more. Vouchers can be used as a payment method of the 50% of a service price, as a maximum. Please check www.nh-hotels.com/deals/voucher-resorts for conditions of use and services included"),i("#room-01-comments").closest(".row").hide(),i("#room-01-comments").val(""),i("#GDPR_flag_2").on("change",(function(){this.checked&&i("#room-01-comments").val(t)}))}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],".nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/step2-personal-data")&&i(["window.utag_data.resMealPlan",".list-bullets",".content-your-search"],(function(n){e.state.set("mealPlan",n),t()}))}}),(function(e,t,n){e.exports=function(e){console.log("[Qubit] MealPlan included");var t,i=n(1);switch(e.state.get("mealPlan")){case"14":t="Room Only";break;case"3":t="Breakfast Included";break;case"12":t="Half Board";break;case"10":t="Full Board";break;case"1":t="All Included"}i(".list-bullets li:last p strong").append(", "+t),i(".content-your-search p:last small").append(", "+t)}}),(function(e,t,n){e.exports=function(e,t){n(2)(150,[],"nh-hotels.com");var i=n(3);n(1);-1!==window.location.pathname.indexOf("/booking/step1-rates")&&i([function(){return"B2C"===window.utag_data.businessType},function(){return"logged"===window.utag_data.user.LoginState},"window.utag_data.user.typeNHRewards",".block-aside-rewards-logged",".menuNav-one","window.jQuery"],(function(){t()}))}}),(function(e,t){e.exports=function(e){console.log("[Qubit] Logged ribon with links");var t=$(".block-aside-rewards-logged .title-block-aside").html().split(",")[1].trim(),n=$(".block-aside-rewards-logged .subtitle-block-aside").html().split("\n")[1].trim(),i=window.utag_data.user.typeNHRewards,r=e.data,o=r.hello,a=r.points;$(".block-aside-rewards-logged").parent().hide(),$(".menuNav-one").append('<div class="js-rewards-submenu full-width-section rewards-submenu '+i.toLowerCase()+'-member"><div class="inner"><div class="container info-customer-header"><div class="row"><div class="col-xs-6 col-sm-7"><span class="nh-card"></span><div class="welcome-message"><span class="client-name">'+o+" "+t+'</span><span class="separator">|</span><span class="block-points"><span> NH REWARDS:</span><strong><span class="custom-client">'+i+'</span>&nbsp;<span id="nhUser-points">'+n+"</span> "+a+' (<span id="nhUser-value">'+n+'</span>\u20ac)</strong></span></div></div><div class="col-xs-6 col-sm-5"><nav class="rewards-nav"><ul class="list-inline"><li><a href="/rewards/home" target="" title="My NH Rewards">My NH Rewards</a></li><li><a href="/rewards/movements" target="" title="Points">Points</a></li><li><a href="/rewards/my-bookings" target="" title="Bookings">Bookings</a></li></ul></nav></div></div></div></div></div>'),$(".rewards-nav a").click((function(){e.emitCustomGoal("loggedLinks-clicked")}))}}),(function(e,t,n){e.exports=n(4)(".rewards-submenu .nh-card {\n  width: 64px;\n  height: 33px;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n}\n.block-summary-search.block-search-bar {\n  margin-top: 25px;\n}\n.rewards-submenu {\n  margin-top: 10px !important;\n}\n")}),(function(e,t){e.exports=function(){return{execute:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36"!==window.navigator.userAgent}}}),(function(e,t){e.exports={lastPublished:"2020-10-11T03:13:49.078Z",domains:["nh-hotels.com","localhost","127.0.0.1"],trackingId:"nh_hotels_com",propertyId:4770,propertyUid:"017fnfm",experiments:[{id:93374,iteration_id:553694,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[{id:174345,iteration_id:553694,segment_id:"SG-4770-57efbcdf",and_group:0,include:!1,migrated:!1},{id:174346,iteration_id:553694,segment_id:"SG-4770-8b7fec6c",and_group:0,include:!1,migrated:!1}],qfns:{},goals:[{id:349108,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:349109,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:349110,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:349108,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1218234,variationMasterId:525061,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1218235,variationMasterId:525062,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{525061:{},525062:{execution:"experience-93374-b81984ec7445bba7a84d01e80df69d17/variation-525062.js"}},package_json:"experience-93374-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-93374-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-93374-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:97604,iteration_id:563705,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:369606,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:369607,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:369608,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:369606,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1238938,variationMasterId:552788,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1238939,variationMasterId:552789,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{552788:{},552789:{execution:"experience-97604-b81984ec7445bba7a84d01e80df69d17/variation-552789.js",styles:"experience-97604-b81984ec7445bba7a84d01e80df69d17/variation-552789.css"}},package_json:"experience-97604-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-97604-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-97604-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:100668,iteration_id:405913,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:380704,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:380705,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:380706,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:380704,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:913619,variationMasterId:563377,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:913620,variationMasterId:563378,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{563377:{},563378:{execution:"experience-100668-b81984ec7445bba7a84d01e80df69d17/variation-563378.js"}},package_json:"experience-100668-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-100668-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-100668-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:101459,iteration_id:251345,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["booking/step1-rates"]}]}},schedule:{},segments:[{id:64733,iteration_id:251345,segment_id:"SG-4770-1e0dd7ba",and_group:0,include:!0,migrated:!1},{id:64732,iteration_id:251345,segment_id:"SG-4770-f8ec0021",and_group:0,include:!0,migrated:!1}],qfns:{},goals:[{id:384688,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:384689,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:384690,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:384688,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:590409,variationMasterId:568967,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:590410,variationMasterId:568968,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{568967:{},568968:{execution:"experience-101459-b81984ec7445bba7a84d01e80df69d17/variation-568968.js",styles:"experience-101459-b81984ec7445bba7a84d01e80df69d17/variation-568968.css"}},package_json:"experience-101459-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-101459-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-101459-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:104844,iteration_id:298511,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["step1-rates"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:401443,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:401444,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:401445,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:401446,key:"pageviews.url",op:"in",value:["/step2-personal-data"],primary:!1,type:"string"},{id:401443,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:692184,variationMasterId:594803,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:692185,variationMasterId:594804,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{594803:{},594804:{execution:"experience-104844-b81984ec7445bba7a84d01e80df69d17/variation-594804.js"}},package_json:"experience-104844-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-104844-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-104844-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:105464,iteration_id:553609,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:404618,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:404619,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:404620,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:404618,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1218063,variationMasterId:599020,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1218064,variationMasterId:599021,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{599020:{},599021:{execution:"experience-105464-b81984ec7445bba7a84d01e80df69d17/variation-599021.js"}},package_json:"experience-105464-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-105464-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-105464-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:105728,iteration_id:271973,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/step1-rates"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:405938,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:405939,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:405940,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:405938,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:637622,variationMasterId:601124,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:637623,variationMasterId:601125,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{601124:{},601125:{execution:"experience-105728-b81984ec7445bba7a84d01e80df69d17/variation-601125.js",styles:"experience-105728-b81984ec7445bba7a84d01e80df69d17/variation-601125.css"}},package_json:"experience-105728-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-105728-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-105728-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:106168,iteration_id:271575,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/booking/step2-personal-data-prepaid"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:408149,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:408150,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:408151,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:408149,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:636797,variationMasterId:604344,variationIsControl:!0,trafficAllocationRatio:.05,factorialTrafficAllocationRatio:0x1b02b9306890000,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:636798,variationMasterId:604345,variationIsControl:!1,trafficAllocationRatio:.95,factorialTrafficAllocationRatio:0x20133be97c2b0000,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{604344:{},604345:{execution:"experience-106168-f2aa3b5318fa153fc11b62585e044867/variation-604345.js",styles:"experience-106168-f2aa3b5318fa153fc11b62585e044867/variation-604345.css"}},package_json:"experience-106168-f2aa3b5318fa153fc11b62585e044867/package.json",common:"experience-106168-f2aa3b5318fa153fc11b62585e044867/utils.js",triggers:"experience-106168-f2aa3b5318fa153fc11b62585e044867/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:107271,iteration_id:260948,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:413700,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:413701,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:413702,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:413700,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:613208,variationMasterId:612363,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:613209,variationMasterId:612364,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{612363:{},612364:{execution:"experience-107271-b81984ec7445bba7a84d01e80df69d17/variation-612364.js"}},package_json:"experience-107271-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-107271-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-107271-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:115127,iteration_id:340787,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:443374,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:443375,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:443376,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:443895,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass-bannerClose"],primary:!1,type:"string"},{id:443897,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass:Price-clicked"],primary:!1,type:"string"},{id:443374,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:779847,variationMasterId:664237,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:779848,variationMasterId:664238,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{664237:{},664238:{execution:"experience-115127-97993156aeab587aeef8091868b714a4/variation-664238.js"}},package_json:"experience-115127-97993156aeab587aeef8091868b714a4/package.json",common:"experience-115127-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-115127-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{URL1:"",URL5:"",text5:"Includes a 1-day entrance ticket to the Colosseum and Roman Forum (per person, per stay) + Welcome drink + 10% discount for bar and restaurant + early check-in, late check-out (upon availability)",title1:"Visiting the Colosseum? Skip the line with NH!",title5:"Book our exclusive Roman Pass offer",isTile1:!0,isTile2:!1,isTile3:!1,isTile4:!1,isTile5:!0,linkText5:"",mainImage:"https://cdn.getyourguide.com/img/tour_img-391985-145.jpg",textColor:"white",bannerColor:"#003a70",buttonText1:"",thresholdSessionMaximum:99,thresholdPageViewMaximum:99}},{id:122516,iteration_id:379134,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:469979,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:469980,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:469981,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:469979,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:859142,variationMasterId:713077,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:859143,variationMasterId:713078,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{713077:{},713078:{execution:"experience-122516-b81984ec7445bba7a84d01e80df69d17/variation-713078.js",styles:"experience-122516-b81984ec7445bba7a84d01e80df69d17/variation-713078.css"}},package_json:"experience-122516-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-122516-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-122516-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:124978,iteration_id:396786,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:478805,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:478806,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:478807,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:478805,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:895068,variationMasterId:729339,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:895069,variationMasterId:729340,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{729339:{},729340:{execution:"experience-124978-b81984ec7445bba7a84d01e80df69d17/variation-729340.js",styles:"experience-124978-b81984ec7445bba7a84d01e80df69d17/variation-729340.css"}},package_json:"experience-124978-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-124978-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-124978-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:125784,iteration_id:353722,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:481668,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:481669,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:481670,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:481668,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:806577,variationMasterId:734347,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:806578,variationMasterId:734348,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{734347:{},734348:{execution:"experience-125784-b81984ec7445bba7a84d01e80df69d17/variation-734348.js",styles:"experience-125784-b81984ec7445bba7a84d01e80df69d17/variation-734348.css"}},package_json:"experience-125784-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-125784-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-125784-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:125832,iteration_id:553611,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:481837,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:481838,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:481839,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:481837,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1218067,variationMasterId:734820,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1218068,variationMasterId:734821,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{734820:{},734821:{execution:"experience-125832-b81984ec7445bba7a84d01e80df69d17/variation-734821.js",styles:"experience-125832-b81984ec7445bba7a84d01e80df69d17/variation-734821.css"}},package_json:"experience-125832-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-125832-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-125832-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:128247,iteration_id:469900,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:490374,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:490375,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:490378,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:button:clicked"],primary:!1,type:"string"},{id:530365,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:490374,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1045580,variationMasterId:751202,variationIsControl:!0,trafficAllocationRatio:.05,factorialTrafficAllocationRatio:0x1b02b9306890000,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1045581,variationMasterId:751203,variationIsControl:!1,trafficAllocationRatio:.95,factorialTrafficAllocationRatio:0x20133be97c2b0000,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{751202:{},751203:{execution:"experience-128247-97993156aeab587aeef8091868b714a4/variation-751203.js",styles:"experience-128247-97993156aeab587aeef8091868b714a4/variation-751203.css"}},package_json:"experience-128247-97993156aeab587aeef8091868b714a4/package.json",common:"experience-128247-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-128247-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:129659,iteration_id:335379,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:495388,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:495389,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:495390,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:495388,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:768520,variationMasterId:759195,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:768521,variationMasterId:759196,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{759195:{},759196:{execution:"experience-129659-b81984ec7445bba7a84d01e80df69d17/variation-759196.js"}},package_json:"experience-129659-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-129659-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-129659-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:130180,iteration_id:357758,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:497272,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:497273,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:497274,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:497272,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:814910,variationMasterId:762804,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:814911,variationMasterId:762805,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{762804:{},762805:{execution:"experience-130180-b81984ec7445bba7a84d01e80df69d17/variation-762805.js",styles:"experience-130180-b81984ec7445bba7a84d01e80df69d17/variation-762805.css"}},package_json:"experience-130180-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-130180-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-130180-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:131366,iteration_id:369084,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:501658,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:501659,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:501660,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:501762,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["NHR:clicked"],primary:!1,type:"string"},{id:501658,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:838253,variationMasterId:771897,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:838254,variationMasterId:771898,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{771897:{},771898:{execution:"experience-131366-b81984ec7445bba7a84d01e80df69d17/variation-771898.js",styles:"experience-131366-b81984ec7445bba7a84d01e80df69d17/variation-771898.css"}},package_json:"experience-131366-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-131366-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-131366-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:131434,iteration_id:337148,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:501904,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:501905,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:501906,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:504202,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["NHR-signup:first"],primary:!1,type:"string"},{id:504203,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["NHR-signup:second"],primary:!1,type:"string"},{id:501904,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:772303,variationMasterId:772303,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:772304,variationMasterId:772304,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{772303:{},772304:{execution:"experience-131434-b81984ec7445bba7a84d01e80df69d17/variation-772304.js",styles:"experience-131434-b81984ec7445bba7a84d01e80df69d17/variation-772304.css"}},package_json:"experience-131434-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-131434-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-131434-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:132270,iteration_id:495567,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:505081,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:505082,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:505083,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:505081,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1098358,variationMasterId:777903,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1098359,variationMasterId:777904,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{777903:{},777904:{execution:"experience-132270-b81984ec7445bba7a84d01e80df69d17/variation-777904.js",styles:"experience-132270-b81984ec7445bba7a84d01e80df69d17/variation-777904.css"}},package_json:"experience-132270-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-132270-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-132270-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:132273,iteration_id:558330,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:505090,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:505091,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:505092,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:505090,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1227713,variationMasterId:777934,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1227714,variationMasterId:777935,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{777934:{},777935:{execution:"experience-132273-b81984ec7445bba7a84d01e80df69d17/variation-777935.js",styles:"experience-132273-b81984ec7445bba7a84d01e80df69d17/variation-777935.css"}},package_json:"experience-132273-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-132273-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-132273-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:132301,iteration_id:553402,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/hotels"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:505175,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:505176,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:505177,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:505175,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1217636,variationMasterId:778027,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1217637,variationMasterId:778028,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{778027:{},778028:{execution:"experience-132301-b81984ec7445bba7a84d01e80df69d17/variation-778028.js",styles:"experience-132301-b81984ec7445bba7a84d01e80df69d17/variation-778028.css"}},package_json:"experience-132301-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-132301-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-132301-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:136437,iteration_id:352782,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:521179,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:521180,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:521181,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:521179,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:804646,variationMasterId:804646,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:804647,variationMasterId:804647,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{804646:{},804647:{execution:"experience-136437-b81984ec7445bba7a84d01e80df69d17/variation-804647.js"}},package_json:"experience-136437-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-136437-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-136437-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:136929,iteration_id:536027,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/event"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:522985,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:522986,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:522987,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:522985,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1181951,variationMasterId:808025,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1181952,variationMasterId:808026,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{808025:{},808026:{execution:"experience-136929-b81984ec7445bba7a84d01e80df69d17/variation-808026.js"}},package_json:"experience-136929-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-136929-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-136929-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:137958,iteration_id:357699,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:526735,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:526736,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:526737,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:526735,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:814787,variationMasterId:814522,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:814788,variationMasterId:814523,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{814522:{},814523:{execution:"experience-137958-b81984ec7445bba7a84d01e80df69d17/variation-814523.js"}},package_json:"experience-137958-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-137958-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-137958-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:138765,iteration_id:363776,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/booking/step2-personal-data-prepaid"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:529667,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:529668,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:529669,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:529667,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:827305,variationMasterId:820070,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:827306,variationMasterId:820071,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{820070:{},820071:{execution:"experience-138765-f2aa3b5318fa153fc11b62585e044867/variation-820071.js"}},package_json:"experience-138765-f2aa3b5318fa153fc11b62585e044867/package.json",common:"experience-138765-f2aa3b5318fa153fc11b62585e044867/utils.js",triggers:"experience-138765-f2aa3b5318fa153fc11b62585e044867/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:139513,iteration_id:462765,paused_at:null,solution_id:6,solution_options:{},activation_rules:{technology__device_type:{op:"eq",key:"technology.device_type",value:["computer"]}},schedule:{},segments:[],qfns:{},goals:[{id:532406,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:532407,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["selectRoom:click"],primary:!1,type:"string"},{id:532408,key:"pageviews.url",op:"in",value:["/booking/step2"],primary:!1,type:"string"},{id:532409,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["bounce"],primary:!1,type:"string"},{id:532406,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1030973,variationMasterId:825571,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1030974,variationMasterId:825572,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{825571:{},825572:{execution:"experience-139513-1c61a97388531b2afbafa88c9a93dd7a/variation-825572.js",styles:"experience-139513-1c61a97388531b2afbafa88c9a93dd7a/variation-825572.css"}},package_json:"experience-139513-1c61a97388531b2afbafa88c9a93dd7a/package.json",common:"experience-139513-1c61a97388531b2afbafa88c9a93dd7a/utils.js",triggers:"experience-139513-1c61a97388531b2afbafa88c9a93dd7a/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:139899,iteration_id:553424,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:533766,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:533767,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:533768,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:533766,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1217680,variationMasterId:827834,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1217681,variationMasterId:827835,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{827834:{},827835:{execution:"experience-139899-f2aa3b5318fa153fc11b62585e044867/variation-827835.js",styles:"experience-139899-f2aa3b5318fa153fc11b62585e044867/variation-827835.css"}},package_json:"experience-139899-f2aa3b5318fa153fc11b62585e044867/package.json",common:"experience-139899-f2aa3b5318fa153fc11b62585e044867/utils.js",triggers:"experience-139899-f2aa3b5318fa153fc11b62585e044867/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:142744,iteration_id:553606,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{id:5235,property_id:4770,experiment_id:142744,scheduled_start:"2020-05-21T07:20:45.000Z",publish_actioned:1,scheduled_end:"2020-05-13T07:34:23.000Z",pause_actioned:1,deleted:0,created_at:"2018-10-16T07:26:03.000Z",updated_at:"2020-05-21T07:20:45.000Z"},segments:[],qfns:{},goals:[{id:544310,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:544311,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:544312,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:544310,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1218057,variationMasterId:846092,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1218058,variationMasterId:846093,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{846092:{},846093:{execution:"experience-142744-b81984ec7445bba7a84d01e80df69d17/variation-846093.js"}},package_json:"experience-142744-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-142744-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-142744-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:150650,iteration_id:407186,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:573061,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:573062,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:573063,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:573061,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:916208,variationMasterId:899756,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:916209,variationMasterId:899757,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{899756:{},899757:{execution:"experience-150650-b81984ec7445bba7a84d01e80df69d17/variation-899757.js",styles:"experience-150650-b81984ec7445bba7a84d01e80df69d17/variation-899757.css"}},package_json:"experience-150650-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-150650-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-150650-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:152960,iteration_id:406982,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:581618,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:581619,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:581620,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:581618,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:915797,variationMasterId:915797,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:915798,variationMasterId:915798,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{915797:{},915798:{execution:"experience-152960-b81984ec7445bba7a84d01e80df69d17/variation-915798.js"}},package_json:"experience-152960-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-152960-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-152960-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:156005,iteration_id:469336,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:592825,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:592826,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:592827,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:592825,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1044443,variationMasterId:937220,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1044444,variationMasterId:937221,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{937220:{},937221:{execution:"experience-156005-b81984ec7445bba7a84d01e80df69d17/variation-937221.js",styles:"experience-156005-b81984ec7445bba7a84d01e80df69d17/variation-937221.css"}},package_json:"experience-156005-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-156005-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-156005-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:156459,iteration_id:576334,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:594462,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:594463,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:594464,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:594462,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1265116,variationMasterId:940274,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1265117,variationMasterId:940275,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{940274:{},940275:{execution:"experience-156459-b81984ec7445bba7a84d01e80df69d17/variation-940275.js"}},package_json:"experience-156459-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-156459-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-156459-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:161476,iteration_id:439580,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["booking/step2"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:613352,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:613362,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:613363,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:613352,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:983267,variationMasterId:978401,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:983268,variationMasterId:978402,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{978401:{},978402:{execution:"experience-161476-b81984ec7445bba7a84d01e80df69d17/variation-978402.js",styles:"experience-161476-b81984ec7445bba7a84d01e80df69d17/variation-978402.css"}},package_json:"experience-161476-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-161476-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-161476-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:161477,iteration_id:439950,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["booking/step2"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:613356,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:613360,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:613361,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:613356,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:984024,variationMasterId:978403,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:984025,variationMasterId:978404,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{978403:{},978404:{execution:"experience-161477-b81984ec7445bba7a84d01e80df69d17/variation-978404.js",styles:"experience-161477-b81984ec7445bba7a84d01e80df69d17/variation-978404.css"}},package_json:"experience-161477-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-161477-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-161477-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:161613,iteration_id:568004,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:613873,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:613874,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:613875,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:613873,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1247907,variationMasterId:979526,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1247908,variationMasterId:979527,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{979526:{},979527:{execution:"experience-161613-b81984ec7445bba7a84d01e80df69d17/variation-979527.js"}},package_json:"experience-161613-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-161613-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-161613-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:162276,iteration_id:440010,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["booking/step2"]}]}},schedule:{id:9291,property_id:4770,experiment_id:162276,scheduled_start:null,publish_actioned:0,scheduled_end:null,pause_actioned:0,deleted:0,created_at:"2019-05-06T13:43:51.000Z",updated_at:"2019-05-06T13:43:51.000Z"},segments:[],qfns:{},goals:[{id:616352,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:616353,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:616354,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:616355,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["log-in"],primary:!1,type:"string"},{id:616352,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:984144,variationMasterId:984142,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:984145,variationMasterId:984143,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{984142:{},984143:{execution:"experience-162276-b81984ec7445bba7a84d01e80df69d17/variation-984143.js",styles:"experience-162276-b81984ec7445bba7a84d01e80df69d17/variation-984143.css"}},package_json:"experience-162276-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-162276-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-162276-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:163833,iteration_id:554160,paused_at:null,solution_id:6,solution_options:{},activation_rules:{times_activated_session:{op:"eq",key:"times_activated_session",value:1}},schedule:{},segments:[{id:174673,iteration_id:554160,segment_id:"SG-4770-675e5470",and_group:0,include:!0,migrated:!1}],qfns:{},goals:[{id:622228,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:622229,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:622230,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:622231,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t011:sign-up"],primary:!1,type:"string"},{id:622232,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t011:log-in"],primary:!0,type:"string"},{id:622228,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!1,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1219199,variationMasterId:994863,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1219200,variationMasterId:994864,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{994863:{},994864:{execution:"experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.js",styles:"experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.css"}},package_json:"experience-163833-ebe25a32482a9e6f2be43a096de00644/package.json",common:"experience-163833-ebe25a32482a9e6f2be43a096de00644/utils.js",triggers:"experience-163833-ebe25a32482a9e6f2be43a096de00644/triggers.js"},factorial:243290200817664e4,template_data:{fadeInTime:2,tooltipText:"Don't forget to log in to save on your next booking!",tooltipTitle:"Welcome Back!",fadeInTimeout:2,targetSegments:[]}},{id:163834,iteration_id:554159,paused_at:null,solution_id:6,solution_options:{},activation_rules:{times_activated_session:{op:"eq",key:"times_activated_session",value:1}},schedule:{},segments:[{id:174670,iteration_id:554159,segment_id:"SG-4770-675e5470",and_group:0,include:!1,migrated:!1},{id:174671,iteration_id:554159,segment_id:"SG-4770-9ca66311",and_group:0,include:!0,migrated:!1},{id:174672,iteration_id:554159,segment_id:"SG-4770-a052c53b",and_group:0,include:!0,migrated:!1}],qfns:{},goals:[{id:622233,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:622234,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:622235,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:622236,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t011:sign-up"],primary:!1,type:"string"},{id:622237,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t011:log-in"],primary:!0,type:"string"},{id:622233,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!1,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1219197,variationMasterId:994866,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1219198,variationMasterId:994867,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{994866:{},994867:{execution:"experience-163833-ebe25a32482a9e6f2be43a096de00644/variation-994864.js",styles:"experience-163834-ebe25a32482a9e6f2be43a096de00644/variation-994867.css"}},package_json:"experience-163834-ebe25a32482a9e6f2be43a096de00644/package.json",common:"experience-163834-ebe25a32482a9e6f2be43a096de00644/utils.js",triggers:"experience-163833-ebe25a32482a9e6f2be43a096de00644/triggers.js"},factorial:243290200817664e4,template_data:{fadeInTime:2,tooltipText:"Sign up now to get at least 5% off on all your bookings and start enjoying all the benefits.",tooltipTitle:"Still not a member of NH Rewards?",fadeInTimeout:2,targetSegments:[]}},{id:167922,iteration_id:462264,paused_at:1602148778e3,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:636584,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:636585,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:636586,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:639612,key:"pageviews.url",op:"in",value:["/step2"],primary:!1,type:"string"},{id:636584,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[],variations:[{variationId:1029955,variationMasterId:1023630,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1029956,variationMasterId:1023631,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1023630:{},1023631:{execution:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"}},package_json:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/package.json",common:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/utils.js",triggers:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"},factorial:243290200817664e4,template_data:{hello:"Hello",points:"points"}},{id:170209,iteration_id:485522,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:645170,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:645171,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:645172,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:645170,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1077681,variationMasterId:1041263,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1077682,variationMasterId:1041264,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1041263:{},1041264:{execution:"experience-170209-b81984ec7445bba7a84d01e80df69d17/variation-1041264.js",styles:"experience-170209-b81984ec7445bba7a84d01e80df69d17/variation-1041264.css"}},package_json:"experience-170209-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-170209-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-170209-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:171156,iteration_id:576776,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"ncontains",match_phrase:["/b2b-ccg"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:648696,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:648697,key:"pageviews.url",op:"in",value:["/booking/meetings/confirmation/"],primary:!1,type:"string"},{id:648696,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1266027,variationMasterId:1050068,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1266028,variationMasterId:1050069,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:1,modules:{variations:{1050068:{},1050069:{execution:"experience-171156-b81984ec7445bba7a84d01e80df69d17/variation-1050069.js",styles:"experience-171156-b81984ec7445bba7a84d01e80df69d17/variation-1050069.css"}},package_json:"experience-171156-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-171156-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-171156-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:171842,iteration_id:474657,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["booking/step1-rates"]}]}},schedule:{},segments:[{id:138159,iteration_id:474657,segment_id:"SG-4770-227550ec",and_group:0,include:!0,migrated:!1}],qfns:{},goals:[{id:651226,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:651227,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:651228,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:651226,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1055307,variationMasterId:1055299,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1055308,variationMasterId:1055300,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1055299:{},1055300:{execution:"experience-171842-b81984ec7445bba7a84d01e80df69d17/variation-1055300.js",styles:"experience-171842-b81984ec7445bba7a84d01e80df69d17/variation-1055300.css"}},package_json:"experience-171842-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-171842-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-171842-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:172172,iteration_id:553407,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:652442,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:652442,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1217646,variationMasterId:1058256,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1217647,variationMasterId:1058257,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:1,modules:{variations:{1058256:{},1058257:{execution:"experience-172172-b81984ec7445bba7a84d01e80df69d17/variation-1058257.js",styles:"experience-172172-b81984ec7445bba7a84d01e80df69d17/variation-1058257.css"}},package_json:"experience-172172-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-172172-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-172172-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:172594,iteration_id:553394,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:654009,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:654010,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:654011,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:654009,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1217620,variationMasterId:1061816,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1217621,variationMasterId:1061817,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1061816:{},1061817:{execution:"experience-172594-b81984ec7445bba7a84d01e80df69d17/variation-1061817.js"}},package_json:"experience-172594-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-172594-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-172594-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:175532,iteration_id:553396,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/hotels"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:664871,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:664872,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:664873,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:664871,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1217624,variationMasterId:1084890,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1217625,variationMasterId:1084891,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1084890:{},1084891:{execution:"experience-175532-b81984ec7445bba7a84d01e80df69d17/variation-1084891.js"}},package_json:"experience-175532-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-175532-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-175532-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:188016,iteration_id:514823,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["b2bdata.partyidcompany=1100032256"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:705224,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:705225,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:705226,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:step2:seen"],primary:!1,type:"string"},{id:705227,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:bonce:not-bounce"],primary:!1,type:"string"},{id:705228,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:button:clicked"],primary:!1,type:"string"},{id:705224,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1137730,variationMasterId:1137730,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1137731,variationMasterId:1137731,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1137730:{},1137731:{execution:"experience-188016-97993156aeab587aeef8091868b714a4/variation-1137731.js",styles:"experience-188016-97993156aeab587aeef8091868b714a4/variation-1137731.css"}},package_json:"experience-188016-97993156aeab587aeef8091868b714a4/package.json",common:"experience-188016-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-188016-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:189580,iteration_id:520441,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:711130,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:711131,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:711132,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:711130,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1149462,variationMasterId:1149462,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1149463,variationMasterId:1149463,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1149462:{},1149463:{execution:"experience-189580-b81984ec7445bba7a84d01e80df69d17/variation-1149463.js",styles:"experience-189580-b81984ec7445bba7a84d01e80df69d17/variation-1149463.css"}},package_json:"experience-189580-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-189580-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-189580-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:189594,iteration_id:520699,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:711173,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:711174,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:711175,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:711173,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1149985,variationMasterId:1149496,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1149986,variationMasterId:1149497,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1149496:{},1149497:{execution:"experience-189594-b81984ec7445bba7a84d01e80df69d17/variation-1149497.js",styles:"experience-189594-b81984ec7445bba7a84d01e80df69d17/variation-1149497.css"}},package_json:"experience-189594-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-189594-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-189594-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:190806,iteration_id:526989,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:715591,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:715592,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:715593,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:715594,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass-bannerClose"],primary:!1,type:"string"},{id:715595,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass:Price-clicked"],primary:!1,type:"string"},{id:715591,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1163235,variationMasterId:1158692,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1163236,variationMasterId:1158693,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1158692:{},1158693:{execution:"experience-190806-97993156aeab587aeef8091868b714a4/variation-1158693.js"}},package_json:"experience-190806-97993156aeab587aeef8091868b714a4/package.json",common:"experience-190806-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-190806-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{URL1:"",URL5:"",text2:"Book an NH Rewards rate & save $35 per night and room on destination fee",text3:"",text5:"Book an NH Rewards rate & save $35 per night and room on destination fee",title1:"Now you have one more reasonf to become a NHR Member",title2:"Save even more on your stay in The Big Apple with NH Rewards",title5:"Save even more on your stay in The Big Apple with NH Rewards",isTile1:!1,isTile2:!0,isTile3:!1,isTile4:!1,isTile5:!1,linkText5:"",mainImage:"https://dd6zx4ibq538k.cloudfront.net/static/images/4770/69dacc8c9f14eeb8fe7c7ec8988b4a38_1000_563.jpeg",textColor:"white",bannerColor:"#003a70",buttonText1:"",thresholdSessionMaximum:99,thresholdPageViewMaximum:99}},{id:192868,iteration_id:532395,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:723036,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:723037,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:723038,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:723036,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1174461,variationMasterId:1174395,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1174462,variationMasterId:1174396,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1174395:{},1174396:{execution:"experience-192868-b81984ec7445bba7a84d01e80df69d17/variation-1174396.js"}},package_json:"experience-192868-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-192868-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-192868-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:193054,iteration_id:537891,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:723704,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:723705,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:723706,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:726365,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["learn-more"],primary:!1,type:"string"},{id:723704,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1185929,variationMasterId:1176231,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1185930,variationMasterId:1176232,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1176231:{},1176232:{execution:"experience-193054-b81984ec7445bba7a84d01e80df69d17/variation-1176232.js"}},package_json:"experience-193054-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-193054-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-193054-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:193775,iteration_id:536033,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"contains",match_phrase:["/event"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:726238,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:726239,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:726240,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:726238,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1181965,variationMasterId:1181953,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1181966,variationMasterId:1181954,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1181953:{},1181954:{execution:"experience-193775-b81984ec7445bba7a84d01e80df69d17/variation-1181954.js"}},package_json:"experience-193775-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-193775-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-193775-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:194192,iteration_id:538945,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:727693,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:727694,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:727695,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:727693,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1188139,variationMasterId:1185168,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1188140,variationMasterId:1185169,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1185168:{},1185169:{execution:"experience-194192-b81984ec7445bba7a84d01e80df69d17/variation-1185169.js"}},package_json:"experience-194192-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-194192-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-194192-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:194353,iteration_id:539641,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:728243,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:728244,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:728245,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:728246,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass-bannerClose"],primary:!1,type:"string"},{id:728247,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass:Price-clicked"],primary:!1,type:"string"},{id:728243,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1189611,variationMasterId:1186286,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1189612,variationMasterId:1186287,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1186286:{},1186287:{execution:"experience-194353-97993156aeab587aeef8091868b714a4/variation-1186287.js"}},package_json:"experience-194353-97993156aeab587aeef8091868b714a4/package.json",common:"experience-194353-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-194353-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{URL1:"",URL5:"",text2:"The hotel will soon be relaunched as an Anantara hotel, featuring a unique luxury experience.",text3:"",text5:"Book an NH Rewards rate & save $35 per night and room on destination fee",title1:"Now you have one more reasonf to become a NHR Member",title2:"This hotel is now operated by NH Hotel Group ",title5:"Save even more on your stay in The Big Apple with NH Rewards",isTile1:!1,isTile2:!0,isTile3:!1,isTile4:!1,isTile5:!1,linkText5:"",mainImage:"https://dd6zx4ibq538k.cloudfront.net/static/images/4770/ad7f3b2592cad110dd817b90f805af09_2500_1667.jpeg",textColor:"white",bannerColor:"#b3a258",buttonText1:"",thresholdSessionMaximum:99,thresholdPageViewMaximum:99}},{id:197965,iteration_id:551859,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:740759,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:740760,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:740761,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:740759,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1214513,variationMasterId:1214509,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1214514,variationMasterId:1214510,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1214509:{},1214510:{execution:"experience-197965-b81984ec7445bba7a84d01e80df69d17/variation-1214510.js"}},package_json:"experience-197965-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-197965-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-197965-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:198516,iteration_id:554139,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:742711,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:742712,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:742713,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:742714,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass-bannerClose"],primary:!1,type:"string"},{id:742715,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["romanPass:Price-clicked"],primary:!1,type:"string"},{id:742711,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1219156,variationMasterId:1219156,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1219157,variationMasterId:1219157,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1219156:{},1219157:{execution:"experience-198516-97993156aeab587aeef8091868b714a4/variation-1219157.js"}},package_json:"experience-198516-97993156aeab587aeef8091868b714a4/package.json",common:"experience-198516-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-198516-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{URL1:"",URL5:"https://www.nh-hotels.com/offers/voucher-resorts",text5:"",title1:"GET \u20ac30 IN POINTS FOR YOUR WEEKEND STAYS ",title5:"Plan your next holidays in southern Portugal with an exclusive voucher offer up to EUR 150 to use during your stay",isTile1:!1,isTile2:!1,isTile3:!1,isTile4:!1,isTile5:!0,linkText5:"Click here for more info",mainImage:"https://dd6zx4ibq538k.cloudfront.net/static/images/4770/00d535264a5aaf3952fc77f8bd4c5745_1088_586.jpeg",textColor:"white",bannerColor:"#003a70",buttonText1:"",thresholdSessionMaximum:99,thresholdPageViewMaximum:99}},{id:198566,iteration_id:566730,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:742905,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:742906,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:742907,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:742908,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["mig002:searchAgain:clicked"],primary:!1,type:"string"},{id:742905,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1245212,variationMasterId:1219728,variationIsControl:!0,trafficAllocationRatio:.05,factorialTrafficAllocationRatio:0x1b02b9306890000,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1245213,variationMasterId:1219729,variationIsControl:!1,trafficAllocationRatio:.95,factorialTrafficAllocationRatio:0x20133be97c2b0000,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1219728:{},1219729:{execution:"experience-198566-39d26c3fafc874023140944f4cc0c1f2/variation-1219729.js",styles:"experience-198566-39d26c3fafc874023140944f4cc0c1f2/variation-1219729.css"}},package_json:"experience-198566-39d26c3fafc874023140944f4cc0c1f2/package.json",common:"experience-198566-39d26c3fafc874023140944f4cc0c1f2/utils.js",triggers:"experience-198566-39d26c3fafc874023140944f4cc0c1f2/triggers.js"},factorial:243290200817664e4,template_data:{title:"Your recent searches",recentSearch:"Your recent searches"}},{id:200188,iteration_id:566729,paused_at:null,solution_id:6,solution_options:{},activation_rules:{technology__device_type:{op:"eq",key:"technology.device_type",value:["computer","tablet"]}},schedule:{},segments:[],qfns:{},goals:[{id:748790,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:748791,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:748792,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:748793,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t027:recentsearch:clicked"],primary:!1,type:"string"},{id:748794,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t027:searchCTA:clicked"],primary:!1,type:"string"},{id:748790,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1245210,variationMasterId:1233399,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1245211,variationMasterId:1233400,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1233399:{},1233400:{execution:"experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/variation-1233400.js",styles:"experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/variation-1233400.css"}},package_json:"experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/package.json",common:"experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/utils.js",triggers:"experience-200188-ee46abd1ee25ce552aab4c1117cf0eeb/triggers.js"},factorial:243290200817664e4,template_data:{title:"Your last search"}},{id:200808,iteration_id:563548,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:751185,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:751186,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:751187,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:751185,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1238589,variationMasterId:1238575,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1238590,variationMasterId:1238576,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1238575:{},1238576:{execution:"experience-200808-b81984ec7445bba7a84d01e80df69d17/variation-1238576.js",styles:"experience-200808-b81984ec7445bba7a84d01e80df69d17/variation-1238576.css"}},package_json:"experience-200808-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-200808-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-200808-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:201125,iteration_id:564827,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:752337,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:752338,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:752339,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:step2:seen"],primary:!1,type:"string"},{id:752340,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:bonce:not-bounce"],primary:!1,type:"string"},{id:752341,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["t008:button:clicked"],primary:!1,type:"string"},{id:752337,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1241258,variationMasterId:1241232,variationIsControl:!0,trafficAllocationRatio:.05,factorialTrafficAllocationRatio:0x1b02b9306890000,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1241259,variationMasterId:1241233,variationIsControl:!1,trafficAllocationRatio:.95,factorialTrafficAllocationRatio:0x20133be97c2b0000,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1241232:{},1241233:{execution:"experience-201125-97993156aeab587aeef8091868b714a4/variation-1241233.js",styles:"experience-201125-97993156aeab587aeef8091868b714a4/variation-1241233.css"}},package_json:"experience-201125-97993156aeab587aeef8091868b714a4/package.json",common:"experience-201125-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-201125-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:201180,iteration_id:565006,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:752550,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:752551,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:752552,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:752550,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1241638,variationMasterId:1241638,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1241639,variationMasterId:1241639,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1241638:{},1241639:{execution:"experience-201180-b81984ec7445bba7a84d01e80df69d17/variation-1241639.js",styles:"experience-201180-b81984ec7445bba7a84d01e80df69d17/variation-1241639.css"}},package_json:"experience-201180-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-201180-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-201180-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:201470,iteration_id:566353,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:753601,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:753602,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:753603,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:753604,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["no-bounce"],primary:!1,type:"string"},{id:753601,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1244421,variationMasterId:1244421,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1244422,variationMasterId:1244422,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1244421:{},1244422:{execution:"experience-201470-79cb8ac7094967e4a9773d29c784e9ac/variation-1244422.js",styles:"experience-201470-79cb8ac7094967e4a9773d29c784e9ac/variation-1244422.css"}},package_json:"experience-201470-79cb8ac7094967e4a9773d29c784e9ac/package.json",common:"experience-201470-79cb8ac7094967e4a9773d29c784e9ac/utils.js",triggers:"experience-201470-79cb8ac7094967e4a9773d29c784e9ac/triggers.js"},factorial:243290200817664e4,template_data:{dispoJSON:"//www.nh-hotels.com/images_ns/qubit/noDispo.json",failMessage:"Sorry, we can't find any other options for you :( We recommend changing dates, or searching for an alternative NH hotel in the same destination when available.",waitingMessage:"We are looking for available alternatives for you...",experienceTitle:"There are no rooms available in {{hotelName}} that meet your search criteria",isTOPCheckEnable:!0,MLOS1NightMessage:"Oops :( this hotel has a minimum length of stay of 2 nights for these dates, why not stay an extra day?",TOPSuccessMessage:"But changing the occupation per room (without modifying the total number of people) we've been able to find this option for you",isBBHACheckEnable:!0,isMLOSCheckEnable:!0,BBHASuccessMessage:"We've found these great alternatives for you. Why not book one of these instead?",availabilityEnpoint:"https://www.nh-hotels.com/rest/hotel/{{hotelId}}/availability",randomWeekendMessage:"Are you looking for a weekend getaway and flexible on dates? We've found some alternative weekends for you!",isBBHARibbonNotForced:!0,isRestrictedIPsEnable:!1,flowInformationEnpoint:"https://www.nh-hotels.com/booking/ajax/roomDisplay/getFlowInformation/index.html?fini=18/04/2050&fout=19/04/2050&hotelId={{hotelId}}",isWeekendSituationEnable:!0}},{id:201471,iteration_id:572226,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:753605,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:753606,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:753607,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:753608,key:"pageviews.url",op:"in",value:["booking/step2"],primary:!1,type:"string"},{id:753605,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1256571,variationMasterId:1244427,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1256572,variationMasterId:1244428,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1244427:{},1244428:{execution:"experience-201471-b81984ec7445bba7a84d01e80df69d17/variation-1244428.js"}},package_json:"experience-201471-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-201471-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-201471-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:201771,iteration_id:575551,paused_at:null,solution_id:6,solution_options:{},activation_rules:{page_url:{urls:[{match_type:"ncontains",match_phrase:["cppreas.nh-hotels.com"]}]}},schedule:{},segments:[],qfns:{},goals:[{id:754732,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:754733,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:754734,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:754732,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1263454,variationMasterId:1247602,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1263455,variationMasterId:1247603,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1247602:{},1247603:{execution:"experience-201771-b81984ec7445bba7a84d01e80df69d17/variation-1247603.js",styles:"experience-201771-b81984ec7445bba7a84d01e80df69d17/variation-1247603.css"}},package_json:"experience-201771-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-201771-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-201771-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:201817,iteration_id:570291,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:754926,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:754927,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:754928,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:754926,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1252607,variationMasterId:1248010,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1252608,variationMasterId:1248011,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1248010:{},1248011:{execution:"experience-201817-b81984ec7445bba7a84d01e80df69d17/variation-1248011.js"}},package_json:"experience-201817-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-201817-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-201817-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:202561,iteration_id:571541,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:757728,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:757729,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:757730,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:757728,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1255150,variationMasterId:1255150,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1255151,variationMasterId:1255151,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1255150:{},1255151:{execution:"experience-202561-b81984ec7445bba7a84d01e80df69d17/variation-1255151.js"}},package_json:"experience-202561-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-202561-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-202561-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:203653,iteration_id:576857,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:761691,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:761692,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:761693,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:761691,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1266193,variationMasterId:1266193,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1266194,variationMasterId:1266194,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1266193:{},1266194:{execution:"experience-203653-b81984ec7445bba7a84d01e80df69d17/variation-1266194.js"}},package_json:"experience-203653-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-203653-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-203653-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:203908,iteration_id:578043,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:762586,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:762587,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:762588,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:762586,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1268670,variationMasterId:1268666,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1268671,variationMasterId:1268667,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1268666:{},1268667:{execution:"experience-203908-b81984ec7445bba7a84d01e80df69d17/variation-1268667.js"}},package_json:"experience-203908-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-203908-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-203908-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:203976,iteration_id:578371,paused_at:null,solution_id:5,solution_options:{title:{text:""},submit:{text:"Send feedback"},thankYou:{text:"Thanks for your feedback!"},questions:[{id:"Aqcrw21lDv3",name:"I'm travelling for business",type:"radio",other:{id:"ADD2crw21lDv3",text:"Other",include:!1},choices:[{id:"ylc68ky2Bg8",text:"I'm travelling for business"},{id:"ADfrw21lDgD",text:""}],randomiseAnswerOrder:!1}],description:{text:""}},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:762849,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:762850,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:762851,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:762852,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["Mig001:survey-option:clicked"],primary:!1,type:"string"},{id:762849,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1269335,variationMasterId:1269335,variationIsControl:!0,trafficAllocationRatio:.05,factorialTrafficAllocationRatio:0x1b02b9306890000,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1269336,variationMasterId:1269336,variationIsControl:!1,trafficAllocationRatio:.95,factorialTrafficAllocationRatio:0x20133be97c2b0000,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1269335:{},1269336:{execution:"experience-203976-e7ff02a177ddbefc397a400efce24acf/variation-1269336.js",styles:"experience-203976-e7ff02a177ddbefc397a400efce24acf/variation-1269336.css"}},package_json:"experience-203976-e7ff02a177ddbefc397a400efce24acf/package.json",common:"experience-203976-e7ff02a177ddbefc397a400efce24acf/utils.js",triggers:"experience-203976-e7ff02a177ddbefc397a400efce24acf/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:203977,iteration_id:578375,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[{id:181942,iteration_id:578375,segment_id:"SG-4770-050c47ba",and_group:0,include:!0,migrated:!1}],qfns:{},goals:[{id:762853,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:762854,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:762855,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:762856,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["button-clicked"],primary:!1,type:"string"},{id:762857,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["button-close"],primary:!1,type:"string"},{id:762853,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1269343,variationMasterId:1269343,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1269344,variationMasterId:1269344,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1269343:{},1269344:{execution:"experience-203977-97993156aeab587aeef8091868b714a4/variation-1269344.js",styles:"experience-203977-97993156aeab587aeef8091868b714a4/variation-1269344.css"}},package_json:"experience-203977-97993156aeab587aeef8091868b714a4/package.json",common:"experience-203977-97993156aeab587aeef8091868b714a4/utils.js",triggers:"experience-203977-97993156aeab587aeef8091868b714a4/triggers.js"},factorial:243290200817664e4,template_data:{URL1:"",URL2:"https://www.nh-hotels.biz/bpc/en/web/b2cconfpage/",URL5:"https://www.nh-hotels.biz/bpc/en/web/b2cconfpage/",text2:"Sign up today and enjoy our benefits worldwide",text5:"",title1:"Travelling for business? ",title2:"Save up to 20%. With 10% guaranteed",title4:"",title5:"",isTile1:!0,isTile2:!0,isTile3:!1,isTile4:!1,isTile5:!1,linkText1:"",linkText5:"",mainImage:"https://dd6zx4ibq538k.cloudfront.net/static/images/4770/ebf3153f83a1be852f6cc07ae394b254_500_305.jpeg",textColor:"white",bannerColor:"#003a70",buttonText1:"",buttonText2:"SIGN UP NOW",buttonText5:"SIGN UP NOW",thresholdSessionMaximum:1,thresholdPageViewMaximum:99}},{id:204012,iteration_id:578496,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{id:17157,property_id:4770,experiment_id:204012,scheduled_start:"2020-09-28T11:38:10.000Z",publish_actioned:1,scheduled_end:"2021-06-30T12:30:16.000Z",pause_actioned:0,deleted:0,created_at:"2020-09-28T11:30:19.000Z",updated_at:"2020-09-28T11:38:10.000Z"},segments:[],qfns:{},goals:[{id:763006,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:763007,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:763008,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:763006,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1269592,variationMasterId:1269592,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1269593,variationMasterId:1269593,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1269592:{},1269593:{execution:"experience-204012-b81984ec7445bba7a84d01e80df69d17/variation-1269593.js"}},package_json:"experience-204012-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-204012-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-204012-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:204110,iteration_id:578873,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:763354,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:763355,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:763356,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:763354,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1270378,variationMasterId:1270378,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1270379,variationMasterId:1270379,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1270378:{},1270379:{execution:"experience-204110-b81984ec7445bba7a84d01e80df69d17/variation-1270379.js"}},package_json:"experience-204110-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-204110-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-204110-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:204133,iteration_id:578940,paused_at:160184888e4,solution_id:6,solution_options:{},activation_rules:{technology__browser:{op:"neq",key:"technology.browser",value:["IE@11","IE@10","IE@9","IE@8"],labels:{"IE@8":"IE 8","IE@9":"IE 9","IE@10":"IE 10","IE@11":"IE 11"}}},schedule:{id:17185,property_id:4770,experiment_id:204133,scheduled_start:"2020-09-30T13:11:55.000Z",publish_actioned:1,scheduled_end:"2020-10-04T21:59:31.000Z",pause_actioned:1,deleted:0,created_at:"2020-09-30T13:11:46.000Z",updated_at:"2020-09-30T13:11:55.000Z"},segments:[],qfns:{},goals:[{id:763429,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:763430,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:763431,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:763435,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["log&win-bannerClicked"],primary:!1,type:"string"},{id:763436,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["log&win-bannerClose"],primary:!1,type:"string"},{id:763429,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[],variations:[{variationId:1270516,variationMasterId:1270516,variationIsControl:!0,trafficAllocationRatio:0,factorialTrafficAllocationRatio:0,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1270517,variationMasterId:1270517,variationIsControl:!1,trafficAllocationRatio:1,factorialTrafficAllocationRatio:243290200817664e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1270516:{},1270517:{execution:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"}},package_json:"experience-204133-5dc2c77af26bbab8a6fa7e898938658e/package.json",common:"experience-204133-5dc2c77af26bbab8a6fa7e898938658e/utils.js",triggers:"experience-167922-5dc2c77af26bbab8a6fa7e898938658e/triggers.js"},factorial:243290200817664e4,template_data:{}},{id:204424,iteration_id:580126,paused_at:null,solution_id:6,solution_options:{},activation_rules:{},schedule:{},segments:[],qfns:{},goals:[{id:764549,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"},{id:764550,key:"metrics.revenue_per_visitor",op:"",value:"",primary:!1,type:"none"},{id:764551,key:"metrics.revenue_per_converter",op:"",value:"",primary:!1,type:"none"},{id:764552,key:"pageviews.url",op:"in",value:["/step2"],primary:!1,type:"string"},{id:764556,key:"pageviews.customvalues.uv.events.action",op:"eq",value:["loggedLinks-clicked"],primary:!1,type:"string"},{id:764549,key:"metrics.conversions_per_visitor",op:"",value:"",primary:!0,type:"none"}],legacy_segmentation:[{key:"custom_javascript",type:"code",value:""}],variations:[{variationId:1272981,variationMasterId:1272981,variationIsControl:!0,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!1,options:{dependencies:{}}},{variationId:1272982,variationMasterId:1272982,variationIsControl:!1,trafficAllocationRatio:.5,factorialTrafficAllocationRatio:121645100408832e4,isAdvancedMode:!0,options:{dependencies:{}}}],has_ga_integration:0,modules:{variations:{1272981:{},1272982:{execution:"experience-204424-b81984ec7445bba7a84d01e80df69d17/variation-1272982.js",styles:"experience-204424-b81984ec7445bba7a84d01e80df69d17/variation-1272982.css"}},package_json:"experience-204424-b81984ec7445bba7a84d01e80df69d17/package.json",common:"experience-204424-b81984ec7445bba7a84d01e80df69d17/utils.js",triggers:"experience-204424-b81984ec7445bba7a84d01e80df69d17/triggers.js"},factorial:243290200817664e4,template_data:{hello:"Hello",points:"points"}}],version:"2020-09-28T13:35:35@3a37aab",endpoints:{deliverModules:"//d22rutvoghj3db.cloudfront.net",orca:"//orca.qubitproducts.com/orca",geolocation:"//orca.qubitproducts.com/ns",stash:"//stash.qubitproducts.com",datasets:"//datasets.qubit.com",zonk:"https://zonk.qubit.com",visitorEngine:"//ve.qubit.com",preview:{production:"https://ssg-preview.qubit.com",staging:"https://ssg-preview-staging.qubit.com",development:"https://localhost:3222"},parkour:{development:"https://parkour.local.qubit/parkour.js",staging:"https://s3-eu-west-1.amazonaws.com/qubit-parkour-dev/{branch}/parkour-{locale}.js",production:"https://d2r7uc8e08s26x.cloudfront.net/v4/parkour-{locale}.js"},atom:{development:"http://localhost:8082/query",staging:"https://api-dev.qubit.com//placements/query",production:"https://api.qubit.com/placements/query"},qfn:"https://integrations.qubit.com",aperture:"https://app.qubit.com",visualModeBundle:"https://static.goqubit.com/visual-mode-5cc42a0.js"},joltConfig:"module.exports = {\n  ipBlacklist: [\n    /109\\.70\\.6[45]\\.\\d+/,\n    '138.68.175.177',\n    '139.28.225.107',\n    /149\\.71\\.24[45]\\.\\d+/,\n    /158\\.46\\.1[3458]\\d\\.\\d+/,\n    /168\\.91\\.114\\.\\d+/,\n    /173\\.211\\.(8\\d|10[389]|110|12[56])\\.\\d+/,\n    /176\\.115\\.23[2-5]\\.\\d+/,\n    /176\\.121\\.10[4-7]\\.\\d+/,\n    /176\\.124\\.17[2-5]\\.\\d+/,\n    '178.62.98.252',\n    '178.62.105.32',\n    /178\\.171\\.([12468])\\d{1,2}\\.\\d+/,\n    /179\\.61\\.1\\d\\d\\.\\d+/,\n    /181\\.214\\.208\\.\\d+/,\n    /181\\.214\\.33?\\.\\d+/,\n    /184\\.174\\.\\d+\\.\\d+/,\n    /185\\.123\\.242\\.2\\d\\d/,\n    /185\\.158\\.100\\.\\d+/,\n    '185.166.213.248',\n    /185\\.176\\.22[89]\\.\\d+/,\n    /185\\.190\\.23[69]\\.\\d+/,\n    /191\\.101\\.([89]\\d|1[24]\\d)\\.\\d+/,\n    '191.96.251.240',\n    /193\\.31\\.75\\.\\d+/,\n    '194.153.186.2',\n    '194.36.110.124',\n    /209\\.85\\.238\\.1[4-9]\\d/,\n    /212\\.70\\.14\\.\\d+/,\n    /212\\.80\\.2[02][0-3]\\.\\d+/,\n    /213\\.182\\.20[028]\\.\\d+/,\n    /213\\.184\\.9[235]\\.\\d+/,\n    /216\\.158\\.219\\.\\d+/,\n    /216\\.74\\.(10[1-7]|7[67])\\.\\d+/,\n    '217.126.31.166',\n    /45\\.73\\.177\\.\\d+/,\n    /45\\.82\\.99\\.\\d+/,\n    /78\\.136\\.20[0123]\\.\\d+/,\n    /78\\.136\\.2(4[89]|5\\d)\\.\\d+/,\n    '82.129.45.37',\n    /88\\.214\\.[01]\\.\\d+/,\n    /88\\.218\\.196\\.1\\d+/,\n    /89\\.185\\.7[67]\\.\\d+/,\n    /91\\.132\\.3[678]\\.\\d+/,\n    /91\\.218\\.15[45]\\.\\d+/,\n    /92\\.240\\.207\\.\\d+/  ]\n}",environment:"production",bluePortalUrl:"https://app.qubit.com/static/portal/blue-portal.js",flags:{JOLT:!0,QPROTOCOL_V3:!0,DATA_IMPORT:!0,SOLUTION_ABANDONMENT_RECOVERY:!0,SOLUTION_VISITOR_PULSE:!0,EXPERIENCE_ENGINE:!0,MFS_ADVANCED_MODE:!0,REACT_EXPERIENCES:!0,SEGMENT_DATASETS:!0,EXPERIENCE_ENGINE_6:!0,ABANDONMENT_RECOVERY:!0,PACKAGES:!0,PACKAGES_IN_SSG:!0,QFN:!0,REMOTE_SEGMENT_INDEX:!0,VISUAL_MODE_BUNDLE:!0,STAMP_SYNC:!0,SHOW_JS_ERRORS:!0,LOCALSTORAGE_SYNC:!0,COOKIE_SYNC_METRICS:!0,EXPERIENCES_COOKIE_API:!0,QUBIT_API:!0,VISUAL_MODE:!0,PRE_SCRIPT:!0,ATOM:!0,ATOM_ENABLE_SCHEDULE_VIEW:!0,INCLUDE_LEGACY_ADVANCED_MODULES:!0,INCLUDE_LEGACY_UV_LISTENER:!0,DEFAULT_PAYMENT_URLS:!0},conversions:[{id:5,name:"default travel",events:[{id:5,event:"trPackageTransactionSummary",amount_path:"package.total",dedupe_path:"transaction.id",filter:null}]}],dataLocation:"EU",currency:"EUR",qpNamespace:"nhHotels",propertyVertical:"tr",useMicroAMD:!0,solutionDependencies:[],universalVariableToQp:!0,allowMapQpCustom:!0,bundleId:"2020-09-28T13:35:35@3a37aab@latest@2020-10-11T03:13:49",placements:[]}})])})();var __smartserveFinishTime=(new Date).getTime();